(()=>{var __webpack_modules__={4354:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Headers:()=>a,Request:()=>o,Response:()=>l,default:()=>i,fetch:()=>s});var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}();const s=n.fetch,i=n.fetch.bind(n),a=n.Headers,o=n.Request,l=n.Response},9151:(t,e,r)=>{const n=r(5763),s={};for(const t of Object.keys(n))s[n[t]]=t;const i={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};t.exports=i;for(const t of Object.keys(i)){if(!("channels"in i[t]))throw new Error("missing channels property: "+t);if(!("labels"in i[t]))throw new Error("missing channel labels property: "+t);if(i[t].labels.length!==i[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:r}=i[t];delete i[t].channels,delete i[t].labels,Object.defineProperty(i[t],"channels",{value:e}),Object.defineProperty(i[t],"labels",{value:r})}i.rgb.hsl=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,s=Math.min(e,r,n),i=Math.max(e,r,n),a=i-s;let o,l;i===s?o=0:e===i?o=(r-n)/a:r===i?o=2+(n-e)/a:n===i&&(o=4+(e-r)/a),o=Math.min(60*o,360),o<0&&(o+=360);const c=(s+i)/2;return l=i===s?0:c<=.5?a/(i+s):a/(2-i-s),[o,100*l,100*c]},i.rgb.hsv=function(t){let e,r,n,s,i;const a=t[0]/255,o=t[1]/255,l=t[2]/255,c=Math.max(a,o,l),h=c-Math.min(a,o,l),u=function(t){return(c-t)/6/h+.5};return 0===h?(s=0,i=0):(i=h/c,e=u(a),r=u(o),n=u(l),a===c?s=n-r:o===c?s=1/3+e-n:l===c&&(s=2/3+r-e),s<0?s+=1:s>1&&(s-=1)),[360*s,100*i,100*c]},i.rgb.hwb=function(t){const e=t[0],r=t[1];let n=t[2];const s=i.rgb.hsl(t)[0],a=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[s,100*a,100*n]},i.rgb.cmyk=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,s=Math.min(1-e,1-r,1-n);return[100*((1-e-s)/(1-s)||0),100*((1-r-s)/(1-s)||0),100*((1-n-s)/(1-s)||0),100*s]},i.rgb.keyword=function(t){const e=s[t];if(e)return e;let r,i=1/0;for(const e of Object.keys(n)){const s=n[e],l=(o=s,((a=t)[0]-o[0])**2+(a[1]-o[1])**2+(a[2]-o[2])**2);l<i&&(i=l,r=e)}var a,o;return r},i.keyword.rgb=function(t){return n[t]},i.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;return[100*(.4124*e+.3576*r+.1805*n),100*(.2126*e+.7152*r+.0722*n),100*(.0193*e+.1192*r+.9505*n)]},i.rgb.lab=function(t){const e=i.rgb.xyz(t);let r=e[0],n=e[1],s=e[2];r/=95.047,n/=100,s/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;return[116*n-16,500*(r-n),200*(n-s)]},i.hsl.rgb=function(t){const e=t[0]/360,r=t[1]/100,n=t[2]/100;let s,i,a;if(0===r)return a=255*n,[a,a,a];s=n<.5?n*(1+r):n+r-n*r;const o=2*n-s,l=[0,0,0];for(let t=0;t<3;t++)i=e+1/3*-(t-1),i<0&&i++,i>1&&i--,a=6*i<1?o+6*(s-o)*i:2*i<1?s:3*i<2?o+(s-o)*(2/3-i)*6:o,l[t]=255*a;return l},i.hsl.hsv=function(t){const e=t[0];let r=t[1]/100,n=t[2]/100,s=r;const i=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,s*=i<=1?i:2-i;return[e,100*(0===n?2*s/(i+s):2*r/(n+r)),100*((n+r)/2)]},i.hsv.rgb=function(t){const e=t[0]/60,r=t[1]/100;let n=t[2]/100;const s=Math.floor(e)%6,i=e-Math.floor(e),a=255*n*(1-r),o=255*n*(1-r*i),l=255*n*(1-r*(1-i));switch(n*=255,s){case 0:return[n,l,a];case 1:return[o,n,a];case 2:return[a,n,l];case 3:return[a,o,n];case 4:return[l,a,n];case 5:return[n,a,o]}},i.hsv.hsl=function(t){const e=t[0],r=t[1]/100,n=t[2]/100,s=Math.max(n,.01);let i,a;a=(2-r)*n;const o=(2-r)*s;return i=r*s,i/=o<=1?o:2-o,i=i||0,a/=2,[e,100*i,100*a]},i.hwb.rgb=function(t){const e=t[0]/360;let r=t[1]/100,n=t[2]/100;const s=r+n;let i;s>1&&(r/=s,n/=s);const a=Math.floor(6*e),o=1-n;i=6*e-a,0!=(1&a)&&(i=1-i);const l=r+i*(o-r);let c,h,u;switch(a){default:case 6:case 0:c=o,h=l,u=r;break;case 1:c=l,h=o,u=r;break;case 2:c=r,h=o,u=l;break;case 3:c=r,h=l,u=o;break;case 4:c=l,h=r,u=o;break;case 5:c=o,h=r,u=l}return[255*c,255*h,255*u]},i.cmyk.rgb=function(t){const e=t[0]/100,r=t[1]/100,n=t[2]/100,s=t[3]/100;return[255*(1-Math.min(1,e*(1-s)+s)),255*(1-Math.min(1,r*(1-s)+s)),255*(1-Math.min(1,n*(1-s)+s))]},i.xyz.rgb=function(t){const e=t[0]/100,r=t[1]/100,n=t[2]/100;let s,i,a;return s=3.2406*e+-1.5372*r+-.4986*n,i=-.9689*e+1.8758*r+.0415*n,a=.0557*e+-.204*r+1.057*n,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,s=Math.min(Math.max(0,s),1),i=Math.min(Math.max(0,i),1),a=Math.min(Math.max(0,a),1),[255*s,255*i,255*a]},i.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;return[116*r-16,500*(e-r),200*(r-n)]},i.lab.xyz=function(t){let e,r,n;r=(t[0]+16)/116,e=t[1]/500+r,n=r-t[2]/200;const s=r**3,i=e**3,a=n**3;return r=s>.008856?s:(r-16/116)/7.787,e=i>.008856?i:(e-16/116)/7.787,n=a>.008856?a:(n-16/116)/7.787,e*=95.047,r*=100,n*=108.883,[e,r,n]},i.lab.lch=function(t){const e=t[0],r=t[1],n=t[2];let s;s=360*Math.atan2(n,r)/2/Math.PI,s<0&&(s+=360);return[e,Math.sqrt(r*r+n*n),s]},i.lch.lab=function(t){const e=t[0],r=t[1],n=t[2]/360*2*Math.PI;return[e,r*Math.cos(n),r*Math.sin(n)]},i.rgb.ansi16=function(t,e=null){const[r,n,s]=t;let a=null===e?i.rgb.hsv(t)[2]:e;if(a=Math.round(a/50),0===a)return 30;let o=30+(Math.round(s/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return 2===a&&(o+=60),o},i.hsv.ansi16=function(t){return i.rgb.ansi16(i.hsv.rgb(t),t[2])},i.rgb.ansi256=function(t){const e=t[0],r=t[1],n=t[2];if(e===r&&r===n)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},i.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const r=.5*(1+~~(t>50));return[(1&e)*r*255,(e>>1&1)*r*255,(e>>2&1)*r*255]},i.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},i.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},i.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];3===e[0].length&&(r=r.split("").map((t=>t+t)).join(""));const n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},i.rgb.hcg=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,s=Math.max(Math.max(e,r),n),i=Math.min(Math.min(e,r),n),a=s-i;let o,l;return o=a<1?i/(1-a):0,l=a<=0?0:s===e?(r-n)/a%6:s===r?2+(n-e)/a:4+(e-r)/a,l/=6,l%=1,[360*l,100*a,100*o]},i.hsl.hcg=function(t){const e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r);let s=0;return n<1&&(s=(r-.5*n)/(1-n)),[t[0],100*n,100*s]},i.hsv.hcg=function(t){const e=t[1]/100,r=t[2]/100,n=e*r;let s=0;return n<1&&(s=(r-n)/(1-n)),[t[0],100*n,100*s]},i.hcg.rgb=function(t){const e=t[0]/360,r=t[1]/100,n=t[2]/100;if(0===r)return[255*n,255*n,255*n];const s=[0,0,0],i=e%1*6,a=i%1,o=1-a;let l=0;switch(Math.floor(i)){case 0:s[0]=1,s[1]=a,s[2]=0;break;case 1:s[0]=o,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=a;break;case 3:s[0]=0,s[1]=o,s[2]=1;break;case 4:s[0]=a,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=o}return l=(1-r)*n,[255*(r*s[0]+l),255*(r*s[1]+l),255*(r*s[2]+l)]},i.hcg.hsv=function(t){const e=t[1]/100,r=e+t[2]/100*(1-e);let n=0;return r>0&&(n=e/r),[t[0],100*n,100*r]},i.hcg.hsl=function(t){const e=t[1]/100,r=t[2]/100*(1-e)+.5*e;let n=0;return r>0&&r<.5?n=e/(2*r):r>=.5&&r<1&&(n=e/(2*(1-r))),[t[0],100*n,100*r]},i.hcg.hwb=function(t){const e=t[1]/100,r=e+t[2]/100*(1-e);return[t[0],100*(r-e),100*(1-r)]},i.hwb.hcg=function(t){const e=t[1]/100,r=1-t[2]/100,n=r-e;let s=0;return n<1&&(s=(r-n)/(1-n)),[t[0],100*n,100*s]},i.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},i.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},i.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},i.gray.hsl=function(t){return[0,0,t[0]]},i.gray.hsv=i.gray.hsl,i.gray.hwb=function(t){return[0,100,t[0]]},i.gray.cmyk=function(t){return[0,0,0,t[0]]},i.gray.lab=function(t){return[t[0],0,0]},i.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r},i.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},4701:(t,e,r)=>{const n=r(9151),s=r(1784),i={};Object.keys(n).forEach((t=>{i[t]={},Object.defineProperty(i[t],"channels",{value:n[t].channels}),Object.defineProperty(i[t],"labels",{value:n[t].labels});const e=s(t);Object.keys(e).forEach((r=>{const n=e[r];i[t][r]=function(t){const e=function(...e){const r=e[0];if(null==r)return r;r.length>1&&(e=r);const n=t(e);if("object"==typeof n)for(let t=n.length,e=0;e<t;e++)n[e]=Math.round(n[e]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(n),i[t][r].raw=function(t){const e=function(...e){const r=e[0];return null==r?r:(r.length>1&&(e=r),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(n)}))})),t.exports=i},1784:(t,e,r)=>{const n=r(9151);function s(t){const e=function(){const t={},e=Object.keys(n);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}(),r=[t];for(e[t].distance=0;r.length;){const t=r.pop(),s=Object.keys(n[t]);for(let n=s.length,i=0;i<n;i++){const n=s[i],a=e[n];-1===a.distance&&(a.distance=e[t].distance+1,a.parent=t,r.unshift(n))}}return e}function i(t,e){return function(r){return e(t(r))}}function a(t,e){const r=[e[t].parent,t];let s=n[e[t].parent][t],a=e[t].parent;for(;e[a].parent;)r.unshift(e[a].parent),s=i(n[e[a].parent][a],s),a=e[a].parent;return s.conversion=r,s}t.exports=function(t){const e=s(t),r={},n=Object.keys(e);for(let t=n.length,s=0;s<t;s++){const t=n[s];null!==e[t].parent&&(r[t]=a(t,e))}return r}},5763:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},3774:(t,e,r)=>{var n=r(5763),s=r(6152),i=Object.hasOwnProperty,a=Object.create(null);for(var o in n)i.call(n,o)&&(a[n[o]]=o);var l=t.exports={to:{},get:{}};function c(t,e,r){return Math.min(Math.max(e,t),r)}function h(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}l.get=function(t){var e,r;switch(t.substring(0,3).toLowerCase()){case"hsl":e=l.get.hsl(t),r="hsl";break;case"hwb":e=l.get.hwb(t),r="hwb";break;default:e=l.get.rgb(t),r="rgb"}return e?{model:r,value:e}:null},l.get.rgb=function(t){if(!t)return null;var e,r,s,a=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(s=e[2],e=e[1],r=0;r<3;r++){var o=2*r;a[r]=parseInt(e.slice(o,o+2),16)}s&&(a[3]=parseInt(s,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(s=(e=e[1])[3],r=0;r<3;r++)a[r]=parseInt(e[r]+e[r],16);s&&(a[3]=parseInt(s+s,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(r=0;r<3;r++)a[r]=parseInt(e[r+1],0);e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:i.call(n,e[1])?((a=n[e[1]])[3]=1,a):null:null;for(r=0;r<3;r++)a[r]=Math.round(2.55*parseFloat(e[r+1]));e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}for(r=0;r<3;r++)a[r]=c(a[r],0,255);return a[3]=c(a[3],0,1),a},l.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(r)?1:r,0,1)]}return null},l.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(r)?1:r,0,1)]}return null},l.to.hex=function(){var t=s(arguments);return"#"+h(t[0])+h(t[1])+h(t[2])+(t[3]<1?h(Math.round(255*t[3])):"")},l.to.rgb=function(){var t=s(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},l.to.rgb.percent=function(){var t=s(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"},l.to.hsl=function(){var t=s(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},l.to.hwb=function(){var t=s(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},l.to.keyword=function(t){return a[t.slice(0,3)]}},9406:(t,e,r)=>{const n=r(3774),s=r(4701),i=["keyword","gray","hex"],a={};for(const t of Object.keys(s))a[[...s[t].labels].sort().join("")]=t;const o={};function l(t,e){if(!(this instanceof l))return new l(t,e);if(e&&e in i&&(e=null),e&&!(e in s))throw new Error("Unknown model: "+e);let r,c;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof l)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if("string"==typeof t){const e=n.get(t);if(null===e)throw new Error("Unable to parse color from string: "+t);this.model=e.model,c=s[this.model].channels,this.color=e.value.slice(0,c),this.valpha="number"==typeof e.value[c]?e.value[c]:1}else if(t.length>0){this.model=e||"rgb",c=s[this.model].channels;const r=Array.prototype.slice.call(t,0,c);this.color=d(r,c),this.valpha="number"==typeof t[c]?t[c]:1}else if("number"==typeof t)this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;const e=Object.keys(t);"alpha"in t&&(e.splice(e.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);const n=e.sort().join("");if(!(n in a))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=a[n];const{labels:i}=s[this.model],o=[];for(r=0;r<i.length;r++)o.push(t[i[r]]);this.color=d(o)}if(o[this.model])for(c=s[this.model].channels,r=0;r<c;r++){const t=o[this.model][r];t&&(this.color[r]=t(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}l.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in n.to?this:this.rgb();e=e.round("number"==typeof t?t:1);const r=1===e.valpha?e.color:[...e.color,this.valpha];return n.to[e.model](r)},percentString(t){const e=this.rgb().round("number"==typeof t?t:1),r=1===e.valpha?e.color:[...e.color,this.valpha];return n.to.rgb.percent(r)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=s[this.model],{labels:r}=s[this.model];for(let n=0;n<e;n++)t[r[n]]=this.color[n];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new l([...this.color.map(c(t)),this.valpha],this.model)},alpha(t){return void 0!==t?new l([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:h("rgb",0,u(255)),green:h("rgb",1,u(255)),blue:h("rgb",2,u(255)),hue:h(["hsl","hsv","hsl","hwb","hcg"],0,(t=>(t%360+360)%360)),saturationl:h("hsl",1,u(100)),lightness:h("hsl",2,u(100)),saturationv:h("hsv",1,u(100)),value:h("hsv",2,u(100)),chroma:h("hcg",1,u(100)),gray:h("hcg",2,u(100)),white:h("hwb",1,u(100)),wblack:h("hwb",2,u(100)),cyan:h("cmyk",0,u(100)),magenta:h("cmyk",1,u(100)),yellow:h("cmyk",2,u(100)),black:h("cmyk",3,u(100)),x:h("xyz",0,u(95.047)),y:h("xyz",1,u(100)),z:h("xyz",2,u(108.833)),l:h("lab",0,u(100)),a:h("lab",1),b:h("lab",2),keyword(t){return void 0!==t?new l(t):s[this.model].keyword(this.color)},hex(t){return void 0!==t?new l(t):n.to.hex(this.rgb().round().color)},hexa(t){if(void 0!==t)return new l(t);const e=this.rgb().round().color;let r=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===r.length&&(r="0"+r),n.to.hex(e)+r},rgbNumber(){const t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity(){const t=this.rgb().color,e=[];for(const[r,n]of t.entries()){const t=n/255;e[r]=t<=.04045?t/12.92:((t+.055)/1.055)**2.4}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(2126*t[0]+7152*t[1]+722*t[2])/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return l.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const r=t.rgb(),n=this.rgb(),s=void 0===e?.5:e,i=2*s-1,a=r.alpha()-n.alpha(),o=((i*a==-1?i:(i+a)/(1+i*a))+1)/2,c=1-o;return l.rgb(o*r.red()+c*n.red(),o*r.green()+c*n.green(),o*r.blue()+c*n.blue(),r.alpha()*s+n.alpha()*(1-s))}};for(const t of Object.keys(s)){if(i.includes(t))continue;const{channels:e}=s[t];l.prototype[t]=function(...e){return this.model===t?new l(this):e.length>0?new l(e,t):new l([...(r=s[this.model][t].raw(this.color),Array.isArray(r)?r:[r]),this.valpha],t);var r},l[t]=function(...r){let n=r[0];return"number"==typeof n&&(n=d(r,e)),new l(n,t)}}function c(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}function h(t,e,r){t=Array.isArray(t)?t:[t];for(const n of t)(o[n]||(o[n]=[]))[e]=r;return t=t[0],function(n){let s;return void 0!==n?(r&&(n=r(n)),s=this[t](),s.color[e]=n,s):(s=this[t]().color[e],r&&(s=r(s)),s)}}function u(t){return function(e){return Math.max(0,Math.min(t,e))}}function d(t,e){for(let r=0;r<e;r++)"number"!=typeof t[r]&&(t[r]=0);return t}t.exports=l},6759:t=>{t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},2543:function(module,exports,__webpack_require__){var factory;"undefined"!=typeof navigator&&(factory=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var r,n,s=t.length;for(r=0;r<s;r+=1)for(var i in n=t[r].prototype)Object.prototype.hasOwnProperty.call(n,i)&&(e.prototype[i]=n[i])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=function(){function t(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].pause()},resume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].resume()},setRate:function(t){var e,r=this.audios.length;for(e=0;e<r;e+=1)this.audios[e].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):window.Howl?new window.Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),createTypedArray=function(){function t(t,e){var r,n=0,s=[];switch(t){case"int16":case"uint8c":r=1;break;default:r=1.1}for(n=0;n<e;n+=1)s.push(r);return s}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(e,r){return"float32"===e?new Float32Array(r):"int16"===e?new Int16Array(r):"uint8c"===e?new Uint8ClampedArray(r):t(e,r)}:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){return _typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$6(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=e.length;for(t=0;t<r;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"===_typeof$6(t)&&t.length){var e,r=createSizedArray(t.length),n=t.length;for(e=0;e<n;e+=1)r[e]=Math.abs(t[e]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){_shouldRoundValues=!!t}function bmRnd(t){return _shouldRoundValues?Math.round(t):t}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,r,n){this.type=t,this.currentTime=e,this.totalTime=r,this.direction=n<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,r,n){this.type=t,this.currentLoop=r,this.totalLoops=e,this.direction=n<0?-1:1}function BMSegmentStartEvent(t,e,r){this.type=t,this.firstFrame=e,this.totalFrames=r}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(t,e,r){var n,s,i,a,o,l,c,h;switch(l=r*(1-e),c=r*(1-(o=6*t-(a=Math.floor(6*t)))*e),h=r*(1-(1-o)*e),a%6){case 0:n=r,s=h,i=l;break;case 1:n=c,s=r,i=l;break;case 2:n=l,s=r,i=h;break;case 3:n=l,s=c,i=r;break;case 4:n=h,s=l,i=r;break;case 5:n=r,s=l,i=c}return[n,s,i]}function RGBtoHSV(t,e,r){var n,s=Math.max(t,e,r),i=Math.min(t,e,r),a=s-i,o=0===s?0:a/s,l=s/255;switch(s){case i:n=0;break;case t:n=e-r+a*(e<r?6:0),n/=6*a;break;case e:n=r-t+2*a,n/=6*a;break;case r:n=t-e+4*a,n/=6*a}return[n,o,l]}function addSaturationToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[1]+=e,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[2]+=e,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[0]+=e/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var t,e,r=[];for(t=0;t<256;t+=1)e=t.toString(16),r[t]=1===e.length?"0"+e:e;return function(t,e,n){return t<0&&(t=0),e<0&&(e=0),n<0&&(n=0),"#"+r[t]+r[e]+r[n]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t},getIdPrefix=function(){return idPrefix$1};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){return _typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$5(t)}var dataManager=function(){var t,e,r=1,n=[],s={onmessage:function(){},postMessage:function(e){t({data:e})}},i={postMessage:function(t){s.onmessage({data:t})}};function a(){e||(e=function(e){if(window.Worker&&window.Blob&&getWebWorker()){var r=new Blob(["var _workerSelf = self; self.onmessage = ",e.toString()],{type:"text/javascript"}),n=URL.createObjectURL(r);return new Worker(n)}return t=e,s}((function(t){if(i.dataManager||(i.dataManager=function(){function t(s,i){var a,o,l,c,h,d,p=s.length;for(o=0;o<p;o+=1)if("ks"in(a=s[o])&&!a.completed){if(a.completed=!0,a.hasMask){var f=a.masksProperties;for(c=f.length,l=0;l<c;l+=1)if(f[l].pt.k.i)n(f[l].pt.k);else for(d=f[l].pt.k.length,h=0;h<d;h+=1)f[l].pt.k[h].s&&n(f[l].pt.k[h].s[0]),f[l].pt.k[h].e&&n(f[l].pt.k[h].e[0])}0===a.ty?(a.layers=e(a.refId,i),t(a.layers,i)):4===a.ty?r(a.shapes):5===a.ty&&u(a)}}function e(t,e){var r=function(t,e){for(var r=0,n=e.length;r<n;){if(e[r].id===t)return e[r];r+=1}return null}(t,e);return r?r.layers.__used?JSON.parse(JSON.stringify(r.layers)):(r.layers.__used=!0,r.layers):null}function r(t){var e,s,i;for(e=t.length-1;e>=0;e-=1)if("sh"===t[e].ty)if(t[e].ks.k.i)n(t[e].ks.k);else for(i=t[e].ks.k.length,s=0;s<i;s+=1)t[e].ks.k[s].s&&n(t[e].ks.k[s].s[0]),t[e].ks.k[s].e&&n(t[e].ks.k[s].e[0]);else"gr"===t[e].ty&&r(t[e].it)}function n(t){var e,r=t.i.length;for(e=0;e<r;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function s(t,e){var r=e?e.split("."):[100,100,100];return t[0]>r[0]||!(r[0]>t[0])&&(t[1]>r[1]||!(r[1]>t[1])&&(t[2]>r[2]||!(r[2]>t[2])&&null))}var i,a=function(){var t=[4,4,14];function e(t){var e,r,n,s=t.length;for(e=0;e<s;e+=1)5===t[e].ty&&(n=void 0,n=(r=t[e]).t.d,r.t.d={k:[{s:n,t:0}]})}return function(r){if(s(t,r.v)&&(e(r.layers),r.assets)){var n,i=r.assets.length;for(n=0;n<i;n+=1)r.assets[n].layers&&e(r.assets[n].layers)}}}(),o=(i=[4,7,99],function(t){if(t.chars&&!s(i,t.v)){var e,n=t.chars.length;for(e=0;e<n;e+=1){var a=t.chars[e];a.data&&a.data.shapes&&(r(a.data.shapes),a.data.ip=0,a.data.op=99999,a.data.st=0,a.data.sr=1,a.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},t.chars[e].t||(a.data.shapes.push({ty:"no"}),a.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),l=function(){var t=[5,7,15];function e(t){var e,r,n=t.length;for(e=0;e<n;e+=1)5===t[e].ty&&(r=void 0,"number"==typeof(r=t[e].t.p).a&&(r.a={a:0,k:r.a}),"number"==typeof r.p&&(r.p={a:0,k:r.p}),"number"==typeof r.r&&(r.r={a:0,k:r.r}))}return function(r){if(s(t,r.v)&&(e(r.layers),r.assets)){var n,i=r.assets.length;for(n=0;n<i;n+=1)r.assets[n].layers&&e(r.assets[n].layers)}}}(),c=function(){var t=[4,1,9];function e(t){var r,n,s,i=t.length;for(r=0;r<i;r+=1)if("gr"===t[r].ty)e(t[r].it);else if("fl"===t[r].ty||"st"===t[r].ty)if(t[r].c.k&&t[r].c.k[0].i)for(s=t[r].c.k.length,n=0;n<s;n+=1)t[r].c.k[n].s&&(t[r].c.k[n].s[0]/=255,t[r].c.k[n].s[1]/=255,t[r].c.k[n].s[2]/=255,t[r].c.k[n].s[3]/=255),t[r].c.k[n].e&&(t[r].c.k[n].e[0]/=255,t[r].c.k[n].e[1]/=255,t[r].c.k[n].e[2]/=255,t[r].c.k[n].e[3]/=255);else t[r].c.k[0]/=255,t[r].c.k[1]/=255,t[r].c.k[2]/=255,t[r].c.k[3]/=255}function r(t){var r,n=t.length;for(r=0;r<n;r+=1)4===t[r].ty&&e(t[r].shapes)}return function(e){if(s(t,e.v)&&(r(e.layers),e.assets)){var n,i=e.assets.length;for(n=0;n<i;n+=1)e.assets[n].layers&&r(e.assets[n].layers)}}}(),h=function(){var t=[4,4,18];function e(t){var r,n,s;for(r=t.length-1;r>=0;r-=1)if("sh"===t[r].ty)if(t[r].ks.k.i)t[r].ks.k.c=t[r].closed;else for(s=t[r].ks.k.length,n=0;n<s;n+=1)t[r].ks.k[n].s&&(t[r].ks.k[n].s[0].c=t[r].closed),t[r].ks.k[n].e&&(t[r].ks.k[n].e[0].c=t[r].closed);else"gr"===t[r].ty&&e(t[r].it)}function r(t){var r,n,s,i,a,o,l=t.length;for(n=0;n<l;n+=1){if((r=t[n]).hasMask){var c=r.masksProperties;for(i=c.length,s=0;s<i;s+=1)if(c[s].pt.k.i)c[s].pt.k.c=c[s].cl;else for(o=c[s].pt.k.length,a=0;a<o;a+=1)c[s].pt.k[a].s&&(c[s].pt.k[a].s[0].c=c[s].cl),c[s].pt.k[a].e&&(c[s].pt.k[a].e[0].c=c[s].cl)}4===r.ty&&e(r.shapes)}}return function(e){if(s(t,e.v)&&(r(e.layers),e.assets)){var n,i=e.assets.length;for(n=0;n<i;n+=1)e.assets[n].layers&&r(e.assets[n].layers)}}}();function u(t){0===t.t.a.length&&t.t.p}var d={completeData:function(r){r.__complete||(c(r),a(r),o(r),l(r),h(r),t(r.layers,r.assets),function(r,n){if(r){var s=0,i=r.length;for(s=0;s<i;s+=1)1===r[s].t&&(r[s].data.layers=e(r[s].data.refId,n),t(r[s].data.layers,n))}}(r.chars,r.assets),r.__complete=!0)}};return d.checkColors=c,d.checkChars=o,d.checkPathProperties=l,d.checkShapes=h,d.completeLayers=t,d}()),i.assetLoader||(i.assetLoader=function(){function t(t){var e=t.getResponseHeader("content-type");return e&&"json"===t.responseType&&-1!==e.indexOf("json")||t.response&&"object"===_typeof$5(t.response)?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}return{load:function(e,r,n,s){var i,a=new XMLHttpRequest;try{a.responseType="json"}catch(t){}a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status)i=t(a),n(i);else try{i=t(a),n(i)}catch(t){s&&s(t)}};try{a.open(["G","E","T"].join(""),e,!0)}catch(t){a.open(["G","E","T"].join(""),r+"/"+e,!0)}a.send()}}}()),"loadAnimation"===t.data.type)i.assetLoader.load(t.data.path,t.data.fullPath,(function(e){i.dataManager.completeData(e),i.postMessage({id:t.data.id,payload:e,status:"success"})}),(function(){i.postMessage({id:t.data.id,status:"error"})}));else if("complete"===t.data.type){var e=t.data.animation;i.dataManager.completeData(e),i.postMessage({id:t.data.id,payload:e,status:"success"})}else"loadData"===t.data.type&&i.assetLoader.load(t.data.path,t.data.fullPath,(function(e){i.postMessage({id:t.data.id,payload:e,status:"success"})}),(function(){i.postMessage({id:t.data.id,status:"error"})}))})),e.onmessage=function(t){var e=t.data,r=e.id,s=n[r];n[r]=null,"success"===e.status?s.onComplete(e.payload):s.onError&&s.onError()})}function o(t,e){var s="processId_"+(r+=1);return n[s]={onComplete:t,onError:e},s}return{loadAnimation:function(t,r,n){a();var s=o(r,n);e.postMessage({type:"loadAnimation",path:t,fullPath:window.location.origin+window.location.pathname,id:s})},loadData:function(t,r,n){a();var s=o(r,n);e.postMessage({type:"loadData",path:t,fullPath:window.location.origin+window.location.pathname,id:s})},completeAnimation:function(t,r,n){a();var s=o(r,n);e.postMessage({type:"complete",animation:t,id:s})}}}(),ImagePreloader=function(){var t=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(t,e,r){var n="";if(t.e)n=t.p;else if(e){var s=t.p;-1!==s.indexOf("images/")&&(s=s.split("/")[1]),n=e+s}else n=r,n+=t.u?t.u:"",n+=t.p;return n}function s(t){var e=0,r=setInterval(function(){(t.getBBox().width||e>500)&&(this._imageLoaded(),clearInterval(r)),e+=1}.bind(this),50)}function i(t){var e={assetData:t},r=n(t,this.assetsPath,this.path);return dataManager.loadData(r,function(t){e.img=t,this._footageLoaded()}.bind(this),function(){e.img={},this._footageLoaded()}.bind(this)),e}function a(){this._imageLoaded=e.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=s.bind(this),this.createFootageData=i.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return a.prototype={loadAssets:function(t,e){var r;this.imagesLoadedCb=e;var n=t.length;for(r=0;r<n;r+=1)t[r].layers||(t[r].t&&"seq"!==t[r].t?3===t[r].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(t[r]))):(this.totalImages+=1,this.images.push(this._createImageData(t[r]))))},setAssetsPath:function(t){this.assetsPath=t||""},setPath:function(t){this.path=t||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(t){for(var e=0,r=this.images.length;e<r;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}return null},createImgData:function(e){var r=n(e,this.assetsPath,this.path),s=createTag("img");s.crossOrigin="anonymous",s.addEventListener("load",this._imageLoaded,!1),s.addEventListener("error",function(){i.img=t,this._imageLoaded()}.bind(this),!1),s.src=r;var i={img:s,assetData:e};return i},createImageData:function(e){var r=n(e,this.assetsPath,this.path),s=createNS("image");isSafari?this.testImageLoaded(s):s.addEventListener("load",this._imageLoaded,!1),s.addEventListener("error",function(){i.img=t,this._imageLoaded()}.bind(this),!1),s.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this._elementHelper.append?this._elementHelper.append(s):this._elementHelper.appendChild(s);var i={img:s,assetData:e};return i},imageLoaded:e,footageLoaded:r,setCacheType:function(t,e){"svg"===t?(this._elementHelper=e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},a}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var r=this._cbs[t],n=0;n<r.length;n+=1)r[n](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var r=0,n=this._cbs[t].length;r<n;)this._cbs[t][r]===e&&(this._cbs[t].splice(r,1),r-=1,n-=1),r+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var markerParser=function(){function t(t){for(var e,r=t.split("\r\n"),n={},s=0,i=0;i<r.length;i+=1)2===(e=r[i].split(":")).length&&(n[e[0]]=e[1].trim(),s+=1);if(0===s)throw new Error;return n}return function(e){for(var r=[],n=0;n<e.length;n+=1){var s=e[n],i={time:s.tm,duration:s.dr};try{i.payload=JSON.parse(e[n].cm)}catch(r){try{i.payload=t(e[n].cm)}catch(t){i.payload={name:e[n].cm}}}r.push(i)}return r}}(),ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,r=this.compositions.length;e<r;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),renderers={},registerRenderer=function(t,e){renderers[t]=e};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){return _typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$4(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var r=getRenderer(e);this.renderer=new r(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&"object"!==_typeof$4(e)&&(e=JSON.parse(e));var r={wrapper:t,animationData:e},n=t.attributes;r.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",r.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var s=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";"false"===s?r.loop=!1:"true"===s?r.loop=!0:""!==s&&(r.loop=parseInt(s,10));var i=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:!n.getNamedItem("bm-autoplay")||n.getNamedItem("bm-autoplay").value;r.autoplay="false"!==i,r.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"","false"===(n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),r.path?this.setParams(r):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,r,n=this.animationData.layers,s=n.length,i=t.layers,a=i.length;for(r=0;r<a;r+=1)for(e=0;e<s;){if(n[e].id===i[r].id){n[e]=i[r];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(s=t.assets.length,e=0;e<s;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,e){var r="number"==typeof t?t:void 0,n="number"==typeof e?e:void 0;this.renderer.updateContainerSize(r,n)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,r=0;r<this.markers.length;r+=1)if((e=this.markers[r]).payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,r){if(!r||this.name===r){var n=Number(t);if(isNaN(n)){var s=this.getMarkerData(t);s&&this.goToAndStop(s.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,r){if(!r||this.name===r){var n=Number(t);if(isNaN(n)){var s=this.getMarkerData(t);s&&(s.duration?this.playSegments([s.time,s.time+s.duration],!0):this.goToAndStop(s.time,!0))}else this.goToAndStop(n,e,r);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,r=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(r=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),r&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>e&&(r=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"===_typeof$4(t[0])){var r,n=t.length;for(r=0;r<n;r+=1)this.segments.push(t[r])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var r=t.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),e=this.assetsPath+r}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,r=this.assets.length;e<r;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,r){try{this.renderer.getElementByPath(t).updateDocumentData(e,r)}catch(t){}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var t={},e=[],r=0,n=0,s=0,i=!0,a=!1;function o(t){for(var r=0,s=t.target;r<n;)e[r].animation===s&&(e.splice(r,1),r-=1,n-=1,s.isPaused||h()),r+=1}function l(t,r){if(!t)return null;for(var s=0;s<n;){if(e[s].elem===t&&null!==e[s].elem)return e[s].animation;s+=1}var i=new AnimationItem;return u(i,t),i.setData(t,r),i}function c(){s+=1,f()}function h(){s-=1}function u(t,r){t.addEventListener("destroy",o),t.addEventListener("_active",c),t.addEventListener("_idle",h),e.push({elem:r,animation:t}),n+=1}function d(t){var o,l=t-r;for(o=0;o<n;o+=1)e[o].animation.advanceTime(l);r=t,s&&!a?window.requestAnimationFrame(d):i=!0}function p(t){r=t,window.requestAnimationFrame(d)}function f(){!a&&s&&i&&(window.requestAnimationFrame(p),i=!1)}return t.registerAnimation=l,t.loadAnimation=function(t){var e=new AnimationItem;return u(e,null),e.setParams(t),e},t.setSpeed=function(t,r){var s;for(s=0;s<n;s+=1)e[s].animation.setSpeed(t,r)},t.setDirection=function(t,r){var s;for(s=0;s<n;s+=1)e[s].animation.setDirection(t,r)},t.play=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.play(t)},t.pause=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.pause(t)},t.stop=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.stop(t)},t.togglePause=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.togglePause(t)},t.searchAnimations=function(t,e,r){var n,s=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),i=s.length;for(n=0;n<i;n+=1)r&&s[n].setAttribute("data-bm-type",r),l(s[n],t);if(e&&0===i){r||(r="svg");var a=document.getElementsByTagName("body")[0];a.innerText="";var o=createTag("div");o.style.width="100%",o.style.height="100%",o.setAttribute("data-bm-type",r),a.appendChild(o),l(o,t)}},t.resize=function(){var t;for(t=0;t<n;t+=1)e[t].animation.resize()},t.goToAndStop=function(t,r,s){var i;for(i=0;i<n;i+=1)e[i].animation.goToAndStop(t,r,s)},t.destroy=function(t){var r;for(r=n-1;r>=0;r-=1)e[r].animation.destroy(t)},t.freeze=function(){a=!0},t.unfreeze=function(){a=!1,f()},t.setVolume=function(t,r){var s;for(s=0;s<n;s+=1)e[s].animation.setVolume(t,r)},t.mute=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.mute(t)},t.unmute=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.unmute(t)},t.getRegisteredAnimations=function(){var t,r=e.length,n=[];for(t=0;t<r;t+=1)n.push(e[t].animation);return n},t}(),BezierFactory=function(){var t={getBezierEasing:function(t,r,n,s,i){var a=i||("bez_"+t+"_"+r+"_"+n+"_"+s).replace(/\./g,"p");if(e[a])return e[a];var o=new h([t,r,n,s]);return e[a]=o,o}},e={},r=11,n=1/(r-1),s="function"==typeof Float32Array;function i(t,e){return 1-3*e+3*t}function a(t,e){return 3*e-6*t}function o(t){return 3*t}function l(t,e,r){return((i(e,r)*t+a(e,r))*t+o(e))*t}function c(t,e,r){return 3*i(e,r)*t*t+2*a(e,r)*t+o(e)}function h(t){this._p=t,this._mSampleValues=s?new Float32Array(r):new Array(r),this._precomputed=!1,this.get=this.get.bind(this)}return h.prototype={get:function(t){var e=this._p[0],r=this._p[1],n=this._p[2],s=this._p[3];return this._precomputed||this._precompute(),e===r&&n===s?t:0===t?0:1===t?1:l(this._getTForX(t),r,s)},_precompute:function(){var t=this._p[0],e=this._p[1],r=this._p[2],n=this._p[3];this._precomputed=!0,t===e&&r===n||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],s=0;s<r;++s)this._mSampleValues[s]=l(s*n,t,e)},_getTForX:function(t){for(var e=this._p[0],s=this._p[2],i=this._mSampleValues,a=0,o=1,h=r-1;o!==h&&i[o]<=t;++o)a+=n;var u=a+(t-i[--o])/(i[o+1]-i[o])*n,d=c(u,e,s);return d>=.001?function(t,e,r,n){for(var s=0;s<4;++s){var i=c(e,r,n);if(0===i)return e;e-=(l(e,r,n)-t)/i}return e}(t,u,e,s):0===d?u:function(t,e,r,n,s){var i,a,o=0;do{(i=l(a=e+(r-e)/2,n,s)-t)>0?r=a:e=a}while(Math.abs(i)>1e-7&&++o<10);return a}(t,a,a+n,e,s)}},t}(),pooling={double:function(t){return t.concat(createSizedArray(t.length))}},poolFactory=function(t,e,r){var n=0,s=t,i=createSizedArray(s);return{newElement:function(){return n?i[n-=1]:e()},release:function(t){n===s&&(i=pooling.double(i),s*=2),r&&r(t),i[n]=t,n+=1}}},bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})),segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(t){var e,r=t.lengths.length;for(e=0;e<r;e+=1)bezierLengthPool.release(t.lengths[e]);t.lengths.length=0}));function bezFunction(){var t=Math;function e(t,e,r,n,s,i){var a=t*n+e*s+r*i-s*n-i*t-r*e;return a>-.001&&a<.001}var r=function(t,e,r,n){var s,i,a,o,l,c,h=getDefaultCurveSegments(),u=0,d=[],p=[],f=bezierLengthPool.newElement();for(a=r.length,s=0;s<h;s+=1){for(l=s/(h-1),c=0,i=0;i<a;i+=1)o=bmPow(1-l,3)*t[i]+3*bmPow(1-l,2)*l*r[i]+3*(1-l)*bmPow(l,2)*n[i]+bmPow(l,3)*e[i],d[i]=o,null!==p[i]&&(c+=bmPow(d[i]-p[i],2)),p[i]=d[i];c&&(u+=c=bmSqrt(c)),f.percents[s]=l,f.lengths[s]=u}return f.addedLength=u,f};function n(t){this.segmentLength=0,this.points=new Array(t)}function s(t,e){this.partialLength=t,this.point=e}var i,a=(i={},function(t,r,a,o){var l=(t[0]+"_"+t[1]+"_"+r[0]+"_"+r[1]+"_"+a[0]+"_"+a[1]+"_"+o[0]+"_"+o[1]).replace(/\./g,"p");if(!i[l]){var c,h,u,d,p,f,m,g=getDefaultCurveSegments(),y=0,b=null;2===t.length&&(t[0]!==r[0]||t[1]!==r[1])&&e(t[0],t[1],r[0],r[1],t[0]+a[0],t[1]+a[1])&&e(t[0],t[1],r[0],r[1],r[0]+o[0],r[1]+o[1])&&(g=2);var v=new n(g);for(u=a.length,c=0;c<g;c+=1){for(m=createSizedArray(u),p=c/(g-1),f=0,h=0;h<u;h+=1)d=bmPow(1-p,3)*t[h]+3*bmPow(1-p,2)*p*(t[h]+a[h])+3*(1-p)*bmPow(p,2)*(r[h]+o[h])+bmPow(p,3)*r[h],m[h]=d,null!==b&&(f+=bmPow(m[h]-b[h],2));y+=f=bmSqrt(f),v.points[c]=new s(f,m),b=m}v.segmentLength=y,i[l]=v}return i[l]});function o(t,e){var r=e.percents,n=e.lengths,s=r.length,i=bmFloor((s-1)*t),a=t*e.addedLength,o=0;if(i===s-1||0===i||a===n[i])return r[i];for(var l=n[i]>a?-1:1,c=!0;c;)if(n[i]<=a&&n[i+1]>a?(o=(a-n[i])/(n[i+1]-n[i]),c=!1):i+=l,i<0||i>=s-1){if(i===s-1)return r[i];c=!1}return r[i]+(r[i+1]-r[i])*o}var l=createTypedArray("float32",8);return{getSegmentsLength:function(t){var e,n=segmentsLengthPool.newElement(),s=t.c,i=t.v,a=t.o,o=t.i,l=t._length,c=n.lengths,h=0;for(e=0;e<l-1;e+=1)c[e]=r(i[e],i[e+1],a[e],o[e+1]),h+=c[e].addedLength;return s&&l&&(c[e]=r(i[e],i[0],a[e],o[0]),h+=c[e].addedLength),n.totalLength=h,n},getNewSegment:function(e,r,n,s,i,a,c){i<0?i=0:i>1&&(i=1);var h,u=o(i,c),d=o(a=a>1?1:a,c),p=e.length,f=1-u,m=1-d,g=f*f*f,y=u*f*f*3,b=u*u*f*3,v=u*u*u,w=f*f*m,E=u*f*m+f*u*m+f*f*d,x=u*u*m+f*u*d+u*f*d,k=u*u*d,A=f*m*m,P=u*m*m+f*d*m+f*m*d,_=u*d*m+f*d*d+u*m*d,S=u*d*d,C=m*m*m,T=d*m*m+m*d*m+m*m*d,I=d*d*m+m*d*d+d*m*d,M=d*d*d;for(h=0;h<p;h+=1)l[4*h]=t.round(1e3*(g*e[h]+y*n[h]+b*s[h]+v*r[h]))/1e3,l[4*h+1]=t.round(1e3*(w*e[h]+E*n[h]+x*s[h]+k*r[h]))/1e3,l[4*h+2]=t.round(1e3*(A*e[h]+P*n[h]+_*s[h]+S*r[h]))/1e3,l[4*h+3]=t.round(1e3*(C*e[h]+T*n[h]+I*s[h]+M*r[h]))/1e3;return l},getPointInSegment:function(e,r,n,s,i,a){var l=o(i,a),c=1-l;return[t.round(1e3*(c*c*c*e[0]+(l*c*c+c*l*c+c*c*l)*n[0]+(l*l*c+c*l*l+l*c*l)*s[0]+l*l*l*r[0]))/1e3,t.round(1e3*(c*c*c*e[1]+(l*c*c+c*l*c+c*c*l)*n[1]+(l*l*c+c*l*l+l*c*l)*s[1]+l*l*l*r[1]))/1e3]},buildBezierData:a,pointOnLine2D:e,pointOnLine3D:function(r,n,s,i,a,o,l,c,h){if(0===s&&0===o&&0===h)return e(r,n,i,a,l,c);var u,d=t.sqrt(t.pow(i-r,2)+t.pow(a-n,2)+t.pow(o-s,2)),p=t.sqrt(t.pow(l-r,2)+t.pow(c-n,2)+t.pow(h-s,2)),f=t.sqrt(t.pow(l-i,2)+t.pow(c-a,2)+t.pow(h-o,2));return(u=d>p?d>f?d-p-f:f-p-d:f>p?f-p-d:p-d-f)>-1e-4&&u<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,e){var r,n=this.offsetTime;"multidimensional"===this.propType&&(r=createTypedArray("float32",this.pv.length));for(var s,i,a,o,l,c,h,u,d,p=e.lastIndex,f=p,m=this.keyframes.length-1,g=!0;g;){if(s=this.keyframes[f],i=this.keyframes[f+1],f===m-1&&t>=i.t-n){s.h&&(s=i),p=0;break}if(i.t-n>t){p=f;break}f<m-1?f+=1:(p=0,g=!1)}a=this.keyframesMetadata[f]||{};var y,b=i.t-n,v=s.t-n;if(s.to){a.bezierData||(a.bezierData=bez.buildBezierData(s.s,i.s||s.e,s.to,s.ti));var w=a.bezierData;if(t>=b||t<v){var E=t>=b?w.points.length-1:0;for(l=w.points[E].point.length,o=0;o<l;o+=1)r[o]=w.points[E].point[o]}else{a.__fnct?d=a.__fnct:(d=BezierFactory.getBezierEasing(s.o.x,s.o.y,s.i.x,s.i.y,s.n).get,a.__fnct=d),c=d((t-v)/(b-v));var x,k=w.segmentLength*c,A=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastAddedLength:0;for(u=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastPoint:0,g=!0,h=w.points.length;g;){if(A+=w.points[u].partialLength,0===k||0===c||u===w.points.length-1){for(l=w.points[u].point.length,o=0;o<l;o+=1)r[o]=w.points[u].point[o];break}if(k>=A&&k<A+w.points[u+1].partialLength){for(x=(k-A)/w.points[u+1].partialLength,l=w.points[u].point.length,o=0;o<l;o+=1)r[o]=w.points[u].point[o]+(w.points[u+1].point[o]-w.points[u].point[o])*x;break}u<h-1?u+=1:g=!1}e._lastPoint=u,e._lastAddedLength=A-w.points[u].partialLength,e._lastKeyframeIndex=f}}else{var P,_,S,C,T;if(m=s.s.length,y=i.s||s.e,this.sh&&1!==s.h)t>=b?(r[0]=y[0],r[1]=y[1],r[2]=y[2]):t<=v?(r[0]=s.s[0],r[1]=s.s[1],r[2]=s.s[2]):quaternionToEuler(r,slerp(createQuaternion(s.s),createQuaternion(y),(t-v)/(b-v)));else for(f=0;f<m;f+=1)1!==s.h&&(t>=b?c=1:t<v?c=0:(s.o.x.constructor===Array?(a.__fnct||(a.__fnct=[]),a.__fnct[f]?d=a.__fnct[f]:(P=void 0===s.o.x[f]?s.o.x[0]:s.o.x[f],_=void 0===s.o.y[f]?s.o.y[0]:s.o.y[f],S=void 0===s.i.x[f]?s.i.x[0]:s.i.x[f],C=void 0===s.i.y[f]?s.i.y[0]:s.i.y[f],d=BezierFactory.getBezierEasing(P,_,S,C).get,a.__fnct[f]=d)):a.__fnct?d=a.__fnct:(P=s.o.x,_=s.o.y,S=s.i.x,C=s.i.y,d=BezierFactory.getBezierEasing(P,_,S,C).get,s.keyframeMetadata=d),c=d((t-v)/(b-v)))),y=i.s||s.e,T=1===s.h?s.s[f]:s.s[f]+(y[f]-s.s[f])*c,"multidimensional"===this.propType?r[f]=T:r=T}return e.lastIndex=p,r}function slerp(t,e,r){var n,s,i,a,o,l=[],c=t[0],h=t[1],u=t[2],d=t[3],p=e[0],f=e[1],m=e[2],g=e[3];return(s=c*p+h*f+u*m+d*g)<0&&(s=-s,p=-p,f=-f,m=-m,g=-g),1-s>1e-6?(n=Math.acos(s),i=Math.sin(n),a=Math.sin((1-r)*n)/i,o=Math.sin(r*n)/i):(a=1-r,o=r),l[0]=a*c+o*p,l[1]=a*h+o*f,l[2]=a*u+o*m,l[3]=a*d+o*g,l}function quaternionToEuler(t,e){var r=e[0],n=e[1],s=e[2],i=e[3],a=Math.atan2(2*n*i-2*r*s,1-2*n*n-2*s*s),o=Math.asin(2*r*n+2*s*i),l=Math.atan2(2*r*i-2*n*s,1-2*r*r-2*s*s);t[0]=a/degToRads,t[1]=o/degToRads,t[2]=l/degToRads}function createQuaternion(t){var e=t[0]*degToRads,r=t[1]*degToRads,n=t[2]*degToRads,s=Math.cos(e/2),i=Math.cos(r/2),a=Math.cos(n/2),o=Math.sin(e/2),l=Math.sin(r/2),c=Math.sin(n/2);return[o*l*a+s*i*c,o*i*a+s*l*c,s*l*a-o*i*c,s*i*a-o*l*c]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=r&&t>=r||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var n=this.interpolateValue(t,this._caching);this.pv=n}return this._caching.lastFrame=t,this.pv}function setVValue(t){var e;if("unidimensional"===this.propType)e=t*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var r=0,n=this.v.length;r<n;)e=t[r]*this.mult,mathAbs(this.v[r]-e)>1e-5&&(this.v[r]=e,this._mdf=!0),r+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t;this.lock=!0,this._mdf=this._isFirstFrame;var e=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)r=this.effectsSequence[t](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,e,r,n){this.propType="unidimensional",this.mult=r||1,this.data=e,this.v=r?e.k*r:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,e,r,n){var s;this.propType="multidimensional",this.mult=r||1,this.data=e,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var i=e.k.length;for(this.v=createTypedArray("float32",i),this.pv=createTypedArray("float32",i),this.vel=createTypedArray("float32",i),s=0;s<i;s+=1)this.v[s]=e.k[s]*this.mult,this.pv[s]=e.k[s];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,e,r,n){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=r||1,this.elem=t,this.container=n,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,e,r,n){var s;this.propType="multidimensional";var i,a,o,l,c=e.k.length;for(s=0;s<c-1;s+=1)e.k[s].to&&e.k[s].s&&e.k[s+1]&&e.k[s+1].s&&(i=e.k[s].s,a=e.k[s+1].s,o=e.k[s].to,l=e.k[s].ti,(2===i.length&&(i[0]!==a[0]||i[1]!==a[1])&&bez.pointOnLine2D(i[0],i[1],a[0],a[1],i[0]+o[0],i[1]+o[1])&&bez.pointOnLine2D(i[0],i[1],a[0],a[1],a[0]+l[0],a[1]+l[1])||3===i.length&&(i[0]!==a[0]||i[1]!==a[1]||i[2]!==a[2])&&bez.pointOnLine3D(i[0],i[1],i[2],a[0],a[1],a[2],i[0]+o[0],i[1]+o[1],i[2]+o[2])&&bez.pointOnLine3D(i[0],i[1],i[2],a[0],a[1],a[2],a[0]+l[0],a[1]+l[1],a[2]+l[2]))&&(e.k[s].to=null,e.k[s].ti=null),i[0]===a[0]&&i[1]===a[1]&&0===o[0]&&0===o[1]&&0===l[0]&&0===l[1]&&(2===i.length||i[2]===a[2]&&0===o[2]&&0===l[2])&&(e.k[s].to=null,e.k[s].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=r||1,this.elem=t,this.container=n,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var h=e.k[0].s.length;for(this.v=createTypedArray("float32",h),this.pv=createTypedArray("float32",h),s=0;s<h;s+=1)this.v[s]=initFrame,this.pv[s]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",h)},this.addEffect=addEffect}var PropertyFactory={getProp:function(t,e,r,n,s){var i;if(e.sid&&(e=t.globalData.slotManager.getProp(e)),e.k.length)if("number"==typeof e.k[0])i=new MultiDimensionalProperty(t,e,n,s);else switch(r){case 0:i=new KeyframedValueProperty(t,e,n,s);break;case 1:i=new KeyframedMultidimensionalProperty(t,e,n,s)}else i=new ValueProperty(t,e,n,s);return i.effectsSequence.length&&s.addDynamicProperty(i),i}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var t;this._mdf=!1;var e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)}));function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var r=0;r<e;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,r,n,s){var i;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":i=this.v;break;case"i":i=this.i;break;case"o":i=this.o;break;default:i=[]}(!i[n]||i[n]&&!s)&&(i[n]=pointPool.newElement()),i[n][0]=t,i[n][1]=e},ShapePath.prototype.setTripleAt=function(t,e,r,n,s,i,a,o){this.setXYAt(t,e,"v",a,o),this.setXYAt(r,n,"o",a,o),this.setXYAt(s,i,"i",a,o)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,r=this.o,n=this.i,s=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],n[0][0],n[0][1],r[0][0],r[0][1],0,!1),s=1);var i,a=this._length-1,o=this._length;for(i=s;i<o;i+=1)t.setTripleAt(e[a][0],e[a][1],n[a][0],n[a][1],r[a][0],r[a][1],i,!1),a-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,(function(){return new ShapePath}),(function(t){var e,r=t._length;for(e=0;e<r;e+=1)pointPool.release(t.v[e]),pointPool.release(t.i[e]),pointPool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1})),factory.clone=function(t){var e,r=factory.newElement(),n=void 0===t._length?t.v.length:t._length;for(r.setLength(n),r.c=t.c,e=0;e<n;e+=1)r.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return r},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(t){var e,r=t._length;for(e=0;e<r;e+=1)shapePool.release(t.shapes[e]);t._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=t,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var t=-999999;function e(t,e,r){var n,s,i,a,o,l,c,h,u,d=r.lastIndex,p=this.keyframes;if(t<p[0].t-this.offsetTime)n=p[0].s[0],i=!0,d=0;else if(t>=p[p.length-1].t-this.offsetTime)n=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],i=!0;else{for(var f,m,g,y=d,b=p.length-1,v=!0;v&&(f=p[y],!((m=p[y+1]).t-this.offsetTime>t));)y<b-1?y+=1:v=!1;if(g=this.keyframesMetadata[y]||{},d=y,!(i=1===f.h)){if(t>=m.t-this.offsetTime)h=1;else if(t<f.t-this.offsetTime)h=0;else{var w;g.__fnct?w=g.__fnct:(w=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,g.__fnct=w),h=w((t-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}s=m.s?m.s[0]:f.e[0]}n=f.s[0]}for(l=e._length,c=n.i[0].length,r.lastIndex=d,a=0;a<l;a+=1)for(o=0;o<c;o+=1)u=i?n.i[a][o]:n.i[a][o]+(s.i[a][o]-n.i[a][o])*h,e.i[a][o]=u,u=i?n.o[a][o]:n.o[a][o]+(s.o[a][o]-n.o[a][o])*h,e.o[a][o]=u,u=i?n.v[a][o]:n.v[a][o]+(s.v[a][o]-n.v[a][o])*h,e.v[a][o]=u}function r(){var e=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime,s=this._caching.lastFrame;return s!==t&&(s<r&&e<r||s>n&&e>n)||(this._caching.lastIndex=s<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function n(){this.paths=this.localShapeCollection}function s(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var r,n=t._length;for(r=0;r<n;r+=1)if(t.v[r][0]!==e.v[r][0]||t.v[r][1]!==e.v[r][1]||t.o[r][0]!==e.o[r][0]||t.o[r][1]!==e.o[r][1]||t.i[r][0]!==e.i[r][0]||t.i[r][1]!==e.i[r][1])return!1;return!0})(this.v,t)||(this.v=shapePool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t,e;this.lock=!0,this._mdf=!1,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var r=this.effectsSequence.length;for(e=0;e<r;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function a(t,e,r){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var s=3===r?e.pt.k:e.ks.k;this.v=shapePool.clone(s),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function o(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function l(e,s,i){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===i?s.pt.k:s.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var a=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,a),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=n,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[r.bind(this)]}a.prototype.interpolateShape=e,a.prototype.getValue=i,a.prototype.setVValue=s,a.prototype.addEffect=o,l.prototype.getValue=i,l.prototype.interpolateShape=e,l.prototype.setVValue=s,l.prototype.addEffect=o;var c=function(){var t=roundCorner;function e(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],r=this.p.v[1],n=this.s.v[0]/2,s=this.s.v[1]/2,i=3!==this.d,a=this.v;a.v[0][0]=e,a.v[0][1]=r-s,a.v[1][0]=i?e+n:e-n,a.v[1][1]=r,a.v[2][0]=e,a.v[2][1]=r+s,a.v[3][0]=i?e-n:e+n,a.v[3][1]=r,a.i[0][0]=i?e-n*t:e+n*t,a.i[0][1]=r-s,a.i[1][0]=i?e+n:e-n,a.i[1][1]=r-s*t,a.i[2][0]=i?e+n*t:e-n*t,a.i[2][1]=r+s,a.i[3][0]=i?e-n:e+n,a.i[3][1]=r+s*t,a.o[0][0]=i?e+n*t:e-n*t,a.o[0][1]=r-s,a.o[1][0]=i?e+n:e-n,a.o[1][1]=r+s*t,a.o[2][0]=i?e-n*t:e+n*t,a.o[2][1]=r+s,a.o[3][0]=i?e-n:e+n,a.o[3][1]=r-s*t}},extendPrototype([DynamicPropertyContainer],e),e}(),h=function(){function t(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,r,n,s=2*Math.floor(this.pt.v),i=2*Math.PI/s,a=!0,o=this.or.v,l=this.ir.v,c=this.os.v,h=this.is.v,u=2*Math.PI*o/(2*s),d=2*Math.PI*l/(2*s),p=-Math.PI/2;p+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<s;t+=1){r=a?c:h,n=a?u:d;var m=(e=a?o:l)*Math.cos(p),g=e*Math.sin(p),y=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),b=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-y*n*r*f,g-b*n*r*f,m+y*n*r*f,g+b*n*r*f,t,!0),a=!a,p+=i*f}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),r=2*Math.PI/e,n=this.or.v,s=this.os.v,i=2*Math.PI*n/(4*e),a=.5*-Math.PI,o=3===this.data.d?-1:1;for(a+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var l=n*Math.cos(a),c=n*Math.sin(a),h=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),u=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-h*i*s*o,c-u*i*s*o,l+h*i*s*o,c+u*i*s*o,t,!0),a+=r*o}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),u=function(){function t(t,e){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],r=this.s.v[0]/2,n=this.s.v[1]/2,s=bmMin(r,n,this.r.v),i=s*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+r,e-n+s,t+r,e-n+s,t+r,e-n+i,0,!0),this.v.setTripleAt(t+r,e+n-s,t+r,e+n-i,t+r,e+n-s,1,!0),0!==s?(this.v.setTripleAt(t+r-s,e+n,t+r-s,e+n,t+r-i,e+n,2,!0),this.v.setTripleAt(t-r+s,e+n,t-r+i,e+n,t-r+s,e+n,3,!0),this.v.setTripleAt(t-r,e+n-s,t-r,e+n-s,t-r,e+n-i,4,!0),this.v.setTripleAt(t-r,e-n+s,t-r,e-n+i,t-r,e-n+s,5,!0),this.v.setTripleAt(t-r+s,e-n,t-r+s,e-n,t-r+i,e-n,6,!0),this.v.setTripleAt(t+r-s,e-n,t+r-i,e-n,t+r-s,e-n,7,!0)):(this.v.setTripleAt(t-r,e+n,t-r+i,e+n,t-r,e+n,2),this.v.setTripleAt(t-r,e-n,t-r,e-n+i,t-r,e-n,3))):(this.v.setTripleAt(t+r,e-n+s,t+r,e-n+i,t+r,e-n+s,0,!0),0!==s?(this.v.setTripleAt(t+r-s,e-n,t+r-s,e-n,t+r-i,e-n,1,!0),this.v.setTripleAt(t-r+s,e-n,t-r+i,e-n,t-r+s,e-n,2,!0),this.v.setTripleAt(t-r,e-n+s,t-r,e-n+s,t-r,e-n+i,3,!0),this.v.setTripleAt(t-r,e+n-s,t-r,e+n-i,t-r,e+n-s,4,!0),this.v.setTripleAt(t-r+s,e+n,t-r+s,e+n,t-r+i,e+n,5,!0),this.v.setTripleAt(t+r-s,e+n,t+r-i,e+n,t+r-s,e+n,6,!0),this.v.setTripleAt(t+r,e+n-s,t+r,e+n-s,t+r,e+n-i,7,!0)):(this.v.setTripleAt(t-r,e-n,t-r+i,e-n,t-r,e-n,1,!0),this.v.setTripleAt(t-r,e+n,t-r,e+n-i,t-r,e+n,2,!0),this.v.setTripleAt(t+r,e+n,t+r-i,e+n,t+r,e+n,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],t),t}(),d={getShapeProp:function(t,e,r){var n;return 3===r||4===r?n=(3===r?e.pt:e.ks).k.length?new l(t,e,r):new a(t,e,r):5===r?n=new u(t,e):6===r?n=new c(t,e):7===r&&(n=new h(t,e)),n.k&&t.addDynamicProperty(n),n},getConstructorFunction:function(){return a},getKeyframedConstructorFunction:function(){return l}};return d}(),Matrix=function(){var t=Math.cos,e=Math.sin,r=Math.tan,n=Math.round;function s(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function i(r){if(0===r)return this;var n=t(r),s=e(r);return this._t(n,-s,0,0,s,n,0,0,0,0,1,0,0,0,0,1)}function a(r){if(0===r)return this;var n=t(r),s=e(r);return this._t(1,0,0,0,0,n,-s,0,0,s,n,0,0,0,0,1)}function o(r){if(0===r)return this;var n=t(r),s=e(r);return this._t(n,0,s,0,0,1,0,0,-s,0,n,0,0,0,0,1)}function l(r){if(0===r)return this;var n=t(r),s=e(r);return this._t(n,-s,0,0,s,n,0,0,0,0,1,0,0,0,0,1)}function c(t,e){return this._t(1,e,t,1,0,0)}function h(t,e){return this.shear(r(t),r(e))}function u(n,s){var i=t(s),a=e(s);return this._t(i,a,0,0,-a,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(n),1,0,0,0,0,1,0,0,0,0,1)._t(i,-a,0,0,a,i,0,0,0,0,1,0,0,0,0,1)}function d(t,e,r){return r||0===r||(r=1),1===t&&1===e&&1===r?this:this._t(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1)}function p(t,e,r,n,s,i,a,o,l,c,h,u,d,p,f,m){return this.props[0]=t,this.props[1]=e,this.props[2]=r,this.props[3]=n,this.props[4]=s,this.props[5]=i,this.props[6]=a,this.props[7]=o,this.props[8]=l,this.props[9]=c,this.props[10]=h,this.props[11]=u,this.props[12]=d,this.props[13]=p,this.props[14]=f,this.props[15]=m,this}function f(t,e,r){return r=r||0,0!==t||0!==e||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,r,1):this}function m(t,e,r,n,s,i,a,o,l,c,h,u,d,p,f,m){var g=this.props;if(1===t&&0===e&&0===r&&0===n&&0===s&&1===i&&0===a&&0===o&&0===l&&0===c&&1===h&&0===u)return g[12]=g[12]*t+g[15]*d,g[13]=g[13]*i+g[15]*p,g[14]=g[14]*h+g[15]*f,g[15]*=m,this._identityCalculated=!1,this;var y=g[0],b=g[1],v=g[2],w=g[3],E=g[4],x=g[5],k=g[6],A=g[7],P=g[8],_=g[9],S=g[10],C=g[11],T=g[12],I=g[13],M=g[14],O=g[15];return g[0]=y*t+b*s+v*l+w*d,g[1]=y*e+b*i+v*c+w*p,g[2]=y*r+b*a+v*h+w*f,g[3]=y*n+b*o+v*u+w*m,g[4]=E*t+x*s+k*l+A*d,g[5]=E*e+x*i+k*c+A*p,g[6]=E*r+x*a+k*h+A*f,g[7]=E*n+x*o+k*u+A*m,g[8]=P*t+_*s+S*l+C*d,g[9]=P*e+_*i+S*c+C*p,g[10]=P*r+_*a+S*h+C*f,g[11]=P*n+_*o+S*u+C*m,g[12]=T*t+I*s+M*l+O*d,g[13]=T*e+I*i+M*c+O*p,g[14]=T*r+I*a+M*h+O*f,g[15]=T*n+I*o+M*u+O*m,this._identityCalculated=!1,this}function g(t){var e=t.props;return this.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function y(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function b(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function v(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e];return t}function w(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function E(t,e,r){return{x:t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}}function x(t,e,r){return t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12]}function k(t,e,r){return t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13]}function A(t,e,r){return t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}function P(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,r=-this.props[1]/t,n=-this.props[4]/t,s=this.props[0]/t,i=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,a=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,o=new Matrix;return o.props[0]=e,o.props[1]=r,o.props[4]=n,o.props[5]=s,o.props[12]=i,o.props[13]=a,o}function _(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function S(t){var e,r=t.length,n=[];for(e=0;e<r;e+=1)n[e]=_(t[e]);return n}function C(t,e,r){var n=createTypedArray("float32",6);if(this.isIdentity())n[0]=t[0],n[1]=t[1],n[2]=e[0],n[3]=e[1],n[4]=r[0],n[5]=r[1];else{var s=this.props[0],i=this.props[1],a=this.props[4],o=this.props[5],l=this.props[12],c=this.props[13];n[0]=t[0]*s+t[1]*a+l,n[1]=t[0]*i+t[1]*o+c,n[2]=e[0]*s+e[1]*a+l,n[3]=e[0]*i+e[1]*o+c,n[4]=r[0]*s+r[1]*a+l,n[5]=r[0]*i+r[1]*o+c}return n}function T(t,e,r){return this.isIdentity()?[t,e,r]:[t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]]}function I(t,e){if(this.isIdentity())return t+","+e;var r=this.props;return Math.round(100*(t*r[0]+e*r[4]+r[12]))/100+","+Math.round(100*(t*r[1]+e*r[5]+r[13]))/100}function M(){for(var t=0,e=this.props,r="matrix3d(";t<16;)r+=n(1e4*e[t])/1e4,r+=15===t?")":",",t+=1;return r}function O(t){return t<1e-6&&t>0||t>-1e-6&&t<0?n(1e4*t)/1e4:t}function D(){var t=this.props;return"matrix("+O(t[0])+","+O(t[1])+","+O(t[4])+","+O(t[5])+","+O(t[12])+","+O(t[13])+")"}return function(){this.reset=s,this.rotate=i,this.rotateX=a,this.rotateY=o,this.rotateZ=l,this.skew=h,this.skewFromAxis=u,this.shear=c,this.scale=d,this.setTransform=p,this.translate=f,this.transform=m,this.multiply=g,this.applyToPoint=E,this.applyToX=x,this.applyToY=k,this.applyToZ=A,this.applyToPointArray=T,this.applyToTriplePoints=C,this.applyToPointStringified=I,this.toCSS=M,this.to2dCSS=D,this.clone=v,this.cloneFromProps=w,this.equals=b,this.inversePoints=S,this.inversePoint=_,this.getInverseMatrix=P,this._t=this.transform,this.isIdentity=y,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){return _typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$3(t)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(t){setLocationHref(t)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),r=0;r<e.length;r+=1){var n=e[r].split("=");if(decodeURIComponent(n[0])==t)return decodeURIComponent(n[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"!==_typeof$3(exports)&&__webpack_require__.amdO}catch(t){}var ShapeModifiers=function(){var t={},e={};return t.registerModifier=function(t,r){e[t]||(e[t]=r)},t.getModifier=function(t,r,n){return new e[t](r,n)},t}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,r,n,s){var i=[];e<=1?i.push({s:t,e}):t>=1?i.push({s:t-1,e:e-1}):(i.push({s:t,e:1}),i.push({s:0,e:e-1}));var a,o,l=[],c=i.length;for(a=0;a<c;a+=1){var h,u;(o=i[a]).e*s<n||o.s*s>n+r||(h=o.s*s<=n?0:(o.s*s-n)/r,u=o.e*s>=n+r?1:(o.e*s-n)/r,l.push([h,u]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(t){var e,r=t.length;for(e=0;e<r;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,r,n,s;if(this._mdf||t){var i=this.o.v%360/360;if(i<0&&(i+=1),(e=this.s.v>1?1+i:this.s.v<0?0+i:this.s.v+i)>(r=this.e.v>1?1+i:this.e.v<0?0+i:this.e.v+i)){var a=e;e=r,r=a}e=1e-4*Math.round(1e4*e),r=1e-4*Math.round(1e4*r),this.sValue=e,this.eValue=r}else e=this.sValue,r=this.eValue;var o,l,c,h,u,d=this.shapes.length,p=0;if(r===e)for(s=0;s<d;s+=1)this.shapes[s].localShapeCollection.releaseShapes(),this.shapes[s].shape._mdf=!0,this.shapes[s].shape.paths=this.shapes[s].localShapeCollection,this._mdf&&(this.shapes[s].pathsData.length=0);else if(1===r&&0===e||0===r&&1===e){if(this._mdf)for(s=0;s<d;s+=1)this.shapes[s].pathsData.length=0,this.shapes[s].shape._mdf=!0}else{var f,m,g=[];for(s=0;s<d;s+=1)if((f=this.shapes[s]).shape._mdf||this._mdf||t||2===this.m){if(l=(n=f.shape.paths)._length,u=0,!f.shape._mdf&&f.pathsData.length)u=f.totalShapeLength;else{for(c=this.releasePathsData(f.pathsData),o=0;o<l;o+=1)h=bez.getSegmentsLength(n.shapes[o]),c.push(h),u+=h.totalLength;f.totalShapeLength=u,f.pathsData=c}p+=u,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var y,b=e,v=r,w=0;for(s=d-1;s>=0;s-=1)if((f=this.shapes[s]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&d>1?(y=this.calculateShapeEdges(e,r,f.totalShapeLength,w,p),w+=f.totalShapeLength):y=[[b,v]],l=y.length,o=0;o<l;o+=1){b=y[o][0],v=y[o][1],g.length=0,v<=1?g.push({s:f.totalShapeLength*b,e:f.totalShapeLength*v}):b>=1?g.push({s:f.totalShapeLength*(b-1),e:f.totalShapeLength*(v-1)}):(g.push({s:f.totalShapeLength*b,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(v-1)}));var E=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var x=E.pop();this.addPaths(E,m),E=this.addShapes(f,g[1],x)}else this.addPaths(E,m),E=this.addShapes(f,g[1]);this.addPaths(E,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)e.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,e,r,n,s,i,a){s.setXYAt(e[0],e[1],"o",i),s.setXYAt(r[0],r[1],"i",i+1),a&&s.setXYAt(t[0],t[1],"v",i),s.setXYAt(n[0],n[1],"v",i+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,r,n){e.setXYAt(t[1],t[5],"o",r),e.setXYAt(t[2],t[6],"i",r+1),n&&e.setXYAt(t[0],t[4],"v",r),e.setXYAt(t[3],t[7],"v",r+1)},TrimModifier.prototype.addShapes=function(t,e,r){var n,s,i,a,o,l,c,h,u=t.pathsData,d=t.shape.paths.shapes,p=t.shape.paths._length,f=0,m=[],g=!0;for(r?(o=r._length,h=r._length):(r=shapePool.newElement(),o=0,h=0),m.push(r),n=0;n<p;n+=1){for(l=u[n].lengths,r.c=d[n].c,i=d[n].c?l.length:l.length+1,s=1;s<i;s+=1)if(f+(a=l[s-1]).addedLength<e.s)f+=a.addedLength,r.c=!1;else{if(f>e.e){r.c=!1;break}e.s<=f&&e.e>=f+a.addedLength?(this.addSegment(d[n].v[s-1],d[n].o[s-1],d[n].i[s],d[n].v[s],r,o,g),g=!1):(c=bez.getNewSegment(d[n].v[s-1],d[n].v[s],d[n].o[s-1],d[n].i[s],(e.s-f)/a.addedLength,(e.e-f)/a.addedLength,l[s-1]),this.addSegmentFromArray(c,r,o,g),g=!1,r.c=!1),f+=a.addedLength,o+=1}if(d[n].c&&l.length){if(a=l[s-1],f<=e.e){var y=l[s-1].addedLength;e.s<=f&&e.e>=f+y?(this.addSegment(d[n].v[s-1],d[n].o[s-1],d[n].i[0],d[n].v[0],r,o,g),g=!1):(c=bez.getNewSegment(d[n].v[s-1],d[n].v[0],d[n].o[s-1],d[n].i[0],(e.s-f)/y,(e.e-f)/y,l[s-1]),this.addSegmentFromArray(c,r,o,g),g=!1,r.c=!1)}else r.c=!1;f+=a.addedLength,o+=1}if(r._length&&(r.setXYAt(r.v[h][0],r.v[h][1],"i",h),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),f>e.e)break;n<p-1&&(r=shapePool.newElement(),g=!0,m.push(r),o=0)}return m},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var r=e/100,n=[0,0],s=t._length,i=0;for(i=0;i<s;i+=1)n[0]+=t.v[i][0],n[1]+=t.v[i][1];n[0]/=s,n[1]/=s;var a,o,l,c,h,u,d=shapePool.newElement();for(d.c=t.c,i=0;i<s;i+=1)a=t.v[i][0]+(n[0]-t.v[i][0])*r,o=t.v[i][1]+(n[1]-t.v[i][1])*r,l=t.o[i][0]+(n[0]-t.o[i][0])*-r,c=t.o[i][1]+(n[1]-t.o[i][1])*-r,h=t.i[i][0]+(n[0]-t.i[i][0])*-r,u=t.i[i][1]+(n[1]-t.i[i][1])*-r,d.setTripleAt(a,o,l,c,h,u,i);return d},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,r,n,s,i,a,o=this.shapes.length,l=this.amount.v;if(0!==l)for(r=0;r<o;r+=1){if(a=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||t)for(a.releaseShapes(),i.shape._mdf=!0,e=i.shape.paths.shapes,s=i.shape.paths._length,n=0;n<s;n+=1)a.addShape(this.processPath(e[n],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function e(t,e,r){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var n,s=e.or.k.length;for(n=0;n<s;n+=1)e.or.k[n].to=null,e.or.k[n].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){var r;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var n,s;if(r=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(n=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),s=this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),s=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/r,0)):(n=this.p.pv,s=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){n=[],s=[];var i=this.px,a=this.py;i._caching.lastFrame+i.offsetTime<=i.keyframes[0].t?(n[0]=i.getValueAtTime((i.keyframes[0].t+.01)/r,0),n[1]=a.getValueAtTime((a.keyframes[0].t+.01)/r,0),s[0]=i.getValueAtTime(i.keyframes[0].t/r,0),s[1]=a.getValueAtTime(a.keyframes[0].t/r,0)):i._caching.lastFrame+i.offsetTime>=i.keyframes[i.keyframes.length-1].t?(n[0]=i.getValueAtTime(i.keyframes[i.keyframes.length-1].t/r,0),n[1]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/r,0),s[0]=i.getValueAtTime((i.keyframes[i.keyframes.length-1].t-.01)/r,0),s[1]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/r,0)):(n=[i.pv,a.pv],s[0]=i.getValueAtTime((i._caching.lastFrame+i.offsetTime-.01)/r,i.offsetTime),s[1]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/r,a.offsetTime))}else n=s=t;this.v.rotate(-Math.atan2(n[1]-s[1],n[0]-s[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,r,n){return new e(t,r,n)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(t,e){return 1e5*Math.abs(t-e)<=Math.min(Math.abs(t),Math.abs(e))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,e,r){return t*(1-r)+e*r}function lerpPoint(t,e,r){return[lerp(t[0],e[0],r),lerp(t[1],e[1],r)]}function quadRoots(t,e,r){if(0===t)return[];var n=e*e-4*t*r;if(n<0)return[];var s=-e/(2*t);if(0===n)return[s];var i=Math.sqrt(n)/(2*t);return[s-i,s+i]}function polynomialCoefficients(t,e,r,n){return[3*e-t-3*r+n,3*t-6*e+3*r,-3*t+3*e,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,e,r,n,s){s&&pointEqual(t,e)&&(e=lerpPoint(t,n,1/3)),s&&pointEqual(r,n)&&(r=lerpPoint(t,n,2/3));var i=polynomialCoefficients(t[0],e[0],r[0],n[0]),a=polynomialCoefficients(t[1],e[1],r[1],n[1]);this.a=[i[0],a[0]],this.b=[i[1],a[1]],this.c=[i[2],a[2]],this.d=[i[3],a[3]],this.points=[t,e,r,n]}function extrema(t,e){var r=t.points[0][e],n=t.points[t.points.length-1][e];if(r>n){var s=n;n=r,r=s}for(var i=quadRoots(3*t.a[e],2*t.b[e],t.c[e]),a=0;a<i.length;a+=1)if(i[a]>0&&i[a]<1){var o=t.point(i[a])[e];o<r?r=o:o>n&&(n=o)}return{min:r,max:n}}function intersectData(t,e,r){var n=t.boundingBox();return{cx:n.cx,cy:n.cy,width:n.width,height:n.height,bez:t,t:(e+r)/2,t1:e,t2:r}}function splitData(t){var e=t.bez.split(.5);return[intersectData(e[0],t.t1,t.t),intersectData(e[1],t.t,t.t2)]}function boxIntersect(t,e){return 2*Math.abs(t.cx-e.cx)<t.width+e.width&&2*Math.abs(t.cy-e.cy)<t.height+e.height}function intersectsImpl(t,e,r,n,s,i){if(boxIntersect(t,e))if(r>=i||t.width<=n&&t.height<=n&&e.width<=n&&e.height<=n)s.push([t.t,e.t]);else{var a=splitData(t),o=splitData(e);intersectsImpl(a[0],o[0],r+1,n,s,i),intersectsImpl(a[0],o[1],r+1,n,s,i),intersectsImpl(a[1],o[0],r+1,n,s,i),intersectsImpl(a[1],o[1],r+1,n,s,i)}}function crossProduct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lineIntersection(t,e,r,n){var s=[t[0],t[1],1],i=[e[0],e[1],1],a=[r[0],r[1],1],o=[n[0],n[1],1],l=crossProduct(crossProduct(s,i),crossProduct(a,o));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(t,e,r){return[t[0]+Math.cos(e)*r,t[1]-Math.sin(e)*r]}function pointDistance(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pointEqual(t,e){return floatEqual(t[0],e[0])&&floatEqual(t[1],e[1])}function ZigZagModifier(){}function setPoint(t,e,r,n,s,i,a){var o=r-Math.PI/2,l=r+Math.PI/2,c=e[0]+Math.cos(r)*n*s,h=e[1]-Math.sin(r)*n*s;t.setTripleAt(c,h,c+Math.cos(o)*i,h-Math.sin(o)*i,c+Math.cos(l)*a,h-Math.sin(l)*a,t.length())}function getPerpendicularVector(t,e){var r=[e[0]-t[0],e[1]-t[1]],n=.5*-Math.PI;return[Math.cos(n)*r[0]-Math.sin(n)*r[1],Math.sin(n)*r[0]+Math.cos(n)*r[1]]}function getProjectingAngle(t,e){var r=0===e?t.length()-1:e-1,n=(e+1)%t.length(),s=getPerpendicularVector(t.v[r],t.v[n]);return Math.atan2(0,1)-Math.atan2(s[1],s[0])}function zigZagCorner(t,e,r,n,s,i,a){var o=getProjectingAngle(e,r),l=e.v[r%e._length],c=e.v[0===r?e._length-1:r-1],h=e.v[(r+1)%e._length],u=2===i?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0,d=2===i?Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)):0;setPoint(t,e.v[r%e._length],o,a,n,d/(2*(s+1)),u/(2*(s+1)),i)}function zigZagSegment(t,e,r,n,s,i){for(var a=0;a<n;a+=1){var o=(a+1)/(n+1),l=2===s?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,c=e.normalAngle(o);setPoint(t,e.point(o),c,i,r,l/(2*(n+1)),l/(2*(n+1)),s),i=-i}return i}function linearOffset(t,e,r){var n=Math.atan2(e[0]-t[0],e[1]-t[1]);return[polarOffset(t,n,r),polarOffset(e,n,r)]}function offsetSegment(t,e){var r,n,s,i,a,o,l;r=(l=linearOffset(t.points[0],t.points[1],e))[0],n=l[1],s=(l=linearOffset(t.points[1],t.points[2],e))[0],i=l[1],a=(l=linearOffset(t.points[2],t.points[3],e))[0],o=l[1];var c=lineIntersection(r,n,s,i);null===c&&(c=n);var h=lineIntersection(a,o,s,i);return null===h&&(h=a),new PolynomialBezier(r,c,h,o)}function joinLines(t,e,r,n,s){var i=e.points[3],a=r.points[0];if(3===n)return i;if(pointEqual(i,a))return i;if(2===n){var o=-e.tangentAngle(1),l=-r.tangentAngle(0)+Math.PI,c=lineIntersection(i,polarOffset(i,o+Math.PI/2,100),a,polarOffset(a,o+Math.PI/2,100)),h=c?pointDistance(c,i):pointDistance(i,a)/2,u=polarOffset(i,o,2*h*roundCorner);return t.setXYAt(u[0],u[1],"o",t.length()-1),u=polarOffset(a,l,2*h*roundCorner),t.setTripleAt(a[0],a[1],a[0],a[1],u[0],u[1],t.length()),a}var d=lineIntersection(pointEqual(i,e.points[2])?e.points[0]:e.points[2],i,a,pointEqual(a,r.points[1])?r.points[3]:r.points[1]);return d&&pointDistance(d,i)<s?(t.setTripleAt(d[0],d[1],d[0],d[1],d[0],d[1],t.length()),d):i}function getIntersection(t,e){var r=t.intersections(e);return r.length&&floatEqual(r[0][0],1)&&r.shift(),r.length?r[0]:null}function pruneSegmentIntersection(t,e){var r=t.slice(),n=e.slice(),s=getIntersection(t[t.length-1],e[0]);return s&&(r[t.length-1]=t[t.length-1].split(s[0])[0],n[0]=e[0].split(s[1])[1]),t.length>1&&e.length>1&&(s=getIntersection(t[0],e[e.length-1]))?[[t[0].split(s[0])[0]],[e[e.length-1].split(s[1])[1]]]:[r,n]}function pruneIntersections(t){for(var e,r=1;r<t.length;r+=1)e=pruneSegmentIntersection(t[r-1],t[r]),t[r-1]=e[0],t[r]=e[1];return t.length>1&&(e=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function offsetSegmentSplit(t,e){var r,n,s,i,a=t.inflectionPoints();if(0===a.length)return[offsetSegment(t,e)];if(1===a.length||floatEqual(a[1],1))return r=(s=t.split(a[0]))[0],n=s[1],[offsetSegment(r,e),offsetSegment(n,e)];r=(s=t.split(a[0]))[0];var o=(a[1]-a[0])/(1-a[0]);return i=(s=s[1].split(o))[0],n=s[1],[offsetSegment(r,e),offsetSegment(i,e),offsetSegment(n,e)]}function OffsetPathModifier(){}function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],r="normal",n="normal",s=e.length,i=0;i<s;i+=1)switch(e[i].toLowerCase()){case"italic":n="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200"}return{style:n,weight:t.fWeight||r}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,r,n,s,i){var a=i?-1:1,o=n.s.v[0]+(1-n.s.v[0])*(1-s),l=n.s.v[1]+(1-n.s.v[1])*(1-s);t.translate(n.p.v[0]*a*s,n.p.v[1]*a*s,n.p.v[2]),e.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),e.rotate(-n.r.v*a*s),e.translate(n.a.v[0],n.a.v[1],n.a.v[2]),r.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),r.scale(i?1/o:o,i?1/l:l),r.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(t,e,r,n){for(this.elem=t,this.arr=e,this.pos=r,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[r]);r>0;)r-=1,this._elements.unshift(e[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)t[r]._render=e,"gr"===t[r].ty&&this.changeGroupRender(t[r].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,r,n,s,i,a=!1;if(this._mdf||t){var o,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),a=!0}for(i=0,n=0;n<=this._groups.length-1;n+=1){if(o=i<l,this._groups[n]._render=o,this.changeGroupRender(this._groups[n].it,o),!o){var h=this.elemsData[n].it,u=h[h.length-1];0!==u.transform.op.v?(u.transform.op._mdf=!0,u.transform.op.v=0):u.transform.op._mdf=!1}i+=1}this._currentCopies=l;var d=this.o.v,p=d%1,f=d>0?Math.floor(d):Math.ceil(d),m=this.pMatrix.props,g=this.rMatrix.props,y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var b,v,w=0;if(d>0){for(;w<f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),w+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),w+=p)}else if(d<0){for(;w>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),w-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),w-=p)}for(n=1===this.data.m?0:this._currentCopies-1,s=1===this.data.m?1:-1,i=this._currentCopies;i;){if(v=(r=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==w){for((0!==n&&1===s||n!==this._currentCopies-1&&-1===s)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),b=0;b<v;b+=1)r[b]=this.matrix.props[b];this.matrix.reset()}else for(this.matrix.reset(),b=0;b<v;b+=1)r[b]=this.matrix.props[b];w+=1,i-=1,n+=s}}else for(i=this._currentCopies,n=0,s=1;i;)r=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,i-=1,n+=s;return a},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var r,n=shapePool.newElement();n.c=t.c;var s,i,a,o,l,c,h,u,d,p,f,m,g=t._length,y=0;for(r=0;r<g;r+=1)s=t.v[r],a=t.o[r],i=t.i[r],s[0]===a[0]&&s[1]===a[1]&&s[0]===i[0]&&s[1]===i[1]?0!==r&&r!==g-1||t.c?(o=0===r?t.v[g-1]:t.v[r-1],c=(l=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)))?Math.min(l/2,e)/l:0,h=f=s[0]+(o[0]-s[0])*c,u=m=s[1]-(s[1]-o[1])*c,d=h-(h-s[0])*roundCorner,p=u-(u-s[1])*roundCorner,n.setTripleAt(h,u,d,p,f,m,y),y+=1,o=r===g-1?t.v[0]:t.v[r+1],c=(l=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)))?Math.min(l/2,e)/l:0,h=d=s[0]+(o[0]-s[0])*c,u=p=s[1]+(o[1]-s[1])*c,f=h-(h-s[0])*roundCorner,m=u-(u-s[1])*roundCorner,n.setTripleAt(h,u,d,p,f,m,y),y+=1):(n.setTripleAt(s[0],s[1],a[0],a[1],i[0],i[1],y),y+=1):(n.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],y),y+=1);return n},RoundCornersModifier.prototype.processShapes=function(t){var e,r,n,s,i,a,o=this.shapes.length,l=this.rd.v;if(0!==l)for(r=0;r<o;r+=1){if(a=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||t)for(a.releaseShapes(),i.shape._mdf=!0,e=i.shape.paths.shapes,s=i.shape.paths._length,n=0;n<s;n+=1)a.addShape(this.processPath(e[n],l));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,r=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(r<0)return[];var n=Math.sqrt(r);return floatZero(n)?n>0&&n<1?[e]:[]:[e-n,e+n].filter((function(t){return t>0&&t<1}))},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],t),r=lerpPoint(this.points[1],this.points[2],t),n=lerpPoint(this.points[2],this.points[3],t),s=lerpPoint(e,r,t),i=lerpPoint(r,n,t),a=lerpPoint(s,i,t);return[new PolynomialBezier(this.points[0],e,s,a,!0),new PolynomialBezier(a,i,n,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}},PolynomialBezier.prototype.intersections=function(t,e,r){void 0===e&&(e=2),void 0===r&&(r=7);var n=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,e,n,r),n},PolynomialBezier.shapeSegment=function(t,e){var r=(e+1)%t.length();return new PolynomialBezier(t.v[e],t.o[e],t.i[r],t.v[r],!0)},PolynomialBezier.shapeSegmentInverted=function(t,e){var r=(e+1)%t.length();return new PolynomialBezier(t.v[r],t.i[r],t.o[e],t.v[e],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,e.s,0,null,this),this.frequency=PropertyFactory.getProp(t,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,e.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(t,e,r,n){var s=t._length,i=shapePool.newElement();if(i.c=t.c,t.c||(s-=1),0===s)return i;var a=-1,o=PolynomialBezier.shapeSegment(t,0);zigZagCorner(i,t,0,e,r,n,a);for(var l=0;l<s;l+=1)a=zigZagSegment(i,o,e,r,n,-a),o=l!==s-1||t.c?PolynomialBezier.shapeSegment(t,(l+1)%s):null,zigZagCorner(i,t,l+1,e,r,n,a);return i},ZigZagModifier.prototype.processShapes=function(t){var e,r,n,s,i,a,o=this.shapes.length,l=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),h=this.pointsType.v;if(0!==l)for(r=0;r<o;r+=1){if(a=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||t)for(a.releaseShapes(),i.shape._mdf=!0,e=i.shape.paths.shapes,s=i.shape.paths._length,n=0;n<s;n+=1)a.addShape(this.processPath(e[n],l,c,h));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(t,e,r,n){var s=shapePool.newElement();s.c=t.c;var i,a,o,l=t.length();t.c||(l-=1);var c=[];for(i=0;i<l;i+=1)o=PolynomialBezier.shapeSegment(t,i),c.push(offsetSegmentSplit(o,e));if(!t.c)for(i=l-1;i>=0;i-=1)o=PolynomialBezier.shapeSegmentInverted(t,i),c.push(offsetSegmentSplit(o,e));c=pruneIntersections(c);var h=null,u=null;for(i=0;i<c.length;i+=1){var d=c[i];for(u&&(h=joinLines(s,u,d[0],r,n)),u=d[d.length-1],a=0;a<d.length;a+=1)o=d[a],h&&pointEqual(o.points[0],h)?s.setXYAt(o.points[1][0],o.points[1][1],"o",s.length()-1):s.setTripleAt(o.points[0][0],o.points[0][1],o.points[1][0],o.points[1][1],o.points[0][0],o.points[0][1],s.length()),s.setTripleAt(o.points[3][0],o.points[3][1],o.points[3][0],o.points[3][1],o.points[2][0],o.points[2][1],s.length()),h=o.points[3]}return c.length&&joinLines(s,u,c[0][0],r,n),s},OffsetPathModifier.prototype.processShapes=function(t){var e,r,n,s,i,a,o=this.shapes.length,l=this.amount.v,c=this.miterLimit.v,h=this.lineJoin;if(0!==l)for(r=0;r<o;r+=1){if(a=(i=this.shapes[r]).localShapeCollection,i.shape._mdf||this._mdf||t)for(a.releaseShapes(),i.shape._mdf=!0,e=i.shape.paths.shapes,s=i.shape.paths._length,n=0;n<s;n+=1)a.addShape(this.processPath(e[n],l,h,c));i.shape.paths=i.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var t={w:0,size:0,shapes:[],data:{shapes:[]}},e=[];e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=127988,n=127462,s=127487,i=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function a(t,e){var r=createTag("span");r.setAttribute("aria-hidden",!0),r.style.fontFamily=e;var n=createTag("span");n.innerText="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(n),document.body.appendChild(r);var s=n.offsetWidth;return n.style.fontFamily=function(t){var e,r=t.split(","),n=r.length,s=[];for(e=0;e<n;e+=1)"sans-serif"!==r[e]&&"monospace"!==r[e]&&s.push(r[e]);return s.join(",")}(t)+", "+e,{node:n,w:s,parent:r}}function o(t,e){var r,n=document.body&&e?"svg":"canvas",s=getFontProperties(t);if("svg"===n){var i=createNS("text");i.style.fontSize="100px",i.setAttribute("font-family",t.fFamily),i.setAttribute("font-style",s.style),i.setAttribute("font-weight",s.weight),i.textContent="1",t.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",t.fClass)):i.style.fontFamily=t.fFamily,e.appendChild(i),r=i}else{var a=new OffscreenCanvas(500,500).getContext("2d");a.font=s.style+" "+s.weight+" 100px "+t.fFamily,r=a}return{measureText:function(t){return"svg"===n?(r.textContent=t,r.getComputedTextLength()):r.measureText(t).width}}}function l(t){var e=0,r=t.charCodeAt(0);if(r>=55296&&r<=56319){var n=t.charCodeAt(1);n>=56320&&n<=57343&&(e=1024*(r-55296)+n-56320+65536)}return e}function c(t){var e=l(t);return e>=n&&e<=s}var h=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};h.isModifier=function(t,e){var r=t.toString(16)+e.toString(16);return-1!==i.indexOf(r)},h.isZeroWidthJoiner=function(t){return 8205===t},h.isFlagEmoji=function(t){return c(t.substr(0,2))&&c(t.substr(2,2))},h.isRegionalCode=c,h.isCombinedCharacter=function(t){return-1!==e.indexOf(t)},h.isRegionalFlag=function(t,e){var n=l(t.substr(e,2));if(n!==r)return!1;var s=0;for(e+=2;s<5;){if((n=l(t.substr(e,2)))<917601||n>917626)return!1;s+=1,e+=2}return 917631===l(t.substr(e,2))},h.isVariationSelector=function(t){return 65039===t},h.BLACK_FLAG_CODE_POINT=r;var u={addChars:function(t){if(t){var e;this.chars||(this.chars=[]);var r,n,s=t.length,i=this.chars.length;for(e=0;e<s;e+=1){for(r=0,n=!1;r<i;)this.chars[r].style===t[e].style&&this.chars[r].fFamily===t[e].fFamily&&this.chars[r].ch===t[e].ch&&(n=!0),r+=1;n||(this.chars.push(t[e]),i+=1)}}},addFonts:function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);if(!document.body)return this.isLoaded=!0,t.list.forEach((function(t){t.helper=o(t),t.cache={}})),void(this.fonts=t.list);var r,n=t.list,s=n.length,i=s;for(r=0;r<s;r+=1){var l,c,h=!0;if(n[r].loaded=!1,n[r].monoCase=a(n[r].fFamily,"monospace"),n[r].sansCase=a(n[r].fFamily,"sans-serif"),n[r].fPath){if("p"===n[r].fOrigin||3===n[r].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+n[r].fFamily+'"], style[f-origin="3"][f-family="'+n[r].fFamily+'"]')).length>0&&(h=!1),h){var u=createTag("style");u.setAttribute("f-forigin",n[r].fOrigin),u.setAttribute("f-origin",n[r].origin),u.setAttribute("f-family",n[r].fFamily),u.type="text/css",u.innerText="@font-face {font-family: "+n[r].fFamily+"; font-style: normal; src: url('"+n[r].fPath+"');}",e.appendChild(u)}}else if("g"===n[r].fOrigin||1===n[r].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c+=1)-1!==l[c].href.indexOf(n[r].fPath)&&(h=!1);if(h){var d=createTag("link");d.setAttribute("f-forigin",n[r].fOrigin),d.setAttribute("f-origin",n[r].origin),d.type="text/css",d.rel="stylesheet",d.href=n[r].fPath,document.body.appendChild(d)}}else if("t"===n[r].fOrigin||2===n[r].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c+=1)n[r].fPath===l[c].src&&(h=!1);if(h){var p=createTag("link");p.setAttribute("f-forigin",n[r].fOrigin),p.setAttribute("f-origin",n[r].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",n[r].fPath),e.appendChild(p)}}}else n[r].loaded=!0,i-=1;n[r].helper=o(n[r],e),n[r].cache={},this.fonts.push(n[r])}0===i?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(e,r,n){for(var s=0,i=this.chars.length;s<i;){if(this.chars[s].ch===e&&this.chars[s].style===r&&this.chars[s].fFamily===n)return this.chars[s];s+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",e,r,n)),t},getFontByName:function(t){for(var e=0,r=this.fonts.length;e<r;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},measureText:function(t,e,r){var n=this.getFontByName(e),s=t;if(!n.cache[s]){var i=n.helper;if(" "===t){var a=i.measureText("|"+t+"|"),o=i.measureText("||");n.cache[s]=(a-o)/100}else n.cache[s]=i.measureText(t)/100}return n.cache[s]*r},checkLoadedFonts:function(){var t,e,r,n=this.fonts.length,s=n;for(t=0;t<n;t+=1)this.fonts[t].loaded?s-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(e=this.fonts[t].monoCase.node,r=this.fonts[t].monoCase.w,e.offsetWidth!==r?(s-=1,this.fonts[t].loaded=!0):(e=this.fonts[t].sansCase.node,r=this.fonts[t].sansCase.w,e.offsetWidth!==r&&(s-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==s&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return h.prototype=u,h}();function SlotManager(t){this.animationData=t}function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums;function SliderEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function AngleEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function ColorEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function PointEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function LayerIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function MaskIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function CheckboxEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var r,n=t.ef||[];this.effectElements=[];var s,i=n.length;for(r=0;r<i;r+=1)s=new GroupEffect(n[r],e),this.effectElements.push(s)}function GroupEffect(t,e){this.init(t,e)}function BaseElement(){}function FrameElement(){}function FootageElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,r)}function AudioElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,r),this._isPlaying=!1,this._canPlay=!1;var n=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(n),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){var r;this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var n,s=this.data.ef.length,i=this.data.ef;for(r=0;r<s;r+=1){switch(n=null,i[r].ty){case 0:n=new SliderEffect(i[r],e,this);break;case 1:n=new AngleEffect(i[r],e,this);break;case 2:n=new ColorEffect(i[r],e,this);break;case 3:n=new PointEffect(i[r],e,this);break;case 4:case 7:n=new CheckboxEffect(i[r],e,this);break;case 10:n=new LayerIndexEffect(i[r],e,this);break;case 11:n=new MaskIndexEffect(i[r],e,this);break;case 5:n=new EffectsManager(i[r],e,this);break;default:n=new NoValueEffect(i[r],e,this)}n&&this.effectElements.push(n)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var e=t("layer"),r=t("effects"),n=t("shape"),s=t("text"),i=t("comp");this.layerInterface=e(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var a=r.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(a),0===this.data.ty||this.data.xt?this.compInterface=i(this):4===this.data.ty?(this.layerInterface.shapeInterface=n(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=s(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,r){this.globalData=e,this.comp=r,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var r,n=this.dynamicProperties.length;for(r=0;r<n;r+=1)(e||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var e=t("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(t){var e,r,n=this.layers.length;for(this.completeLayers=!0,e=n-1;e>=0;e-=1)this.elements[e]||(r=this.layers[e]).ip-r.st<=t-this.layers[e].st&&r.op-r.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:default:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){var e;this.completeLayers=!1;var r,n=t.length,s=this.layers.length;for(e=0;e<n;e+=1)for(r=0;r<s;){if(this.layers[r].id===t[e].id){this.layers[r]=t[e];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,r){for(var n=this.elements,s=this.layers,i=0,a=s.length;i<a;)s[i].ind==e&&(n[i]&&!0!==n[i]?(r.push(n[i]),n[i].setAsParent(),void 0!==s[i].parent?this.buildElementParenting(t,s[i].parent,r):t.setHierarchy(r)):(this.buildItem(i),this.addPendingElement(t))),i+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length;for(e=0;e<r;e+=1)if(t[e].xt){var n=this.createComp(t[e]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},BaseRenderer.prototype.getElementById=function(t){var e,r=this.elements.length;for(e=0;e<r;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(t){var e,r=t.shift();if("number"==typeof r)e=this.elements[r];else{var n,s=this.elements.length;for(n=0;n<s;n+=1)if(this.elements[n].data.nm===r){e=this.elements[n];break}}return 0===t.length?e:e.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(t,e,r){this.data=t,this.element=e,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n,s,i=this.globalData.defs,a=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(a),this.solidPath="";var o,l,c,h,u,d,p=this.masksProperties,f=0,m=[],g=createElementID(),y="clipPath",b="clip-path";for(n=0;n<a;n+=1)if(("a"!==p[n].mode&&"n"!==p[n].mode||p[n].inv||100!==p[n].o.k||p[n].o.x)&&(y="mask",b="mask"),"s"!==p[n].mode&&"i"!==p[n].mode||0!==f?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),s=createNS("path"),"n"===p[n].mode)this.viewData[n]={op:PropertyFactory.getProp(this.element,p[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[n],3),elem:s,lastPath:""},i.appendChild(s);else{var v;if(f+=1,s.setAttribute("fill","s"===p[n].mode?"#000000":"#ffffff"),s.setAttribute("clip-rule","nonzero"),0!==p[n].x.k?(y="mask",b="mask",d=PropertyFactory.getProp(this.element,p[n].x,0,null,this.element),v=createElementID(),(h=createNS("filter")).setAttribute("id",v),(u=createNS("feMorphology")).setAttribute("operator","erode"),u.setAttribute("in","SourceGraphic"),u.setAttribute("radius","0"),h.appendChild(u),i.appendChild(h),s.setAttribute("stroke","s"===p[n].mode?"#000000":"#ffffff")):(u=null,d=null),this.storedData[n]={elem:s,x:d,expan:u,lastPath:"",lastOperator:"",filterId:v,lastRadius:0},"i"===p[n].mode){l=m.length;var w=createNS("g");for(o=0;o<l;o+=1)w.appendChild(m[o]);var E=createNS("mask");E.setAttribute("mask-type","alpha"),E.setAttribute("id",g+"_"+f),E.appendChild(s),i.appendChild(E),w.setAttribute("mask","url("+getLocationHref()+"#"+g+"_"+f+")"),m.length=0,m.push(w)}else m.push(s);p[n].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[n]={elem:s,lastPath:"",op:PropertyFactory.getProp(this.element,p[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[n],3),invRect:c},this.viewData[n].prop.k||this.drawPath(p[n],this.viewData[n].prop.v,this.viewData[n])}for(this.maskElement=createNS(y),a=m.length,n=0;n<a;n+=1)this.maskElement.appendChild(m[n]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(b,"url("+getLocationHref()+"#"+g+")"),i.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,r=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<n;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),r=0;r<n;r+=1)e.multiply(this.hierarchy[r].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,e=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<e;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var r=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(r),t=1;t<e;t+=1){var n=this.localTransforms[t].matrix;r.multiply(n)}r.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var s=this.finalTransform.localOpacity;for(t=0;t<e;t+=1)s*=.01*this.localTransforms[t].opacity;this.finalTransform.localOpacity=s}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var e=0,r=t.length;for(e=0;e<r;e+=1)this.localTransforms.push(t[e])}}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var r,n=!0,s=this.comp;n;)s.finalTransform?(s.data.hasMask&&e.splice(0,0,s.finalTransform),s=s.comp):n=!1;var i,a=e.length;for(r=0;r<a;r+=1)i=e[r].mat.applyToPointArray(0,0,0),t=[t[0]-i[0],t[1]-i[1],0];return t},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,r=this.element.finalTransform.mat,n=this.masksProperties.length;for(e=0;e<n;e+=1)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var s=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[e].filterId+")")),s.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,r){var n,s,i=" M"+e.v[0][0]+","+e.v[0][1];for(s=e._length,n=1;n<s;n+=1)i+=" C"+e.o[n-1][0]+","+e.o[n-1][1]+" "+e.i[n][0]+","+e.i[n][1]+" "+e.v[n][0]+","+e.v[n][1];if(e.c&&s>1&&(i+=" C"+e.o[n-1][0]+","+e.o[n-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),r.lastPath!==i){var a="";r.elem&&(e.c&&(a=t.inv?this.solidPath+i:i),r.elem.setAttribute("d",a)),r.lastPath=i}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={createFilter:function(t,e){var r=createNS("filter");return r.setAttribute("id",t),!0!==e&&(r.setAttribute("filterUnits","objectBoundingBox"),r.setAttribute("x","0%"),r.setAttribute("y","0%"),r.setAttribute("width","100%"),r.setAttribute("height","100%")),r},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}};return t}(),featureSupport=function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var e,r,n="SourceGraphic",s=t.data.ef?t.data.ef.length:0,i=createElementID(),a=filtersFactory.createFilter(i,!0),o=0;for(this.filters=[],e=0;e<s;e+=1){r=null;var l=t.data.ef[e].ty;registeredEffects$1[l]&&(r=new(0,registeredEffects$1[l].effect)(a,t.effectsManager.effectElements[e],t,idPrefix+o,n),n=idPrefix+o,registeredEffects$1[l].countsAsEffect&&(o+=1)),r&&this.filters.push(r)}o&&(t.globalData.defs.appendChild(a),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+i+")")),this.filters.length&&t.addRenderableComponent(this)}function registerEffect$1(t,e,r){registeredEffects$1[t]={effect:e,countsAsEffect:r}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(t){var e,r=this.filters.length;for(e=0;e<r;e+=1)this.filters[e].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var e,r=this.filters.length,n=[];for(e=0;e<r;e+=1)this.filters[e].type===t&&n.push(this.filters[e]);return n},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var e=createNS("g");e.setAttribute("id",this.layerId),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var r=createNS("clipPath"),n=createNS("path");n.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var s=createElementID();if(r.setAttribute("id",s),r.appendChild(n),this.globalData.defs.appendChild(r),this.checkMasks()){var i=createNS("g");i.setAttribute("clip-path","url("+getLocationHref()+"#"+s+")"),i.appendChild(this.layerElement),this.transformedElement=i,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+s+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var e,r,n,s,i=this.layerId+"_"+t;if(1===t||3===t){var a=createNS("mask");a.setAttribute("id",i),a.setAttribute("mask-type",3===t?"luminance":"alpha"),(n=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),a.appendChild(n),this.globalData.defs.appendChild(a),featureSupport.maskType||1!==t||(a.setAttribute("mask-type","luminance"),e=createElementID(),r=filtersFactory.createFilter(e),this.globalData.defs.appendChild(r),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(s=createNS("g")).appendChild(n),a.appendChild(s),s.setAttribute("filter","url("+getLocationHref()+"#"+e+")"))}else if(2===t){var o=createNS("mask");o.setAttribute("id",i),o.setAttribute("mask-type","alpha");var l=createNS("g");o.appendChild(l),e=createElementID(),r=filtersFactory.createFilter(e);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),r.appendChild(c);var h=createNS("feFuncA");h.setAttribute("type","table"),h.setAttribute("tableValues","1.0 0.0"),c.appendChild(h),this.globalData.defs.appendChild(r);var u=createNS("rect");u.setAttribute("width",this.comp.data.w),u.setAttribute("height",this.comp.data.h),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("fill","#ffffff"),u.setAttribute("opacity","0"),l.setAttribute("filter","url("+getLocationHref()+"#"+e+")"),l.appendChild(u),(n=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(n),featureSupport.maskType||(o.setAttribute("mask-type","luminance"),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),s=createNS("g"),l.appendChild(u),s.appendChild(this.layerElement),l.appendChild(s)),this.globalData.defs.appendChild(o)}this.matteMasks[t]=i}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(t){var e,r=this.shapeModifiers.length;for(e=0;e<r;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0&&!this.shapeModifiers[t].processShapes(this._isFirstFrame);t-=1);}},searchProcessedElement:function(t){for(var e=this.processedElements,r=0,n=e.length;r<n;){if(e[r].elem===t)return e[r].pos;r+=1}return 0},addProcessedElement:function(t,e){for(var r=this.processedElements,n=r.length;n;)if(r[n-=1].elem===t)return void(r[n].pos=e);r.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,r){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=r,this.lvl=e,this._isAnimated=!!r.k;for(var n=0,s=t.length;n<s;){if(t[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(t,e,r,n){var s;this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var i,a=e.length||0;for(s=0;s<a;s+=1)i=PropertyFactory.getProp(t,e[s].v,0,0,this),this.k=i.k||this.k,this.dataProps[s]={n:e[s].n,p:i};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r}function SVGNoStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=r}function GradientProperty(t,e,r){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var n=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,r)}function SVGGradientStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,r){this.transform={mProps:t,op:e,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<r;e+=1)"o"!==this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(t,e){for(var r=0,n=this.o.length/2;r<n;){if(Math.abs(t[4*r]-t[4*e+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,r,n,s=4*this.data.p;for(e=0;e<s;e+=1)r=e%4==0?100:255,n=Math.round(this.prop.v[e]*r),this.c[e]!==n&&(this.c[e]=n,this._cmdf=!t);if(this.o.length)for(s=this.prop.v.length,e=4*this.data.p;e<s;e+=1)r=e%2==0?100:1,n=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==n&&(this.o[e-4*this.data.p]=n,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,r){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,e),this.setGradientOpacity(e,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var r=createElementID(),n=createNS(1===e.t?"linearGradient":"radialGradient");n.setAttribute("id",r),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var s,i,a,o=[];for(a=4*e.g.p,i=0;i<a;i+=4)s=createNS("stop"),n.appendChild(s),o.push(s);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+r+")"),this.gf=n,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var r,n,s,i=createNS("mask"),a=createNS("path");i.appendChild(a);var o=createElementID(),l=createElementID();i.setAttribute("id",l);var c=createNS(1===t.t?"linearGradient":"radialGradient");c.setAttribute("id",o),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),s=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var h=this.stops;for(n=4*t.g.p;n<s;n+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(r),h.push(r);a.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+o+")"),"gs"===t.ty&&(a.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),a.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),1===t.lj&&a.setAttribute("stroke-miterlimit",t.ml)),this.of=c,this.ms=i,this.ost=h,this.maskId=l,e.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(t,e,r,n){if(0===e)return"";var s,i=t.o,a=t.i,o=t.v,l=" M"+n.applyToPointStringified(o[0][0],o[0][1]);for(s=1;s<e;s+=1)l+=" C"+n.applyToPointStringified(i[s-1][0],i[s-1][1])+" "+n.applyToPointStringified(a[s][0],a[s][1])+" "+n.applyToPointStringified(o[s][0],o[s][1]);return r&&e&&(l+=" C"+n.applyToPointStringified(i[s-1][0],i[s-1][1])+" "+n.applyToPointStringified(a[0][0],a[0][1])+" "+n.applyToPointStringified(o[0][0],o[0][1]),l+="z"),l},SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function r(t,e,r){(r||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(r||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function n(){}function s(r,n,s){var i,a,o,l,c,h,u,d,p,f,m=n.styles.length,g=n.lvl;for(h=0;h<m;h+=1){if(l=n.sh._mdf||s,n.styles[h].lvl<g){for(d=e.reset(),p=g-n.styles[h].lvl,f=n.transformers.length-1;!l&&p>0;)l=n.transformers[f].mProps._mdf||l,p-=1,f-=1;if(l)for(p=g-n.styles[h].lvl,f=n.transformers.length-1;p>0;)d.multiply(n.transformers[f].mProps.v),p-=1,f-=1}else d=t;if(a=(u=n.sh.paths)._length,l){for(o="",i=0;i<a;i+=1)(c=u.shapes[i])&&c._length&&(o+=buildShapeString(c,c._length,c.c,d));n.caches[h]=o}else o=n.caches[h];n.styles[h].d+=!0===r.hd?"":o,n.styles[h]._mdf=l||n.styles[h]._mdf}}function i(t,e,r){var n=e.style;(e.c._mdf||r)&&n.pElem.setAttribute("fill","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r)&&n.pElem.setAttribute("fill-opacity",e.o.v)}function a(t,e,r){o(t,e,r),l(0,e,r)}function o(t,e,r){var n,s,i,a,o,l=e.gf,c=e.g._hasOpacity,h=e.s.v,u=e.e.v;if(e.o._mdf||r){var d="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(d,e.o.v)}if(e.s._mdf||r){var p=1===t.t?"x1":"cx",f="x1"===p?"y1":"cy";l.setAttribute(p,h[0]),l.setAttribute(f,h[1]),c&&!e.g._collapsable&&(e.of.setAttribute(p,h[0]),e.of.setAttribute(f,h[1]))}if(e.g._cmdf||r){n=e.cst;var m=e.g.c;for(i=n.length,s=0;s<i;s+=1)(a=n[s]).setAttribute("offset",m[4*s]+"%"),a.setAttribute("stop-color","rgb("+m[4*s+1]+","+m[4*s+2]+","+m[4*s+3]+")")}if(c&&(e.g._omdf||r)){var g=e.g.o;for(i=(n=e.g._collapsable?e.cst:e.ost).length,s=0;s<i;s+=1)a=n[s],e.g._collapsable||a.setAttribute("offset",g[2*s]+"%"),a.setAttribute("stop-opacity",g[2*s+1])}if(1===t.t)(e.e._mdf||r)&&(l.setAttribute("x2",u[0]),l.setAttribute("y2",u[1]),c&&!e.g._collapsable&&(e.of.setAttribute("x2",u[0]),e.of.setAttribute("y2",u[1])));else if((e.s._mdf||e.e._mdf||r)&&(o=Math.sqrt(Math.pow(h[0]-u[0],2)+Math.pow(h[1]-u[1],2)),l.setAttribute("r",o),c&&!e.g._collapsable&&e.of.setAttribute("r",o)),e.e._mdf||e.h._mdf||e.a._mdf||r){o||(o=Math.sqrt(Math.pow(h[0]-u[0],2)+Math.pow(h[1]-u[1],2)));var y=Math.atan2(u[1]-h[1],u[0]-h[0]),b=e.h.v;b>=1?b=.99:b<=-1&&(b=-.99);var v=o*b,w=Math.cos(y+e.a.v)*v+h[0],E=Math.sin(y+e.a.v)*v+h[1];l.setAttribute("fx",w),l.setAttribute("fy",E),c&&!e.g._collapsable&&(e.of.setAttribute("fx",w),e.of.setAttribute("fy",E))}}function l(t,e,r){var n=e.style,s=e.d;s&&(s._mdf||r)&&s.dashStr&&(n.pElem.setAttribute("stroke-dasharray",s.dashStr),n.pElem.setAttribute("stroke-dashoffset",s.dashoffset[0])),e.c&&(e.c._mdf||r)&&n.pElem.setAttribute("stroke","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r)&&n.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||r)&&(n.pElem.setAttribute("stroke-width",e.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty){case"fl":return i;case"gf":return o;case"gs":return a;case"st":return l;case"sh":case"el":case"rc":case"sr":return s;case"tr":return r;case"no":return n;default:return null}}}}();function SVGShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,r),this.prevViewData=[]}function LetterProps(t,e,r,n,s,i){this.o=t,this.sw=e,this.sc=r,this.fc=n,this.m=s,this.p=i,this._mdf={o:!0,sw:!!e,sc:!!r,fc:!!n,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,r,n,s=this.shapes.length,i=this.stylesList.length,a=[],o=!1;for(r=0;r<i;r+=1){for(n=this.stylesList[r],o=!1,a.length=0,t=0;t<s;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(n)&&(a.push(e),o=e._isAnimated||o);a.length>1&&o&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var r,n=new SVGStyleData(t,e),s=n.pElem;return"st"===t.ty?r=new SVGStrokeStyleData(this,t,n):"fl"===t.ty?r=new SVGFillStyleData(this,t,n):"gf"===t.ty||"gs"===t.ty?(r=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,n),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),s.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))):"no"===t.ty&&(r=new SVGNoStyleData(this,t,n)),"st"!==t.ty&&"gs"!==t.ty||(s.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),s.setAttribute("fill-opacity","0"),1===t.lj&&s.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&s.setAttribute("fill-rule","evenodd"),t.ln&&s.setAttribute("id",t.ln),t.cl&&s.setAttribute("class",t.cl),t.bm&&(s.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(n),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var r=TransformPropertyFactory.getTransformProperty(this,t,this),n=new SVGTransformData(r,r.o,e);return this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createShapeElement=function(t,e,r){var n=4;"rc"===t.ty?n=5:"el"===t.ty?n=6:"sr"===t.ty&&(n=7);var s=new SVGShapeData(e,r,ShapePropertyFactory.getShapeProp(this,t,n,this));return this.shapes.push(s),this.addShapeToModifiers(s),this.addToAnimatedContents(t,s),s},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var r=0,n=this.animatedContents.length;r<n;){if(this.animatedContents[r].element===e)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,r=t.styles,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||r.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,r,n,s,i,a){var o,l,c,h,u,d,p=[].concat(i),f=t.length-1,m=[],g=[];for(o=f;o>=0;o-=1){if((d=this.searchProcessedElement(t[o]))?e[o]=r[d-1]:t[o]._render=a,"fl"===t[o].ty||"st"===t[o].ty||"gf"===t[o].ty||"gs"===t[o].ty||"no"===t[o].ty)d?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],s),t[o]._render&&e[o].style.pElem.parentNode!==n&&n.appendChild(e[o].style.pElem),m.push(e[o].style);else if("gr"===t[o].ty){if(d)for(c=e[o].it.length,l=0;l<c;l+=1)e[o].prevViewData[l]=e[o].it[l];else e[o]=this.createGroupElement(t[o]);this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,e[o].gr,s+1,p,a),t[o]._render&&e[o].gr.parentNode!==n&&n.appendChild(e[o].gr)}else"tr"===t[o].ty?(d||(e[o]=this.createTransformElement(t[o],n)),h=e[o].transform,p.push(h)):"sh"===t[o].ty||"rc"===t[o].ty||"el"===t[o].ty||"sr"===t[o].ty?(d||(e[o]=this.createShapeElement(t[o],p,s)),this.setElementStyles(e[o])):"tm"===t[o].ty||"rd"===t[o].ty||"ms"===t[o].ty||"pb"===t[o].ty||"zz"===t[o].ty||"op"===t[o].ty?(d?(u=e[o]).closed=!1:((u=ShapeModifiers.getModifier(t[o].ty)).init(this,t[o]),e[o]=u,this.shapeModifiers.push(u)),g.push(u)):"rp"===t[o].ty&&(d?(u=e[o]).closed=!0:(u=ShapeModifiers.getModifier(t[o].ty),e[o]=u,u.init(this,t,o,e),this.shapeModifiers.push(u),a=!1),g.push(u));this.addProcessedElement(t[o],o+1)}for(f=m.length,o=0;o<f;o+=1)m[o].closed=!0;for(f=g.length,o=0;o<f;o+=1)g[o].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var t;this.renderModifiers();var e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,r=this.animatedContents.length;for(t=0;t<r;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(t,e,r,n,s,i){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,a=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,a=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,a=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,a=!0),this.m!==s&&(this.m=s,this._mdf.m=!0,a=!0),!i.length||this.p[0]===i[0]&&this.p[1]===i[1]&&this.p[4]===i[4]&&this.p[5]===i[5]&&this.p[12]===i[12]&&this.p[13]===i[13]||(this.p=i,this._mdf.p=!0,a=!0),a},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var n;this.lock=!0,this._mdf=!1;var s=this.effectsSequence.length,i=t||this.data.d.k[this.keysIndex].s;for(n=0;n<s;n+=1)i=r!==this.keysIndex?this.effectsSequence[n](i,i.t):this.effectsSequence[n](this.currentData,i.t);e!==i&&this.setCurrentData(i),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,r=0,n=t.length;r<=n-1&&!(r===n-1||t[r+1].t>e);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,r,n=[],s=0,i=t.length,a=!1,o=!1,l="";s<i;)a=o,o=!1,e=t.charCodeAt(s),l=t.charAt(s),FontManager.isCombinedCharacter(e)?a=!0:e>=55296&&e<=56319?FontManager.isRegionalFlag(t,s)?l=t.substr(s,14):(r=t.charCodeAt(s+1))>=56320&&r<=57343&&(FontManager.isModifier(e,r)?(l=t.substr(s,2),a=!0):l=FontManager.isFlagEmoji(t.substr(s,4))?t.substr(s,4):t.substr(s,2)):e>56319?(r=t.charCodeAt(s+1),FontManager.isVariationSelector(e)&&(a=!0)):FontManager.isZeroWidthJoiner(e)&&(a=!0,o=!0),a?(n[n.length-1]+=l,a=!1):n.push(l),s+=l.length;return n},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,r,n,s,i,a,o,l=this.elem.globalData.fontManager,c=this.data,h=[],u=0,d=c.m.g,p=0,f=0,m=0,g=[],y=0,b=0,v=l.getFontByName(t.f),w=0,E=getFontProperties(v);t.fWeight=E.weight,t.fStyle=E.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),r=t.finalText.length,t.finalLineHeight=t.lh;var x,k=t.tr/1e3*t.finalSize;if(t.sz)for(var A,P,_=!0,S=t.sz[0],C=t.sz[1];_;){A=0,y=0,r=(P=this.buildFinalText(t.t)).length,k=t.tr/1e3*t.finalSize;var T=-1;for(e=0;e<r;e+=1)x=P[e].charCodeAt(0),n=!1," "===P[e]?T=e:13!==x&&3!==x||(y=0,n=!0,A+=t.finalLineHeight||1.2*t.finalSize),l.chars?(o=l.getCharData(P[e],v.fStyle,v.fFamily),w=n?0:o.w*t.finalSize/100):w=l.measureText(P[e],t.f,t.finalSize),y+w>S&&" "!==P[e]?(-1===T?r+=1:e=T,A+=t.finalLineHeight||1.2*t.finalSize,P.splice(e,T===e?1:0,"\r"),T=-1,y=0):(y+=w,y+=k);A+=v.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&C<A?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=P,r=t.finalText.length,_=!1)}y=-k,w=0;var I,M=0;for(e=0;e<r;e+=1)if(n=!1,13===(x=(I=t.finalText[e]).charCodeAt(0))||3===x?(M=0,g.push(y),b=y>b?y:b,y=-2*k,s="",n=!0,m+=1):s=I,l.chars?(o=l.getCharData(I,v.fStyle,l.getFontByName(t.f).fFamily),w=n?0:o.w*t.finalSize/100):w=l.measureText(s,t.f,t.finalSize)," "===I?M+=w+k:(y+=w+k+M,M=0),h.push({l:w,an:w,add:p,n,anIndexes:[],val:s,line:m,animatorJustifyOffset:0}),2==d){if(p+=w,""===s||" "===s||e===r-1){for(""!==s&&" "!==s||(p-=w);f<=e;)h[f].an=p,h[f].ind=u,h[f].extra=w,f+=1;u+=1,p=0}}else if(3==d){if(p+=w,""===s||e===r-1){for(""===s&&(p-=w);f<=e;)h[f].an=p,h[f].ind=u,h[f].extra=w,f+=1;p=0,u+=1}}else h[u].ind=u,h[u].extra=0,u+=1;if(t.l=h,b=y>b?y:b,g.push(y),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=b,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=g;var O,D,F,N,R=c.a;a=R.length;var B=[];for(i=0;i<a;i+=1){for((O=R[i]).a.sc&&(t.strokeColorAnim=!0),O.a.sw&&(t.strokeWidthAnim=!0),(O.a.fc||O.a.fh||O.a.fs||O.a.fb)&&(t.fillColorAnim=!0),N=0,F=O.s.b,e=0;e<r;e+=1)(D=h[e]).anIndexes[i]=N,(1==F&&""!==D.val||2==F&&""!==D.val&&" "!==D.val||3==F&&(D.n||" "==D.val||e==r-1)||4==F&&(D.n||e==r-1))&&(1===O.s.rn&&B.push(N),N+=1);c.a[i].s.totalChars=N;var L,j=-1;if(1===O.s.rn)for(e=0;e<r;e+=1)j!=(D=h[e]).anIndexes[i]&&(j=D.anIndexes[i],L=B.splice(Math.floor(Math.random()*B.length),1)[0]),D.anIndexes[i]=L}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=v.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var r=this.copyData({},this.data.d.k[e].s);r=this.copyData(r,t),this.data.d.k[e].s=r,this.recalculate(e),this.setCurrentData(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,r=Math.floor;function n(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(t,e.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return n.prototype={getMult:function(n){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var s=0,i=0,a=1,o=1;this.ne.v>0?s=this.ne.v/100:i=-this.ne.v/100,this.xe.v>0?a=1-this.xe.v/100:o=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(s,i,a,o).get,c=0,h=this.finalS,u=this.finalE,d=this.data.sh;if(2===d)c=l(c=u===h?n>=u?1:0:t(0,e(.5/(u-h)+(n-h)/(u-h),1)));else if(3===d)c=l(c=u===h?n>=u?0:1:1-t(0,e(.5/(u-h)+(n-h)/(u-h),1)));else if(4===d)u===h?c=0:(c=t(0,e(.5/(u-h)+(n-h)/(u-h),1)))<.5?c*=2:c=1-2*(c-.5),c=l(c);else if(5===d){if(u===h)c=0;else{var p=u-h,f=-p/2+(n=e(t(0,n+.5-h),u-h)),m=p/2;c=Math.sqrt(1-f*f/(m*m))}c=l(c)}else 6===d?(u===h?c=0:(n=e(t(0,n+.5-h),u-h),c=(1+Math.cos(Math.PI+2*Math.PI*n/(u-h)))/2),c=l(c)):(n>=r(h)&&(c=t(0,e(n-h<0?e(u,1)-(h-n):u-n,1))),c=l(c));if(100!==this.sm.v){var g=.01*this.sm.v;0===g&&(g=1e-8);var y=.5-.5*g;c<y?c=0:(c=(c-y)/g)>1&&(c=1)}return c*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,r=this.o.v/e,n=this.s.v/e+r,s=this.e.v/e+r;if(n>s){var i=n;n=s,s=i}this.finalS=n,this.finalE=s}},extendPrototype([DynamicPropertyContainer],n),{getTextSelectorProp:function(t,e,r){return new n(t,e,r)}}}();function TextAnimatorDataProperty(t,e,r){var n={propType:!1},s=PropertyFactory.getProp,i=e.a;this.a={r:i.r?s(t,i.r,0,degToRads,r):n,rx:i.rx?s(t,i.rx,0,degToRads,r):n,ry:i.ry?s(t,i.ry,0,degToRads,r):n,sk:i.sk?s(t,i.sk,0,degToRads,r):n,sa:i.sa?s(t,i.sa,0,degToRads,r):n,s:i.s?s(t,i.s,1,.01,r):n,a:i.a?s(t,i.a,1,0,r):n,o:i.o?s(t,i.o,0,.01,r):n,p:i.p?s(t,i.p,1,0,r):n,sw:i.sw?s(t,i.sw,0,0,r):n,sc:i.sc?s(t,i.sc,1,0,r):n,fc:i.fc?s(t,i.fc,1,0,r):n,fh:i.fh?s(t,i.fh,0,0,r):n,fs:i.fs?s(t,i.fs,0,.01,r):n,fb:i.fb?s(t,i.fb,0,.01,r):n,t:i.t?s(t,i.t,0,0,r):n},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,r),this.s.t=e.s.t}function TextAnimatorProperty(t,e,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,r=this._textData.a.length,n=PropertyFactory.getProp;for(t=0;t<r;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:n(this._elem,this._textData.p.a,0,0,this),f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:n(this._elem,this._textData.p.r,0,0,this),p:n(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,n,s,i,a,o,l,c,h,u,d,p,f,m,g,y,b,v,w,E=this._moreOptions.alignment.v,x=this._animatorsData,k=this._textData,A=this.mHelper,P=this._renderType,_=this.renderedLetters.length,S=t.l;if(this._hasMaskedPath){if(w=this._pathData.m,!this._pathData.n||this._pathData._mdf){var C,T=w.v;for(this._pathData.r.v&&(T=T.reverse()),a={tLength:0,segments:[]},i=T._length-1,y=0,s=0;s<i;s+=1)C=bez.buildBezierData(T.v[s],T.v[s+1],[T.o[s][0]-T.v[s][0],T.o[s][1]-T.v[s][1]],[T.i[s+1][0]-T.v[s+1][0],T.i[s+1][1]-T.v[s+1][1]]),a.tLength+=C.segmentLength,a.segments.push(C),y+=C.segmentLength;s=i,w.v.c&&(C=bez.buildBezierData(T.v[s],T.v[0],[T.o[s][0]-T.v[s][0],T.o[s][1]-T.v[s][1]],[T.i[0][0]-T.v[0][0],T.i[0][1]-T.v[0][1]]),a.tLength+=C.segmentLength,a.segments.push(C),y+=C.segmentLength),this._pathData.pi=a}if(a=this._pathData.pi,o=this._pathData.f.v,d=0,u=1,c=0,h=!0,m=a.segments,o<0&&w.v.c)for(a.tLength<Math.abs(o)&&(o=-Math.abs(o)%a.tLength),u=(f=m[d=m.length-1].points).length-1;o<0;)o+=f[u].partialLength,(u-=1)<0&&(u=(f=m[d-=1].points).length-1);p=(f=m[d].points)[u-1],g=(l=f[u]).partialLength}i=S.length,r=0,n=0;var I,M,O,D,F,N=1.2*t.finalSize*.714,R=!0;O=x.length;var B,L,j,U,G,V,z,$,H,q,W,K,J=-1,Q=o,Y=d,Z=u,X=-1,tt="",et=this.defaultPropsArray;if(2===t.j||1===t.j){var rt=0,nt=0,st=2===t.j?-.5:-1,it=0,at=!0;for(s=0;s<i;s+=1)if(S[s].n){for(rt&&(rt+=nt);it<s;)S[it].animatorJustifyOffset=rt,it+=1;rt=0,at=!0}else{for(M=0;M<O;M+=1)(I=x[M].a).t.propType&&(at&&2===t.j&&(nt+=I.t.v*st),(F=x[M].s.getMult(S[s].anIndexes[M],k.a[M].s.totalChars)).length?rt+=I.t.v*F[0]*st:rt+=I.t.v*F*st);at=!1}for(rt&&(rt+=nt);it<s;)S[it].animatorJustifyOffset=rt,it+=1}for(s=0;s<i;s+=1){if(A.reset(),U=1,S[s].n)r=0,n+=t.yOffset,n+=R?1:0,o=Q,R=!1,this._hasMaskedPath&&(u=Z,p=(f=m[d=Y].points)[u-1],g=(l=f[u]).partialLength,c=0),tt="",W="",H="",K="",et=this.defaultPropsArray;else{if(this._hasMaskedPath){if(X!==S[s].line){switch(t.j){case 1:o+=y-t.lineWidths[S[s].line];break;case 2:o+=(y-t.lineWidths[S[s].line])/2}X=S[s].line}J!==S[s].ind&&(S[J]&&(o+=S[J].extra),o+=S[s].an/2,J=S[s].ind),o+=E[0]*S[s].an*.005;var ot=0;for(M=0;M<O;M+=1)(I=x[M].a).p.propType&&((F=x[M].s.getMult(S[s].anIndexes[M],k.a[M].s.totalChars)).length?ot+=I.p.v[0]*F[0]:ot+=I.p.v[0]*F),I.a.propType&&((F=x[M].s.getMult(S[s].anIndexes[M],k.a[M].s.totalChars)).length?ot+=I.a.v[0]*F[0]:ot+=I.a.v[0]*F);for(h=!0,this._pathData.a.v&&(o=.5*S[0].an+(y-this._pathData.f.v-.5*S[0].an-.5*S[S.length-1].an)*J/(i-1),o+=this._pathData.f.v);h;)c+g>=o+ot||!f?(b=(o+ot-c)/l.partialLength,L=p.point[0]+(l.point[0]-p.point[0])*b,j=p.point[1]+(l.point[1]-p.point[1])*b,A.translate(-E[0]*S[s].an*.005,-E[1]*N*.01),h=!1):f&&(c+=l.partialLength,(u+=1)>=f.length&&(u=0,m[d+=1]?f=m[d].points:w.v.c?(u=0,f=m[d=0].points):(c-=l.partialLength,f=null)),f&&(p=l,g=(l=f[u]).partialLength));B=S[s].an/2-S[s].add,A.translate(-B,0,0)}else B=S[s].an/2-S[s].add,A.translate(-B,0,0),A.translate(-E[0]*S[s].an*.005,-E[1]*N*.01,0);for(M=0;M<O;M+=1)(I=x[M].a).t.propType&&(F=x[M].s.getMult(S[s].anIndexes[M],k.a[M].s.totalChars),0===r&&0===t.j||(this._hasMaskedPath?F.length?o+=I.t.v*F[0]:o+=I.t.v*F:F.length?r+=I.t.v*F[0]:r+=I.t.v*F));for(t.strokeWidthAnim&&(V=t.sw||0),t.strokeColorAnim&&(G=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(z=[t.fc[0],t.fc[1],t.fc[2]]),M=0;M<O;M+=1)(I=x[M].a).a.propType&&((F=x[M].s.getMult(S[s].anIndexes[M],k.a[M].s.totalChars)).length?A.translate(-I.a.v[0]*F[0],-I.a.v[1]*F[1],I.a.v[2]*F[2]):A.translate(-I.a.v[0]*F,-I.a.v[1]*F,I.a.v[2]*F));for(M=0;M<O;M+=1)(I=x[M].a).s.propType&&((F=x[M].s.getMult(S[s].anIndexes[M],k.a[M].s.totalChars)).length?A.scale(1+(I.s.v[0]-1)*F[0],1+(I.s.v[1]-1)*F[1],1):A.scale(1+(I.s.v[0]-1)*F,1+(I.s.v[1]-1)*F,1));for(M=0;M<O;M+=1){if(I=x[M].a,F=x[M].s.getMult(S[s].anIndexes[M],k.a[M].s.totalChars),I.sk.propType&&(F.length?A.skewFromAxis(-I.sk.v*F[0],I.sa.v*F[1]):A.skewFromAxis(-I.sk.v*F,I.sa.v*F)),I.r.propType&&(F.length?A.rotateZ(-I.r.v*F[2]):A.rotateZ(-I.r.v*F)),I.ry.propType&&(F.length?A.rotateY(I.ry.v*F[1]):A.rotateY(I.ry.v*F)),I.rx.propType&&(F.length?A.rotateX(I.rx.v*F[0]):A.rotateX(I.rx.v*F)),I.o.propType&&(F.length?U+=(I.o.v*F[0]-U)*F[0]:U+=(I.o.v*F-U)*F),t.strokeWidthAnim&&I.sw.propType&&(F.length?V+=I.sw.v*F[0]:V+=I.sw.v*F),t.strokeColorAnim&&I.sc.propType)for($=0;$<3;$+=1)F.length?G[$]+=(I.sc.v[$]-G[$])*F[0]:G[$]+=(I.sc.v[$]-G[$])*F;if(t.fillColorAnim&&t.fc){if(I.fc.propType)for($=0;$<3;$+=1)F.length?z[$]+=(I.fc.v[$]-z[$])*F[0]:z[$]+=(I.fc.v[$]-z[$])*F;I.fh.propType&&(z=F.length?addHueToRGB(z,I.fh.v*F[0]):addHueToRGB(z,I.fh.v*F)),I.fs.propType&&(z=F.length?addSaturationToRGB(z,I.fs.v*F[0]):addSaturationToRGB(z,I.fs.v*F)),I.fb.propType&&(z=F.length?addBrightnessToRGB(z,I.fb.v*F[0]):addBrightnessToRGB(z,I.fb.v*F))}}for(M=0;M<O;M+=1)(I=x[M].a).p.propType&&(F=x[M].s.getMult(S[s].anIndexes[M],k.a[M].s.totalChars),this._hasMaskedPath?F.length?A.translate(0,I.p.v[1]*F[0],-I.p.v[2]*F[1]):A.translate(0,I.p.v[1]*F,-I.p.v[2]*F):F.length?A.translate(I.p.v[0]*F[0],I.p.v[1]*F[1],-I.p.v[2]*F[2]):A.translate(I.p.v[0]*F,I.p.v[1]*F,-I.p.v[2]*F));if(t.strokeWidthAnim&&(H=V<0?0:V),t.strokeColorAnim&&(q="rgb("+Math.round(255*G[0])+","+Math.round(255*G[1])+","+Math.round(255*G[2])+")"),t.fillColorAnim&&t.fc&&(W="rgb("+Math.round(255*z[0])+","+Math.round(255*z[1])+","+Math.round(255*z[2])+")"),this._hasMaskedPath){if(A.translate(0,-t.ls),A.translate(0,E[1]*N*.01+n,0),this._pathData.p.v){v=(l.point[1]-p.point[1])/(l.point[0]-p.point[0]);var lt=180*Math.atan(v)/Math.PI;l.point[0]<p.point[0]&&(lt+=180),A.rotate(-lt*Math.PI/180)}A.translate(L,j,0),o-=E[0]*S[s].an*.005,S[s+1]&&J!==S[s+1].ind&&(o+=S[s].an/2,o+=.001*t.tr*t.finalSize)}else{switch(A.translate(r,n,0),t.ps&&A.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:A.translate(S[s].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[S[s].line]),0,0);break;case 2:A.translate(S[s].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[S[s].line])/2,0,0)}A.translate(0,-t.ls),A.translate(B,0,0),A.translate(E[0]*S[s].an*.005,E[1]*N*.01,0),r+=S[s].l+.001*t.tr*t.finalSize}"html"===P?tt=A.toCSS():"svg"===P?tt=A.to2dCSS():et=[A.props[0],A.props[1],A.props[2],A.props[3],A.props[4],A.props[5],A.props[6],A.props[7],A.props[8],A.props[9],A.props[10],A.props[11],A.props[12],A.props[13],A.props[14],A.props[15]],K=U}_<=s?(D=new LetterProps(K,H,q,W,tt,et),this.renderedLetters.push(D),_+=1,this.lettersChangedFlag=!0):(D=this.renderedLetters[s],this.lettersChangedFlag=D.update(K,H,q,W,tt,et)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(t,e,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,r),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,e){var r,n,s=e.length,i="";for(r=0;r<s;r+=1)"sh"===e[r].ty&&(n=e[r].ks.k,i+=buildShapeString(n,n.i.length,!0,t));return i},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,r,n,s){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0)}e.translate(n,s,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,r){this.textSpans=[],this.renderType="svg",this.initElement(t,e,r)}function ISolidElement(t,e,r){this.initElement(t,e,r)}function NullElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initFrame(),this.initTransform(t,e,r),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(t,e,r){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(e&&e.title){var n=createNS("title"),s=createElementID();n.setAttribute("id",s),n.textContent=e.title,this.svgElement.appendChild(n),r+=s}if(e&&e.description){var i=createNS("desc"),a=createElementID();i.setAttribute("id",a),i.textContent=e.description,this.svgElement.appendChild(i),r+=" "+a}r&&this.svgElement.setAttribute("aria-labelledby",r);var o=createNS("defs");this.svgElement.appendChild(o);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&!1===e.hideOnTransparent),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,r=t.length,n=[],s="";e<r;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(n.push(s),s=""):s+=t[e],e+=1;return n.push(s),n},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var r=t.shapes[0];if(r.it){var n=r.it[r.it.length-1];n.s&&(n.s.k[0]=e,n.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){var t,e;this.addDynamicProperty(this);var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var n=this.globalData.fontManager.getFontByName(r.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var s=r.fWeight,i=r.fStyle;this.layerElement.setAttribute("font-style",i),this.layerElement.setAttribute("font-weight",s)}this.layerElement.setAttribute("aria-label",r.t);var a,o=r.l||[],l=!!this.globalData.fontManager.chars;e=o.length;var c=this.mHelper,h=this.data.singleShape,u=0,d=0,p=!0,f=.001*r.tr*r.finalSize;if(!h||l||r.sz){var m,g=this.textSpans.length;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!l||!h||0===t){if(a=g>t?this.textSpans[t].span:createNS(l?"g":"text"),g<=t){if(a.setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=a,l){var y=createNS("g");a.appendChild(y),this.textSpans[t].childSpan=y}this.textSpans[t].span=a,this.layerElement.appendChild(a)}a.style.display="inherit"}if(c.reset(),h&&(o[t].n&&(u=-f,d+=r.yOffset,d+=p?1:0,p=!1),this.applyTextPropertiesToMatrix(r,c,o[t].line,u,d),u+=o[t].l||0,u+=f),l){var b;if(1===(m=this.globalData.fontManager.getCharData(r.finalText[t],n.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily)).t)b=new SVGCompElement(m.data,this.globalData,this);else{var v=emptyShapeData;m.data&&m.data.shapes&&(v=this.buildShapeData(m.data,r.finalSize)),b=new SVGShapeElement(v,this.globalData,this)}if(this.textSpans[t].glyph){var w=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(w.layerElement),w.destroy()}this.textSpans[t].glyph=b,b._debug=!0,b.prepareFrame(0),b.renderFrame(),this.textSpans[t].childSpan.appendChild(b.layerElement),1===m.t&&this.textSpans[t].childSpan.setAttribute("transform","scale("+r.finalSize/100+","+r.finalSize/100+")")}else h&&a.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),a.textContent=o[t].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}h&&a&&a.setAttribute("d","")}else{var E=this.textContainer,x="start";switch(r.j){case 1:x="end";break;case 2:x="middle";break;default:x="start"}E.setAttribute("text-anchor",x),E.setAttribute("letter-spacing",f);var k=this.buildTextContents(r.finalText);for(e=k.length,d=r.ps?r.ps[1]+r.ascent:0,t=0;t<e;t+=1)(a=this.textSpans[t].span||createNS("tspan")).textContent=k[t],a.setAttribute("x",0),a.setAttribute("y",d),a.style.display="inherit",E.appendChild(a),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=a,d+=r.finalLineHeight;this.layerElement.appendChild(E)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e,r=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<r;t+=1)(e=this.textSpans[t].glyph)&&(e.prepareFrame(this.comp.renderedFrame-this.data.st),e._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var r,n,s,i=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;for(e=a.length,t=0;t<e;t+=1)a[t].n||(r=i[t],n=this.textSpans[t].span,(s=this.textSpans[t].glyph)&&s.renderFrame(),r._mdf.m&&n.setAttribute("transform",r.m),r._mdf.o&&n.setAttribute("opacity",r.o),r._mdf.sw&&n.setAttribute("stroke-width",r.sw),r._mdf.sc&&n.setAttribute("stroke",r.sc),r._mdf.fc&&n.setAttribute("fill",r.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var r=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",t.w),n.setAttribute("height",t.h),n.setAttribute("x",0),n.setAttribute("y",0);var s=createElementID();r.setAttribute("id",s),r.appendChild(n),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+s+")"),e.appendChild(r),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var e=0,r=this.layers.length;for(e=0;e<r;e+=1)if(this.layers[e].ind===t)return e;return-1},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){e[t]=!0;var r=this.createItem(this.layers[t]);if(e[t]=r,getExpressionsPlugin()&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt){var n="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(-1===n)return;if(this.elements[n]&&!0!==this.elements[n]){var s=e[n].getMatte(this.layers[t].tt);r.setMatte(s)}else this.buildItem(n),this.addPendingElement(r)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,r=this.elements.length;e<r;){if(this.elements[e]===t){var n="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,s=this.elements[n].getMatte(this.layers[e].tt);t.setMatte(s);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var r=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=r-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<r;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){for(var n,s=0;s<e;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement()&&(n=this.elements[s].getBaseElement()),s+=1;n?this.layerElement.insertBefore(r,n):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var r,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(t){var e,r=t.length,n="_";for(e=0;e<r;e+=1)n+=t[e].transform.key+"_";var s=this.sequences[n];return s||(s={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[n]=s,this.sequenceList.push(s)),s},processSequence:function(t,e){for(var r=0,n=t.transforms.length,s=e;r<n&&!e;){if(t.transforms[r].transform.mProps._mdf){s=!0;break}r+=1}if(s)for(t.finalTransform.reset(),r=n-1;r>=0;r-=1)t.finalTransform.multiply(t.transforms[r].transform.mProps.v);t._mdf=s},processSequences:function(t){var e,r=this.sequenceList.length;for(e=0;e<r;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",e=null,r=null,n=null;function s(){var s,i,a;e||(s=createNS("svg"),i=createNS("filter"),a=createNS("feColorMatrix"),i.setAttribute("id",t),a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),i.appendChild(a),s.appendChild(i),s.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(s.style.display="none"),n=s,document.body.appendChild(n),e=createTag("canvas"),(r=e.getContext("2d")).filter="url(#"+t+")",r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1))}return{load:s,get:function(n){return e||s(),e.width=n.width,e.height=n.height,r.filter="url(#"+t+")",e}}};function createCanvas(t,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,e);var r=createTag("canvas");return r.width=t,r.height=e,r}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas},registeredEffects={};function CVEffects(t){var e,r,n=t.data.ef?t.data.ef.length:0;for(this.filters=[],e=0;e<n;e+=1){r=null;var s=t.data.ef[e].ty;registeredEffects[s]&&(r=new(0,registeredEffects[s].effect)(t.effectsManager.effectElements[e],t)),r&&this.filters.push(r)}this.filters.length&&t.addRenderableComponent(this)}function registerEffect(t,e){registeredEffects[t]={effect:e}}function CVMaskElement(t,e){var r;this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n=this.masksProperties.length,s=!1;for(r=0;r<n;r+=1)"n"!==this.masksProperties[r].mode&&(s=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=s,s&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(t){var e,r=this.filters.length;for(e=0;e<r;e+=1)this.filters[e].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var e,r=this.filters.length,n=[];for(e=0;e<r;e+=1)this.filters[e].type===t&&n.push(this.filters[e]);return n},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,r,n,s=this.element.finalTransform.mat,i=this.element.canvasContext,a=this.masksProperties.length;for(i.beginPath(),t=0;t<a;t+=1)if("n"!==this.masksProperties[t].mode){var o;this.masksProperties[t].inv&&(i.moveTo(0,0),i.lineTo(this.element.globalData.compSize.w,0),i.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),i.lineTo(0,this.element.globalData.compSize.h),i.lineTo(0,0)),n=this.viewData[t].v,e=s.applyToPointArray(n.v[0][0],n.v[0][1],0),i.moveTo(e[0],e[1]);var l=n._length;for(o=1;o<l;o+=1)r=s.applyToTriplePoints(n.o[o-1],n.i[o],n.v[o]),i.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=s.applyToTriplePoints(n.o[o-1],n.i[0],n.v[0]),i.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),i.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(t,e,r,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var s,i=4;"rc"===e.ty?i=5:"el"===e.ty?i=6:"sr"===e.ty&&(i=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,i,t);var a,o=r.length;for(s=0;s<o;s+=1)r[s].closed||(a={transforms:n.addTransformSequence(r[s].transforms),trNodes:[]},this.styledShapes.push(a),r[s].elements.push(a))}function CVShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,r)}function CVTextElement(t,e,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,r)}function CVImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,r)}function CVSolidElement(t,e,r){this.initElement(t,e,r)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var t;for(this.stack=[],this.cArrPos=0,this.cTr=new Matrix,t=0;t<15;t+=1){var e=new CanvasContext;this.stack[t]=e}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(t,e,r){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(t,e,r){this.initElement(t,e,r)}function HShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,r)}function HCameraElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,t.pe,0,0,this),t.ks.p.s?(this.px=n(this,t.ks.p.x,1,0,this),this.py=n(this,t.ks.p.y,1,0,this),this.pz=n(this,t.ks.p.z,1,0,this)):this.p=n(this,t.ks.p,1,0,this),t.ks.a&&(this.a=n(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var s,i=t.ks.or.k.length;for(s=0;s<i;s+=1)t.ks.or.k[s].to=null,t.ks.or.k[s].ti=null}this.or=n(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,t.ks.rx,0,degToRads,this),this.ry=n(this,t.ks.ry,0,degToRads,this),this.rz=n(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r)}function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(t,e,r){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,e=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(e);var r=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(r),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0].getContext("2d");this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],e=t.getContext("2d");if(this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var r=assetLoader.getLumaCanvas(this.canvasContext.canvas);r.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(r,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var e=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(e),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var r={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},n={};if("fl"===t.ty||"st"===t.ty?(n.c=PropertyFactory.getProp(this,t.c,1,255,this),n.c.k||(r.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(n.s=PropertyFactory.getProp(this,t.s,1,null,this),n.e=PropertyFactory.getProp(this,t.e,1,null,this),n.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,t.g,this)),n.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"===t.ty||"gs"===t.ty){if(r.lc=lineCapEnum[t.lc||2],r.lj=lineJoinEnum[t.lj||2],1==t.lj&&(r.ml=t.ml),n.w=PropertyFactory.getProp(this,t.w,0,null,this),n.w.k||(r.wi=n.w.v),t.d){var s=new DashProperty(this,t.d,"canvas",this);n.d=s,n.d.k||(r.da=n.d.dashArray,r.do=n.d.dashoffset[0])}}else r.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(r),n.style=r,n},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,r,n,s){var i,a,o,l,c,h,u=t.length-1,d=[],p=[],f=[].concat(s);for(i=u;i>=0;i-=1){if((l=this.searchProcessedElement(t[i]))?e[i]=r[l-1]:t[i]._shouldRender=n,"fl"===t[i].ty||"st"===t[i].ty||"gf"===t[i].ty||"gs"===t[i].ty)l?e[i].style.closed=!1:e[i]=this.createStyleElement(t[i],f),d.push(e[i].style);else if("gr"===t[i].ty){if(l)for(o=e[i].it.length,a=0;a<o;a+=1)e[i].prevViewData[a]=e[i].it[a];else e[i]=this.createGroupElement(t[i]);this.searchShapes(t[i].it,e[i].it,e[i].prevViewData,n,f)}else"tr"===t[i].ty?(l||(h=this.createTransformElement(t[i]),e[i]=h),f.push(e[i]),this.addTransformToStyleList(e[i])):"sh"===t[i].ty||"rc"===t[i].ty||"el"===t[i].ty||"sr"===t[i].ty?l||(e[i]=this.createShapeElement(t[i])):"tm"===t[i].ty||"rd"===t[i].ty||"pb"===t[i].ty||"zz"===t[i].ty||"op"===t[i].ty?(l?(c=e[i]).closed=!1:((c=ShapeModifiers.getModifier(t[i].ty)).init(this,t[i]),e[i]=c,this.shapeModifiers.push(c)),p.push(c)):"rp"===t[i].ty&&(l?(c=e[i]).closed=!0:(c=ShapeModifiers.getModifier(t[i].ty),e[i]=c,c.init(this,t,i,e),this.shapeModifiers.push(c),n=!1),p.push(c));this.addProcessedElement(t[i],i+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),u=p.length,i=0;i<u;i+=1)p[i].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,r,n,s,i,a,o,l,c=this.stylesList.length,h=this.globalData.renderer,u=this.globalData.canvasContext;for(t=0;t<c;t+=1)if(("st"!==(o=(l=this.stylesList[t]).type)&&"gs"!==o||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(h.save(),i=l.elements,"st"===o||"gs"===o?(h.ctxStrokeStyle("st"===o?l.co:l.grd),h.ctxLineWidth(l.wi),h.ctxLineCap(l.lc),h.ctxLineJoin(l.lj),h.ctxMiterLimit(l.ml||0)):h.ctxFillStyle("fl"===o?l.co:l.grd),h.ctxOpacity(l.coOp),"st"!==o&&"gs"!==o&&u.beginPath(),h.ctxTransform(l.preTransforms.finalTransform.props),r=i.length,e=0;e<r;e+=1){for("st"!==o&&"gs"!==o||(u.beginPath(),l.da&&(u.setLineDash(l.da),u.lineDashOffset=l.do)),s=(a=i[e].trNodes).length,n=0;n<s;n+=1)"m"===a[n].t?u.moveTo(a[n].p[0],a[n].p[1]):"c"===a[n].t?u.bezierCurveTo(a[n].pts[0],a[n].pts[1],a[n].pts[2],a[n].pts[3],a[n].pts[4],a[n].pts[5]):u.closePath();"st"!==o&&"gs"!==o||(h.ctxStroke(),l.da&&u.setLineDash(this.dashResetter))}"st"!==o&&"gs"!==o&&this.globalData.renderer.ctxFill(l.r),h.restore()}},CVShapeElement.prototype.renderShape=function(t,e,r,n){var s,i;for(i=t,s=e.length-1;s>=0;s-=1)"tr"===e[s].ty?(i=r[s].transform,this.renderShapeTransform(t,i)):"sh"===e[s].ty||"el"===e[s].ty||"rc"===e[s].ty||"sr"===e[s].ty?this.renderPath(e[s],r[s]):"fl"===e[s].ty?this.renderFill(e[s],r[s],i):"st"===e[s].ty?this.renderStroke(e[s],r[s],i):"gf"===e[s].ty||"gs"===e[s].ty?this.renderGradientFill(e[s],r[s],i):"gr"===e[s].ty?this.renderShape(i,e[s].it,r[s].it):e[s].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var r,n,s,i=t.trNodes,a=e.paths,o=a._length;i.length=0;var l=t.transforms.finalTransform;for(s=0;s<o;s+=1){var c=a.shapes[s];if(c&&c.v){for(n=c._length,r=1;r<n;r+=1)1===r&&i.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),i.push({t:"c",pts:l.applyToTriplePoints(c.o[r-1],c.i[r],c.v[r])});1===n&&i.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&n&&(i.push({t:"c",pts:l.applyToTriplePoints(c.o[r-1],c.i[0],c.v[0])}),i.push({t:"z"}))}}t.trNodes=i}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var r,n=e.styledShapes.length;for(r=0;r<n;r+=1)this.renderStyledShape(e.styledShapes[r],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,r){var n=e.style;(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,r){var n,s=e.style;if(!s.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var i,a=this.globalData.canvasContext,o=e.s.v,l=e.e.v;if(1===t.t)n=a.createLinearGradient(o[0],o[1],l[0],l[1]);else{var c=Math.sqrt(Math.pow(o[0]-l[0],2)+Math.pow(o[1]-l[1],2)),h=Math.atan2(l[1]-o[1],l[0]-o[0]),u=e.h.v;u>=1?u=.99:u<=-1&&(u=-.99);var d=c*u,p=Math.cos(h+e.a.v)*d+o[0],f=Math.sin(h+e.a.v)*d+o[1];n=a.createRadialGradient(p,f,0,o[0],o[1],c)}var m=t.g.p,g=e.g.c,y=1;for(i=0;i<m;i+=1)e.g._hasOpacity&&e.g._collapsable&&(y=e.g.o[2*i+1]),n.addColorStop(g[4*i]/100,"rgba("+g[4*i+1]+","+g[4*i+2]+","+g[4*i+3]+","+y+")");s.grd=n}s.coOp=e.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(t,e,r){var n=e.style,s=e.d;s&&(s._mdf||this._isFirstFrame)&&(n.da=s.dashArray,n.do=s.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*r.opacity),(e.w._mdf||this._isFirstFrame)&&(n.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var r=!1;t.sc&&(r=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var n,s,i,a,o,l,c,h,u,d,p,f,m=this.globalData.fontManager.getFontByName(t.f),g=t.l,y=this.mHelper;this.stroke=r,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,s=t.finalText.length;var b=this.data.singleShape,v=.001*t.tr*t.finalSize,w=0,E=0,x=!0,k=0;for(n=0;n<s;n+=1){a=(i=this.globalData.fontManager.getCharData(t.finalText[n],m.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&i.data||{},y.reset(),b&&g[n].n&&(w=-v,E+=t.yOffset,E+=x?1:0,x=!1),u=(c=a.shapes?a.shapes[0].it:[]).length,y.scale(t.finalSize/100,t.finalSize/100),b&&this.applyTextPropertiesToMatrix(t,y,g[n].line,w,E),p=createSizedArray(u-1);var A=0;for(h=0;h<u;h+=1)if("sh"===c[h].ty){for(l=c[h].ks.k.i.length,d=c[h].ks.k,f=[],o=1;o<l;o+=1)1===o&&f.push(y.applyToX(d.v[0][0],d.v[0][1],0),y.applyToY(d.v[0][0],d.v[0][1],0)),f.push(y.applyToX(d.o[o-1][0],d.o[o-1][1],0),y.applyToY(d.o[o-1][0],d.o[o-1][1],0),y.applyToX(d.i[o][0],d.i[o][1],0),y.applyToY(d.i[o][0],d.i[o][1],0),y.applyToX(d.v[o][0],d.v[o][1],0),y.applyToY(d.v[o][0],d.v[o][1],0));f.push(y.applyToX(d.o[o-1][0],d.o[o-1][1],0),y.applyToY(d.o[o-1][0],d.o[o-1][1],0),y.applyToX(d.i[0][0],d.i[0][1],0),y.applyToY(d.i[0][0],d.i[0][1],0),y.applyToX(d.v[0][0],d.v[0][1],0),y.applyToY(d.v[0][0],d.v[0][1],0)),p[A]=f,A+=1}b&&(w+=g[n].l,w+=v),this.textSpans[k]?this.textSpans[k].elem=p:this.textSpans[k]={elem:p},k+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,r,n,s,i;this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,o=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;e=l.length;var c,h,u=null,d=null,p=null,f=this.globalData.renderer;for(t=0;t<e;t+=1)if(!l[t].n){if((a=o[t])&&(f.save(),f.ctxTransform(a.p),f.ctxOpacity(a.o)),this.fill){for(a&&a.fc?u!==a.fc&&(f.ctxFillStyle(a.fc),u=a.fc):u!==this.values.fill&&(u=this.values.fill,f.ctxFillStyle(this.values.fill)),n=(c=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(i=(h=c[r]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),s=2;s<i;s+=6)this.globalData.canvasContext.bezierCurveTo(h[s],h[s+1],h[s+2],h[s+3],h[s+4],h[s+5]);this.globalData.canvasContext.closePath(),f.ctxFill()}if(this.stroke){for(a&&a.sw?p!==a.sw&&(p=a.sw,f.ctxLineWidth(a.sw)):p!==this.values.sWidth&&(p=this.values.sWidth,f.ctxLineWidth(this.values.sWidth)),a&&a.sc?d!==a.sc&&(d=a.sc,f.ctxStrokeStyle(a.sc)):d!==this.values.stroke&&(d=this.values.stroke,f.ctxStrokeStyle(this.values.stroke)),n=(c=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(i=(h=c[r]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),s=2;s<i;s+=6)this.globalData.canvasContext.bezierCurveTo(h[s],h[s+1],h[s+2],h[s+3],h[s+4],h[s+5]);this.globalData.canvasContext.closePath(),f.ctxStroke()}a&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,r,n=t.getContext("2d"),s=this.img.width,i=this.img.height,a=s/i,o=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;a>o&&"xMidYMid slice"===l||a<o&&"xMidYMid slice"!==l?e=(r=i)*o:r=(e=s)/o,n.drawImage(this.img,(s-e)/2,(i-r)/2,e,r,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){1===t[0]&&0===t[1]&&0===t[4]&&1===t[5]&&0===t[12]&&0===t[13]||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,e,r,n){this.canvasContext.fillRect(t,e,r,n)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){this.renderConfig.clearCanvas?(t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var r="0px 0px 0px";e.transformOrigin=r,e.mozTransformOrigin=r,e.webkitTransformOrigin=r,e["-webkit-transform"]=r,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,e){var r,n,s,i;if(this.reset(),t?(r=t,n=e,this.canvasContext.canvas.width=r,this.canvasContext.canvas.height=n):(this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,n=this.animationItem.wrapper.offsetHeight):(r=this.canvasContext.canvas.width,n=this.canvasContext.canvas.height),this.canvasContext.canvas.width=r*this.renderConfig.dpr,this.canvasContext.canvas.height=n*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var a=this.renderConfig.preserveAspectRatio.split(" "),o=a[1]||"meet",l=a[0]||"xMidYMid",c=l.substr(0,4),h=l.substr(4);s=r/n,(i=this.transformCanvas.w/this.transformCanvas.h)>s&&"meet"===o||i<s&&"slice"===o?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===c&&(i<s&&"meet"===o||i>s&&"slice"===o)?(r-this.transformCanvas.w*(n/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===c&&(i<s&&"meet"===o||i>s&&"slice"===o)?(r-this.transformCanvas.w*(n/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===h&&(i>s&&"meet"===o||i<s&&"slice"===o)?(n-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===h&&(i>s&&"meet"===o||i<s&&"slice"===o)?(n-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){var r;this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var n=this.layers.length;for(this.completeLayers||this.checkLayers(t),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(t-this.layers[r].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){var r=this.createItem(this.layers[t],this,this.globalData);e[t]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=0;for(e=this._length;e<t;e+=1)this.stack[e]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var e,r=this.stack[this.cArrPos],n=r.transform,s=this.cTr.props;for(e=0;e<16;e+=1)s[e]=n[e];if(t){this.nativeContext.restore();var i=this.stack[this.cArrPos+1];this.appliedFillStyle=i.fillStyle,this.appliedStrokeStyle=i.strokeStyle,this.appliedLineWidth=i.lineWidth,this.appliedLineCap=i.lineCap,this.appliedLineJoin=i.lineJoin,this.appliedMiterLimit=i.miterLimit}this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13]),(t||-1!==r.opacity&&this.currentOpacity!==r.opacity)&&(this.nativeContext.globalAlpha=r.opacity,this.currentOpacity=r.opacity),this.currentFillStyle=r.fillStyle,this.currentStrokeStyle=r.strokeStyle,this.currentLineWidth=r.lineWidth,this.currentLineCap=r.lineCap,this.currentLineJoin=r.lineJoin,this.currentMiterLimit=r.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var r,n=this.stack[this.cArrPos];for(r=0;r<16;r+=1)n.transform[r]=e[r];this.cArrPos+=1;var s=this.stack[this.cArrPos];s.opacity=n.opacity,s.fillStyle=n.fillStyle,s.strokeStyle=n.strokeStyle,s.lineWidth=n.lineWidth,s.lineCap=n.lineCap,s.lineJoin=n.lineJoin,s.miterLimit=n.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var r=e.props;this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])},CVContextData.prototype.opacity=function(t){var e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,e,r,n){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,e,r,n)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();t.transform=e,t.webkitTransform=e}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)e=t[r].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var r,n,s,i,a,o=t.sh.v,l=t.transformers,c=o._length;if(!(c<=1)){for(r=0;r<c-1;r+=1)n=this.getTransformedPoint(l,o.v[r]),s=this.getTransformedPoint(l,o.o[r]),i=this.getTransformedPoint(l,o.i[r+1]),a=this.getTransformedPoint(l,o.v[r+1]),this.checkBounds(n,s,i,a,e);o.c&&(n=this.getTransformedPoint(l,o.v[r]),s=this.getTransformedPoint(l,o.o[r]),i=this.getTransformedPoint(l,o.i[0]),a=this.getTransformedPoint(l,o.v[0]),this.checkBounds(n,s,i,a,e))}},HShapeElement.prototype.checkBounds=function(t,e,r,n,s){this.getBoundsOfCurve(t,e,r,n);var i=this.shapeBoundingBox;s.x=bmMin(i.left,s.x),s.xMax=bmMax(i.right,s.xMax),s.y=bmMin(i.top,s.y),s.yMax=bmMax(i.bottom,s.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,r,n){for(var s,i,a,o,l,c,h,u=[[t[0],n[0]],[t[1],n[1]]],d=0;d<2;++d)i=6*t[d]-12*e[d]+6*r[d],s=-3*t[d]+9*e[d]-9*r[d]+3*n[d],a=3*e[d]-3*t[d],i|=0,a|=0,0==(s|=0)&&0===i||(0===s?(o=-a/i)>0&&o<1&&u[d].push(this.calculateF(o,t,e,r,n,d)):(l=i*i-4*a*s)>=0&&((c=(-i+bmSqrt(l))/(2*s))>0&&c<1&&u[d].push(this.calculateF(c,t,e,r,n,d)),(h=(-i-bmSqrt(l))/(2*s))>0&&h<1&&u[d].push(this.calculateF(h,t,e,r,n,d))));this.shapeBoundingBox.left=bmMin.apply(null,u[0]),this.shapeBoundingBox.top=bmMin.apply(null,u[1]),this.shapeBoundingBox.right=bmMax.apply(null,u[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,u[1])},HShapeElement.prototype.calculateF=function(t,e,r,n,s,i){return bmPow(1-t,3)*e[i]+3*bmPow(1-t,2)*t*r[i]+3*(1-t)*bmPow(t,2)*n[i]+bmPow(t,3)*s[i]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)t[r]&&t[r].sh?this.calculateShapeBoundingBox(t[r],e):t[r]&&t[r].it?this.calculateBoundingBox(t[r].it,e):t[r]&&t[r].style&&t[r].w&&this.expandStrokeBoundingBox(t[r].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var r=0;if(t.keyframes){for(var n=0;n<t.keyframes.length;n+=1){var s=t.keyframes[n].s;s>r&&(r=s)}r*=t.mult}else r=t.v*t.mult;e.x-=r,e.xMax+=r,e.y-=r,e.yMax+=r},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var r=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),r=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),r=!0),r||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var n=this.shapeCont.style,s="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";n.transform=s,n.webkitTransform=s}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,r=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=r,e.color=r,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var n,s,i=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{e.fontFamily=i.fFamily;var a=t.fWeight,o=t.fStyle;e.fontStyle=o,e.fontWeight=a}var l,c,h,u=t.l;s=u.length;var d,p=this.mHelper,f="",m=0;for(n=0;n<s;n+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:((l=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),l.setAttribute("stroke-linejoin",lineJoinEnum[2]),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?h=(c=this.textSpans[m]).children[0]:((c=createTag("div")).style.lineHeight=0,(h=createNS("svg")).appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(c=this.textSpans[m],l=this.textPaths[m]):(styleDiv(c=createTag("span")),styleDiv(l=createTag("span")),c.appendChild(l)),this.globalData.fontManager.chars){var g,y=this.globalData.fontManager.getCharData(t.finalText[n],i.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(g=y?y.data:null,p.reset(),g&&g.shapes&&g.shapes.length&&(d=g.shapes[0].it,p.scale(t.finalSize/100,t.finalSize/100),f=this.createPathShape(p,d),l.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(c),g&&g.shapes){document.body.appendChild(h);var b=h.getBBox();h.setAttribute("width",b.width+2),h.setAttribute("height",b.height+2),h.setAttribute("viewBox",b.x-1+" "+(b.y-1)+" "+(b.width+2)+" "+(b.height+2));var v=h.style,w="translate("+(b.x-1)+"px,"+(b.y-1)+"px)";v.transform=w,v.webkitTransform=w,u[n].yOffset=b.y-1}else h.setAttribute("width",1),h.setAttribute("height",1);c.appendChild(h)}}else if(l.textContent=u[n].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(c);var E=l.style,x="translate3d(0,"+-t.finalSize/1.2+"px,0)";E.transform=x,E.webkitTransform=x}this.isMasked?this.textSpans[m]=l:this.textSpans[m]=c,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var r,n,s,i,a,o=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(n=c.length,r=0;r<n;r+=1)c[r].n?o+=1:(i=this.textSpans[r],a=this.textPaths[r],s=l[o],o+=1,s._mdf.m&&(this.isMasked?i.setAttribute("transform",s.m):(i.style.webkitTransform=s.m,i.style.transform=s.m)),i.style.opacity=s.o,s.sw&&s._mdf.sw&&a.setAttribute("stroke-width",s.sw),s.sc&&s._mdf.sc&&a.setAttribute("stroke",s.sc),s.fc&&s._mdf.fc&&(a.setAttribute("fill",s.fc),a.style.color=s.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var h=this.innerElem.getBBox();if(this.currentBBox.w!==h.width&&(this.currentBBox.w=h.width,this.svgElement.setAttribute("width",h.width)),this.currentBBox.h!==h.height&&(this.currentBBox.h=h.height,this.svgElement.setAttribute("height",h.height)),this.currentBBox.w!==h.width+2||this.currentBBox.h!==h.height+2||this.currentBBox.x!==h.x-1||this.currentBBox.y!==h.y-1){this.currentBBox.w=h.width+2,this.currentBBox.h=h.height+2,this.currentBBox.x=h.x-1,this.currentBBox.y=h.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var u="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=u,t.webkitTransform=u}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,r,n,s=this.comp.threeDElements.length;for(t=0;t<s;t+=1)if("3d"===(e=this.comp.threeDElements[t]).type){r=e.perspectiveElem.style,n=e.container.style;var i=this.pe.v+"px",a="0px 0px 0px",o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=i,r.webkitPerspective=i,n.transformOrigin=a,n.mozTransformOrigin=a,n.webkitTransformOrigin=a,r.transform=o,r.webkitTransform=o}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,r=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)r=this.hierarchy[t].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var n=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var s;s=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var i=Math.sqrt(Math.pow(s[0],2)+Math.pow(s[1],2)+Math.pow(s[2],2)),a=[s[0]/i,s[1]/i,s[2]/i],o=Math.sqrt(a[2]*a[2]+a[0]*a[0]),l=Math.atan2(a[1],o),c=Math.atan2(a[0],-a[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var h=!this._prevMat.equals(this.mat);if((h||this.pe._mdf)&&this.comp.threeDElements){var u,d,p;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)if("3d"===(u=this.comp.threeDElements[t]).type){if(h){var f=this.mat.toCSS();(p=u.container.style).transform=f,p.webkitTransform=f}this.pe._mdf&&((d=u.perspectiveElem.style).perspective=this.pe.v+"px",d.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){var n=this.layers[e];if(n.ddd&&this.supports3d)this.addTo3dContainer(r,e);else if(this.threeDElements)this.addTo3dContainer(r,e);else{for(var s,i,a=0;a<e;)this.elements[a]&&!0!==this.elements[a]&&this.elements[a].getBaseElement&&(i=this.elements[a],s=(this.layers[a].ddd?this.getThreeDContainerByPos(a):i.getBaseElement())||s),a+=1;s?n.ddd&&this.supports3d||this.layerElement.insertBefore(r,s):n.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,r=this.threeDElements.length;e<r;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var r,n,s=createTag("div");styleDiv(s);var i=createTag("div");if(styleDiv(i),"3d"===e){(r=s.style).width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var a="50% 50%";r.webkitTransformOrigin=a,r.mozTransformOrigin=a,r.transformOrigin=a;var o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(n=i.style).transform=o,n.webkitTransform=o}s.appendChild(i);var l={container:i,perspectiveElem:s,startPos:t,endPos:t,type:e};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var t,e,r=this.layers.length,n="";for(t=0;t<r;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?("3d"!==n&&(n="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):("2d"!==n&&(n="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(r=this.threeDElements.length)-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var r=0,n=this.threeDElements.length;r<n;){if(e<=this.threeDElements[r].endPos){for(var s,i=this.threeDElements[r].startPos;i<e;)this.elements[i]&&this.elements[i].getBaseElement&&(s=this.elements[i].getBaseElement()),i+=1;s?this.threeDElements[r].container.insertBefore(t,s):this.threeDElements[r].container.appendChild(t);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),r=this.animationItem.wrapper,n=e.style;n.width=t.w+"px",n.height=t.h+"px",this.resizerElem=e,styleDiv(e),n.transformStyle="flat",n.mozTransformStyle="flat",n.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),r.appendChild(e),n.overflow="hidden";var s=createNS("svg");s.setAttribute("width","1"),s.setAttribute("height","1"),styleDiv(s),this.resizerElem.appendChild(s);var i=createNS("defs");s.appendChild(i),this.data=t,this.setupGlobalData(t,s),this.globalData.defs=i,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t,e,r,n,s=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight,a=s/i;this.globalData.compSize.w/this.globalData.compSize.h>a?(t=s/this.globalData.compSize.w,e=s/this.globalData.compSize.w,r=0,n=(i-this.globalData.compSize.h*(s/this.globalData.compSize.w))/2):(t=i/this.globalData.compSize.h,e=i/this.globalData.compSize.h,r=(s-this.globalData.compSize.w*(i/this.globalData.compSize.h))/2,n=0);var o=this.resizerElem.style;o.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+r+","+n+",0,1)",o.transform=o.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,r=this.globalData.compSize.h,n=this.threeDElements.length;for(t=0;t<n;t+=1){var s=this.threeDElements[t].perspectiveElem.style;s.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(r,2))+"px",s.perspective=s.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,r=t.length,n=createTag("div");for(e=0;e<r;e+=1)if(t[e].xt){var s=this.createComp(t[e],n,this.globalData.comp,null);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var r,n=0;n<e;)this.elements[n]&&this.elements[n].getBaseElement&&(r=this.elements[n].getBaseElement()),n+=1;r?this.layerElement.insertBefore(t,r):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=function(t){function e(e){for(var r=0,n=t.layers.length;r<n;){if(t.layers[r].nm===e||t.layers[r].ind===e)return t.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e};function _typeof$2(t){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$2(t)}function seedRandom(t,e){var r,n=this,s=256,i="random",a=e.pow(s,6),o=e.pow(2,52),l=2*o,c=s-1;function h(t){var e,r=t.length,n=this,i=0,a=n.i=n.j=0,o=n.S=[];for(r||(t=[r++]);i<s;)o[i]=i++;for(i=0;i<s;i++)o[i]=o[a=c&a+t[i%r]+(e=o[i])],o[a]=e;n.g=function(t){for(var e,r=0,i=n.i,a=n.j,o=n.S;t--;)e=o[i=c&i+1],r=r*s+o[c&(o[i]=o[a=c&a+e])+(o[a]=e)];return n.i=i,n.j=a,r}}function u(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function d(t,e){var r,n=[],s=_typeof$2(t);if(e&&"object"==s)for(r in t)try{n.push(d(t[r],e-1))}catch(t){}return n.length?n:"string"==s?t:t+"\0"}function p(t,e){for(var r,n=t+"",s=0;s<n.length;)e[c&s]=c&(r^=19*e[c&s])+n.charCodeAt(s++);return f(e)}function f(t){return String.fromCharCode.apply(0,t)}e["seed"+i]=function(c,m,g){var y=[],b=p(d((m=!0===m?{entropy:!0}:m||{}).entropy?[c,f(t)]:null===c?function(){try{if(r)return f(r.randomBytes(s));var e=new Uint8Array(s);return(n.crypto||n.msCrypto).getRandomValues(e),f(e)}catch(e){var i=n.navigator,a=i&&i.plugins;return[+new Date,n,a,n.screen,f(t)]}}():c,3),y),v=new h(y),w=function(){for(var t=v.g(6),e=a,r=0;t<o;)t=(t+r)*s,e*=s,r=v.g(1);for(;t>=l;)t/=2,e/=2,r>>>=1;return(t+r)/e};return w.int32=function(){return 0|v.g(4)},w.quick=function(){return v.g(4)/4294967296},w.double=w,p(f(v.S),t),(m.pass||g||function(t,r,n,s){return s&&(s.S&&u(s,v),t.state=function(){return u(v,{})}),n?(e[i]=t,r):t})(w,b,"global"in m?m.global:this==e,m.state)},p(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$1(t)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||e instanceof Number||"boolean"===t||"string"===t}function $bm_neg(t){var e=_typeof$1(t);if("number"===e||t instanceof Number||"boolean"===e)return-t;if($bm_isInstanceOfArray(t)){var r,n=t.length,s=[];for(r=0;r<n;r+=1)s[r]=-t[r];return s}return t.propType?t.v:-t}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var r=_typeof$1(t),n=_typeof$1(e);if(isNumerable(r,t)&&isNumerable(n,e)||"string"===r||"string"===n)return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return(t=t.slice(0))[0]+=e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var s=0,i=t.length,a=e.length,o=[];s<i||s<a;)("number"==typeof t[s]||t[s]instanceof Number)&&("number"==typeof e[s]||e[s]instanceof Number)?o[s]=t[s]+e[s]:o[s]=void 0===e[s]?t[s]:t[s]||e[s],s+=1;return o}return 0}var add=sum;function sub(t,e){var r=_typeof$1(t),n=_typeof$1(e);if(isNumerable(r,t)&&isNumerable(n,e))return"string"===r&&(t=parseInt(t,10)),"string"===n&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return(t=t.slice(0))[0]-=e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var s=0,i=t.length,a=e.length,o=[];s<i||s<a;)("number"==typeof t[s]||t[s]instanceof Number)&&("number"==typeof e[s]||e[s]instanceof Number)?o[s]=t[s]-e[s]:o[s]=void 0===e[s]?t[s]:t[s]||e[s],s+=1;return o}return 0}function mul(t,e){var r,n,s,i=_typeof$1(t),a=_typeof$1(e);if(isNumerable(i,t)&&isNumerable(a,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(a,e)){for(s=t.length,r=createTypedArray("float32",s),n=0;n<s;n+=1)r[n]=t[n]*e;return r}if(isNumerable(i,t)&&$bm_isInstanceOfArray(e)){for(s=e.length,r=createTypedArray("float32",s),n=0;n<s;n+=1)r[n]=t*e[n];return r}return 0}function div(t,e){var r,n,s,i=_typeof$1(t),a=_typeof$1(e);if(isNumerable(i,t)&&isNumerable(a,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(a,e)){for(s=t.length,r=createTypedArray("float32",s),n=0;n<s;n+=1)r[n]=t[n]/e;return r}if(isNumerable(i,t)&&$bm_isInstanceOfArray(e)){for(s=e.length,r=createTypedArray("float32",s),n=0;n<s;n+=1)r[n]=t/e[n];return r}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t,10)),"string"==typeof e&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,r){if(e>r){var n=r;r=e,e=n}return Math.min(Math.max(t,e),r)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);var r;e||(e=helperLengthArray);var n=Math.min(t.length,e.length),s=0;for(r=0;r<n;r+=1)s+=Math.pow(e[r]-t[r],2);return Math.sqrt(s)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,r,n=t[0],s=t[1],i=t[2],a=Math.max(n,s,i),o=Math.min(n,s,i),l=(a+o)/2;if(a===o)e=0,r=0;else{var c=a-o;switch(r=l>.5?c/(2-a-o):c/(a+o),a){case n:e=(s-i)/c+(s<i?6:0);break;case s:e=(i-n)/c+2;break;case i:e=(n-s)/c+4}e/=6}return[e,r,l,t[3]]}function hue2rgb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function hslToRgb(t){var e,r,n,s=t[0],i=t[1],a=t[2];if(0===i)e=a,n=a,r=a;else{var o=a<.5?a*(1+i):a+i-a*i,l=2*a-o;e=hue2rgb(l,o,s+1/3),r=hue2rgb(l,o,s),n=hue2rgb(l,o,s-1/3)}return[e,r,n,t[3]]}function linear(t,e,r,n,s){if(void 0!==n&&void 0!==s||(n=e,s=r,e=0,r=1),r<e){var i=r;r=e,e=i}if(t<=e)return n;if(t>=r)return s;var a,o=r===e?0:(t-e)/(r-e);if(!n.length)return n+(s-n)*o;var l=n.length,c=createTypedArray("float32",l);for(a=0;a<l;a+=1)c[a]=n[a]+(s[a]-n[a])*o;return c}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var r,n=e.length;t||(t=createTypedArray("float32",n));var s=createTypedArray("float32",n),i=BMMath.random();for(r=0;r<n;r+=1)s[r]=t[r]+i*(e[r]-t[r]);return s}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,r,n){var s,i=t.length,a=shapePool.newElement();a.setPathData(!!n,i);var o,l,c=[0,0];for(s=0;s<i;s+=1)o=e&&e[s]?e[s]:c,l=r&&r[s]?r[s]:c,a.setTripleAt(t[s][0],t[s][1],l[0]+t[s][0],l[1]+t[s][1],o[0]+t[s][0],o[1]+t[s][1],s,!0);return a}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(t,e){var r,n,s=this.pv.length?this.pv.length:1,i=createTypedArray("float32",s),a=Math.floor(5*time);for(r=0,n=0;r<a;){for(n=0;n<s;n+=1)i[n]+=-e+2*e*BMMath.random();r+=1}var o=5*time,l=o-Math.floor(o),c=createTypedArray("float32",s);if(s>1){for(n=0;n<s;n+=1)c[n]=this.pv[n]+i[n]+(-e+2*e*BMMath.random())*l;return c}return this.pv+i[0]+(-e+2*e*BMMath.random())*l}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var r=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],n=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,n,0]}function easeOut(t,e,r,n,s){return applyEase(easeOutBez,t,e,r,n,s)}function easeIn(t,e,r,n,s){return applyEase(easeInBez,t,e,r,n,s)}function ease(t,e,r,n,s){return applyEase(easeInOutBez,t,e,r,n,s)}function applyEase(t,e,r,n,s,i){void 0===s?(s=r,i=n):e=(e-r)/(n-r),e>1?e=1:e<0&&(e=0);var a=t(e);if($bm_isInstanceOfArray(s)){var o,l=s.length,c=createTypedArray("float32",l);for(o=0;o<l;o+=1)c[o]=(i[o]-s[o])*a+s[o];return c}return(i-s)*a+s}function nearestKey(t){var e,r,n,s=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,n=data.k[0].t;else{for(e=0;e<s-1;e+=1){if(t===data.k[e].t){r=e+1,n=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(r=e+2,n=data.k[e+1].t):(r=e+1,n=data.k[e].t);break}}-1===r&&(r=e+1,n=data.k[e].t)}else r=0,n=0;var i={};return i.index=r,i.time=n/elem.comp.globalData.frameRate,i}function key(t){var e,r,n;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var s=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(n=s.length,r=0;r<n;r+=1)e[r]=s[r],e.value[r]=s[r];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var t={initExpressions:function(t){var e=0,r=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0==(e-=1)&&function(){var t,e=r.length;for(t=0;t<e;t+=1)r[t].release();r.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===r.indexOf(t)&&r.push(t)}}};return t.resetFrame=ExpressionManager.resetFrame,t}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e){var r,n=createSizedArray(e.viewData.length),s=e.viewData.length;for(r=0;r<s;r+=1)n[r]=new t(e.viewData[r],e.masksProperties[r]);return function(t){for(r=0;r<s;){if(e.masksProperties[r].nm===t)return n[r];r+=1}return null}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function r(t,e,r){Object.defineProperty(t,"velocity",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(n){if(!t.numKeys)return 0;var s="";s="s"in e.keyframes[n-1]?e.keyframes[n-1].s:"e"in e.keyframes[n-2]?e.keyframes[n-2].e:e.keyframes[n-2].s;var i="unidimensional"===r?new Number(s):Object.assign({},s);return i.time=e.keyframes[n-1].t/e.elem.comp.globalData.frameRate,i.value="unidimensional"===r?s[0]:s,i},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function n(){return t}return function(s){return s?"unidimensional"===s.propType?function(e){e&&"pv"in e||(e=t);var n=1/e.mult,s=e.pv*n,i=new Number(s);return i.value=s,r(i,e,"unidimensional"),function(){return e.k&&e.getValue(),s=e.v*n,i.value!==s&&((i=new Number(s)).value=s,r(i,e,"unidimensional")),i}}(s):function(t){t&&"pv"in t||(t=e);var n=1/t.mult,s=t.data&&t.data.l||t.pv.length,i=createTypedArray("float32",s),a=createTypedArray("float32",s);return i.value=a,r(i,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<s;e+=1)a[e]=t.v[e]*n,i[e]=a[e];return i}}(s):n}}(),TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}var r,n,s,i;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?i=ExpressionPropertyInterface(t.p):(r=ExpressionPropertyInterface(t.px),n=ExpressionPropertyInterface(t.py),t.pz&&(s=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?i():[r(),n(),s?s():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},LayerExpressionInterface=function(){function t(t){var e=new Matrix;return void 0!==t?this._elem.finalTransform.mProp.getValueAtTime(t).clone(e):this._elem.finalTransform.mProp.applyToMatrix(e),e}function e(t,e){var r=this.getMatrix(e);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.applyPoint(r,t)}function r(t,e){var r=this.getMatrix(e);return this.applyPoint(r,t)}function n(t,e){var r=this.getMatrix(e);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.invertPoint(r,t)}function s(t,e){var r=this.getMatrix(e);return this.invertPoint(r,t)}function i(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t)}return t.applyToPointArray(e[0],e[1],e[2]||0)}function a(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t)}return t.inversePoint(e)}function o(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function l(){return[1,1,1,1]}return function(c){var h;function u(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return u.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return h;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return u.effect;case"ADBE Text Properties":return u.textInterface;default:return null}}u.getMatrix=t,u.invertPoint=a,u.applyPoint=i,u.toWorld=r,u.toWorldVec=e,u.fromWorld=s,u.fromWorldVec=n,u.toComp=r,u.fromComp=o,u.sampleImage=l,u.sourceRectAtTime=c.sourceRectAtTime.bind(c),u._elem=c;var d=getDescriptor(h=TransformExpressionInterface(c.finalTransform.mProp),"anchorPoint");return Object.defineProperties(u,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(h,"rotation"),scale:getDescriptor(h,"scale"),position:getDescriptor(h,"position"),opacity:getDescriptor(h,"opacity"),anchorPoint:d,anchor_point:d,transform:{get:function(){return h}},active:{get:function(){return c.isInRange}}}),u.startTime=c.data.st,u.index=c.data.ind,u.source=c.data.refId,u.height=0===c.data.ty?c.data.h:100,u.width=0===c.data.ty?c.data.w:100,u.inPoint=c.data.ip/c.comp.globalData.frameRate,u.outPoint=c.data.op/c.comp.globalData.frameRate,u._name=c.data.nm,u.registerMaskInterface=function(t){u.mask=new MaskManagerInterface(t,c)},u.registerEffectsInterface=function(t){u.effect=t},u}}(),propertyGroupFactory=function(t,e){return function(r){return(r=void 0===r?1:r)<=0?t:e(r-1)}},PropertyInterface=function(t,e){var r={_name:t};return function(t){return(t=void 0===t?1:t)<=0?r:e(t-1)}},EffectsExpressionInterface=function(){function t(r,n,s,i){function a(t){for(var e=r.ef,n=0,s=e.length;n<s;){if(t===e[n].nm||t===e[n].mn||t===e[n].ix)return 5===e[n].ty?c[n]:c[n]();n+=1}throw new Error}var o,l=propertyGroupFactory(a,s),c=[],h=r.ef.length;for(o=0;o<h;o+=1)5===r.ef[o].ty?c.push(t(r.ef[o],n.effectElements[o],n.effectElements[o].propertyGroup,i)):c.push(e(n.effectElements[o],r.ef[o].ty,i,l));return"ADBE Color Control"===r.mn&&Object.defineProperty(a,"color",{get:function(){return c[0]()}}),Object.defineProperties(a,{numProperties:{get:function(){return r.np}},_name:{value:r.nm},propertyGroup:{value:l}}),a.enabled=0!==r.en,a.active=a.enabled,a}function e(t,e,r,n){var s=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(PropertyInterface("",n)),function(){return 10===e?r.comp.compInterface(t.p.v):s()}}return{createEffectsInterface:function(e,r){if(e.effectsManager){var n,s=[],i=e.data.ef,a=e.effectsManager.effectElements.length;for(n=0;n<a;n+=1)s.push(t(i[n],e.effectsManager.effectElements[n],r,e));var o=e.data.ef||[],l=function(t){for(n=0,a=o.length;n<a;){if(t===o[n].nm||t===o[n].mn||t===o[n].ix)return s[n];n+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return o.length}}),l}return null}}}(),ShapePathInterface=function(t,e,r){var n=e.sh;function s(t){return"Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t?s.path:null}var i=propertyGroupFactory(s,r);return n.setGroupProperty(PropertyInterface("Path",i)),Object.defineProperties(s,{path:{get:function(){return n.k&&n.getValue(),n}},shape:{get:function(){return n.k&&n.getValue(),n}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:r}}),s},ShapeExpressionInterface=function(){function t(t,a,d){var p,f=[],m=t?t.length:0;for(p=0;p<m;p+=1)"gr"===t[p].ty?f.push(e(t[p],a[p],d)):"fl"===t[p].ty?f.push(r(t[p],a[p],d)):"st"===t[p].ty?f.push(s(t[p],a[p],d)):"tm"===t[p].ty?f.push(i(t[p],a[p],d)):"tr"===t[p].ty||("el"===t[p].ty?f.push(o(t[p],a[p],d)):"sr"===t[p].ty?f.push(l(t[p],a[p],d)):"sh"===t[p].ty?f.push(ShapePathInterface(t[p],a[p],d)):"rc"===t[p].ty?f.push(c(t[p],a[p],d)):"rd"===t[p].ty?f.push(h(t[p],a[p],d)):"rp"===t[p].ty?f.push(u(t[p],a[p],d)):"gf"===t[p].ty?f.push(n(t[p],a[p],d)):f.push((t[p],a[p],function(){return null})));return f}function e(e,r,n){var s=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return s.content;default:return s.transform}};s.propertyGroup=propertyGroupFactory(s,n);var i=function(e,r,n){var s,i=function(t){for(var e=0,r=s.length;e<r;){if(s[e]._name===t||s[e].mn===t||s[e].propertyIndex===t||s[e].ix===t||s[e].ind===t)return s[e];e+=1}return"number"==typeof t?s[t-1]:null};i.propertyGroup=propertyGroupFactory(i,n),s=t(e.it,r.it,i.propertyGroup),i.numProperties=s.length;var o=a(e.it[e.it.length-1],r.it[r.it.length-1],i.propertyGroup);return i.transform=o,i.propertyIndex=e.cix,i._name=e.nm,i}(e,r,s.propertyGroup),o=a(e.it[e.it.length-1],r.it[r.it.length-1],s.propertyGroup);return s.content=i,s.transform=o,Object.defineProperty(s,"_name",{get:function(){return e.nm}}),s.numProperties=e.np,s.propertyIndex=e.ix,s.nm=e.nm,s.mn=e.mn,s}function r(t,e,r){function n(t){return"Color"===t||"color"===t?n.color:"Opacity"===t||"opacity"===t?n.opacity:null}return Object.defineProperties(n,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",r)),e.o.setGroupProperty(PropertyInterface("Opacity",r)),n}function n(t,e,r){function n(t){return"Start Point"===t||"start point"===t?n.startPoint:"End Point"===t||"end point"===t?n.endPoint:"Opacity"===t||"opacity"===t?n.opacity:null}return Object.defineProperties(n,{startPoint:{get:ExpressionPropertyInterface(e.s)},endPoint:{get:ExpressionPropertyInterface(e.e)},opacity:{get:ExpressionPropertyInterface(e.o)},type:{get:function(){return"a"}},_name:{value:t.nm},mn:{value:t.mn}}),e.s.setGroupProperty(PropertyInterface("Start Point",r)),e.e.setGroupProperty(PropertyInterface("End Point",r)),e.o.setGroupProperty(PropertyInterface("Opacity",r)),n}function s(t,e,r){var n,s=propertyGroupFactory(c,r),i=propertyGroupFactory(l,s);function a(r){Object.defineProperty(l,t.d[r].nm,{get:ExpressionPropertyInterface(e.d.dataProps[r].p)})}var o=t.d?t.d.length:0,l={};for(n=0;n<o;n+=1)a(n),e.d.dataProps[n].p.setGroupProperty(i);function c(t){return"Color"===t||"color"===t?c.color:"Opacity"===t||"opacity"===t?c.opacity:"Stroke Width"===t||"stroke width"===t?c.strokeWidth:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return l}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",s)),e.o.setGroupProperty(PropertyInterface("Opacity",s)),e.w.setGroupProperty(PropertyInterface("Stroke Width",s)),c}function i(t,e,r){function n(e){return e===t.e.ix||"End"===e||"end"===e?n.end:e===t.s.ix?n.start:e===t.o.ix?n.offset:null}var s=propertyGroupFactory(n,r);return n.propertyIndex=t.ix,e.s.setGroupProperty(PropertyInterface("Start",s)),e.e.setGroupProperty(PropertyInterface("End",s)),e.o.setGroupProperty(PropertyInterface("Offset",s)),n.propertyIndex=t.ix,n.propertyGroup=r,Object.defineProperties(n,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),n.mn=t.mn,n}function a(t,e,r){function n(e){return t.a.ix===e||"Anchor Point"===e?n.anchorPoint:t.o.ix===e||"Opacity"===e?n.opacity:t.p.ix===e||"Position"===e?n.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?n.rotation:t.s.ix===e||"Scale"===e?n.scale:t.sk&&t.sk.ix===e||"Skew"===e?n.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?n.skewAxis:null}var s=propertyGroupFactory(n,r);return e.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",s)),e.transform.mProps.p.setGroupProperty(PropertyInterface("Position",s)),e.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",s)),e.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",s)),e.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",s)),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",s)),e.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",s))),e.transform.op.setGroupProperty(PropertyInterface("Opacity",s)),Object.defineProperties(n,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),n.ty="tr",n.mn=t.mn,n.propertyGroup=r,n}function o(t,e,r){function n(e){return t.p.ix===e?n.position:t.s.ix===e?n.size:null}var s=propertyGroupFactory(n,r);n.propertyIndex=t.ix;var i="tm"===e.sh.ty?e.sh.prop:e.sh;return i.s.setGroupProperty(PropertyInterface("Size",s)),i.p.setGroupProperty(PropertyInterface("Position",s)),Object.defineProperties(n,{size:{get:ExpressionPropertyInterface(i.s)},position:{get:ExpressionPropertyInterface(i.p)},_name:{value:t.nm}}),n.mn=t.mn,n}function l(t,e,r){function n(e){return t.p.ix===e?n.position:t.r.ix===e?n.rotation:t.pt.ix===e?n.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?n.outerRadius:t.os.ix===e?n.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?n.innerRoundness:null:n.innerRadius}var s=propertyGroupFactory(n,r),i="tm"===e.sh.ty?e.sh.prop:e.sh;return n.propertyIndex=t.ix,i.or.setGroupProperty(PropertyInterface("Outer Radius",s)),i.os.setGroupProperty(PropertyInterface("Outer Roundness",s)),i.pt.setGroupProperty(PropertyInterface("Points",s)),i.p.setGroupProperty(PropertyInterface("Position",s)),i.r.setGroupProperty(PropertyInterface("Rotation",s)),t.ir&&(i.ir.setGroupProperty(PropertyInterface("Inner Radius",s)),i.is.setGroupProperty(PropertyInterface("Inner Roundness",s))),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(i.p)},rotation:{get:ExpressionPropertyInterface(i.r)},points:{get:ExpressionPropertyInterface(i.pt)},outerRadius:{get:ExpressionPropertyInterface(i.or)},outerRoundness:{get:ExpressionPropertyInterface(i.os)},innerRadius:{get:ExpressionPropertyInterface(i.ir)},innerRoundness:{get:ExpressionPropertyInterface(i.is)},_name:{value:t.nm}}),n.mn=t.mn,n}function c(t,e,r){function n(e){return t.p.ix===e?n.position:t.r.ix===e?n.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?n.size:null}var s=propertyGroupFactory(n,r),i="tm"===e.sh.ty?e.sh.prop:e.sh;return n.propertyIndex=t.ix,i.p.setGroupProperty(PropertyInterface("Position",s)),i.s.setGroupProperty(PropertyInterface("Size",s)),i.r.setGroupProperty(PropertyInterface("Rotation",s)),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(i.p)},roundness:{get:ExpressionPropertyInterface(i.r)},size:{get:ExpressionPropertyInterface(i.s)},_name:{value:t.nm}}),n.mn=t.mn,n}function h(t,e,r){function n(e){return t.r.ix===e||"Round Corners 1"===e?n.radius:null}var s=propertyGroupFactory(n,r),i=e;return n.propertyIndex=t.ix,i.rd.setGroupProperty(PropertyInterface("Radius",s)),Object.defineProperties(n,{radius:{get:ExpressionPropertyInterface(i.rd)},_name:{value:t.nm}}),n.mn=t.mn,n}function u(t,e,r){function n(e){return t.c.ix===e||"Copies"===e?n.copies:t.o.ix===e||"Offset"===e?n.offset:null}var s=propertyGroupFactory(n,r),i=e;return n.propertyIndex=t.ix,i.c.setGroupProperty(PropertyInterface("Copies",s)),i.o.setGroupProperty(PropertyInterface("Offset",s)),Object.defineProperties(n,{copies:{get:ExpressionPropertyInterface(i.c)},offset:{get:ExpressionPropertyInterface(i.o)},_name:{value:t.nm}}),n.mn=t.mn,n}return function(e,r,n){var s;function i(t){if("number"==typeof t)return 0===(t=void 0===t?1:t)?n:s[t-1];for(var e=0,r=s.length;e<r;){if(s[e]._name===t)return s[e];e+=1}return null}return i.propertyGroup=propertyGroupFactory(i,(function(){return n})),s=t(e,r,i.propertyGroup),i.numProperties=s.length,i._name="Contents",i}}(),TextExpressionInterface=function(t){var e;function r(t){return"ADBE Text Document"===t?r.sourceText:null}return Object.defineProperty(r,"sourceText",{get:function(){t.textProperty.getValue();var r=t.textProperty.currentData.t;return e&&r===e.value||((e=new String(r)).value=r||new String(r),Object.defineProperty(e,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),e}}),r};function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var FootageInterface=(dataInterfaceFactory=function(t){function e(t){return"Outline"===t?e.outlineInterface():null}return e._name="Outline",e.outlineInterface=function(t){var e="",r=t.getFootageData();function n(t){if(r[t])return e=t,"object"===_typeof(r=r[t])?n:r;var s=t.indexOf(e);if(-1!==s){var i=parseInt(t.substr(s+e.length),10);return"object"===_typeof(r=r[i])?n:r}return""}return function(){return e="",r=t.getFootageData(),n}}(t),e},function(t){function e(t){return"Data"===t?e.dataInterface:null}return e._name="Data",e.dataInterface=dataInterfaceFactory(t),e}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers={searchExpressions:function(t,e,r){e.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(t,e,r).bind(r)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),r=this.getValueAtTime(t+-.01),n=0;if(e.length){var s;for(s=0;s<e.length;s+=1)n+=Math.pow(r[s]-e[s],2);n=100*Math.sqrt(n)}else n=0;return n},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,r,n=-.001,s=this.getValueAtTime(t),i=this.getValueAtTime(t+n);if(s.length)for(e=createTypedArray("float32",s.length),r=0;r<s.length;r+=1)e[r]=(i[r]-s[r])/n;else e=(i-s)/n;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};function addPropertyDecorator(){function t(t,e,r){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var n,s,i,a,o,l=this.comp.renderedFrame,c=this.keyframes,h=c[c.length-1].t;if(l<=h)return this.pv;if(r?s=h-(n=e?Math.abs(h-this.elem.comp.globalData.frameRate*e):Math.max(0,h-this.elem.data.ip)):((!e||e>c.length-1)&&(e=c.length-1),n=h-(s=c[c.length-1-e].t)),"pingpong"===t){if(Math.floor((l-s)/n)%2!=0)return this.getValueAtTime((n-(l-s)%n+s)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var u=this.getValueAtTime(s/this.comp.globalData.frameRate,0),d=this.getValueAtTime(h/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((l-s)%n+s)/this.comp.globalData.frameRate,0),f=Math.floor((l-s)/n);if(this.pv.length){for(a=(o=new Array(u.length)).length,i=0;i<a;i+=1)o[i]=(d[i]-u[i])*f+p[i];return o}return(d-u)*f+p}if("continue"===t){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(o=new Array(m.length)).length,i=0;i<a;i+=1)o[i]=m[i]+(m[i]-g[i])*((l-h)/this.comp.globalData.frameRate)/5e-4;return o}return m+(l-h)/.001*(m-g)}}return this.getValueAtTime(((l-s)%n+s)/this.comp.globalData.frameRate,0)}function e(t,e,r){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var n,s,i,a,o,l=this.comp.renderedFrame,c=this.keyframes,h=c[0].t;if(l>=h)return this.pv;if(r?s=h+(n=e?Math.abs(this.elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-h)):((!e||e>c.length-1)&&(e=c.length-1),n=(s=c[e].t)-h),"pingpong"===t){if(Math.floor((h-l)/n)%2==0)return this.getValueAtTime(((h-l)%n+h)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var u=this.getValueAtTime(h/this.comp.globalData.frameRate,0),d=this.getValueAtTime(s/this.comp.globalData.frameRate,0),p=this.getValueAtTime((n-(h-l)%n+h)/this.comp.globalData.frameRate,0),f=Math.floor((h-l)/n)+1;if(this.pv.length){for(a=(o=new Array(u.length)).length,i=0;i<a;i+=1)o[i]=p[i]-(d[i]-u[i])*f;return o}return p-(d-u)*f}if("continue"===t){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(o=new Array(m.length)).length,i=0;i<a;i+=1)o[i]=m[i]+(m[i]-g[i])*(h-l)/.001;return o}return m+(m-g)*(h-l)/.001}}return this.getValueAtTime((n-((h-l)%n+h))/this.comp.globalData.frameRate,0)}function r(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;var r,n,s=this.comp.renderedFrame/this.comp.globalData.frameRate,i=s-t,a=e>1?(s+t-i)/(e-1):1,o=0,l=0;for(r=this.pv.length?createTypedArray("float32",this.pv.length):0;o<e;){if(n=this.getValueAtTime(i+o*a),this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]+=n[l];else r+=n;o+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]/=e;else r/=e;return r}function n(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var e=this._transformCachingAtTime.v;if(e.cloneFromProps(this.pre.props),this.appliedTransformations<1){var r=this.a.getValueAtTime(t);e.translate(-r[0]*this.a.mult,-r[1]*this.a.mult,r[2]*this.a.mult)}if(this.appliedTransformations<2){var n=this.s.getValueAtTime(t);e.scale(n[0]*this.s.mult,n[1]*this.s.mult,n[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var s=this.sk.getValueAtTime(t),i=this.sa.getValueAtTime(t);e.skewFromAxis(-s*this.sk.mult,i*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var a=this.r.getValueAtTime(t);e.rotate(-a*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var o=this.rz.getValueAtTime(t),l=this.ry.getValueAtTime(t),c=this.rx.getValueAtTime(t),h=this.or.getValueAtTime(t);e.rotateZ(-o*this.rz.mult).rotateY(l*this.ry.mult).rotateX(c*this.rx.mult).rotateZ(-h[2]*this.or.mult).rotateY(h[1]*this.or.mult).rotateX(h[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var u=this.px.getValueAtTime(t),d=this.py.getValueAtTime(t);if(this.data.p.z){var p=this.pz.getValueAtTime(t);e.translate(u*this.px.mult,d*this.py.mult,-p*this.pz.mult)}else e.translate(u*this.px.mult,d*this.py.mult,0)}else{var f=this.p.getValueAtTime(t);e.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return e}function s(){return this.v.clone(new Matrix)}var i=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,r){var a=i(t,e,r);return a.dynamicProperties.length?a.getValueAtTime=n.bind(a):a.getValueAtTime=s.bind(a),a.setGroupProperty=expressionHelpers.setGroupProperty,a};var a=PropertyFactory.getProp;PropertyFactory.getProp=function(n,s,i,o,l){var c=a(n,s,i,o,l);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=t,c.loopIn=e,c.smooth=r,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===s.a?s.k.length:0,c.propertyIndex=s.ix;var h=0;return 0!==i&&(h=createTypedArray("float32",1===s.a?s.k[0].s.length:s.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:h},expressionHelpers.searchExpressions(n,s,c),c.k&&l.addDynamicProperty(c),c};var o=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(t,e){this.k&&this.getValue();var r,n=this.v;void 0!==e&&(n=this.getValueAtTime(e,0));var s=n._length,i=n[t],a=n.v,o=createSizedArray(s);for(r=0;r<s;r+=1)o[r]="i"===t||"o"===t?[i[r][0]-a[r][0],i[r][1]-a[r][1]]:[i[r][0],i[r][1]];return o},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var n,s=this._segmentsLength,i=s.lengths,a=s.totalLength*t,o=0,l=i.length,c=0;o<l;){if(c+i[o].addedLength>a){var h=o,u=r.c&&o===l-1?0:o+1,d=(a-c)/i[o].addedLength;n=bez.getPointInSegment(r.v[h],r.v[u],r.o[h],r.i[u],d,i[o]);break}c+=i[o].addedLength,o+=1}return n||(n=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),n},vectorOnPath:function(t,e,r){1==t?t=this.v.c:0==t&&(t=.999);var n=this.pointOnPath(t,e),s=this.pointOnPath(t+.001,e),i=s[0]-n[0],a=s[1]-n[1],o=Math.sqrt(Math.pow(i,2)+Math.pow(a,2));return 0===o?[0,0]:"tangent"===r?[i/o,a/o]:[-a/o,i/o]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],o),extendPrototype([c],l),l.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var h=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,r,n,s){var i=h(t,e,r,n,s);return i.propertyIndex=e.ix,i.lock=!1,3===r?expressionHelpers.searchExpressions(t,e.pt,i):4===r&&expressionHelpers.searchExpressions(t,e.ks,i),i.k&&t.addDynamicProperty(i),i}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(t,e){var r=this.calculateExpression(e);if(t.t!==r){var n={};return this.copyData(n,t),n.t=r.toString(),n.__complete=!1,n}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(t,e){var r,n,s=createNS("feMerge");for(s.setAttribute("result",t),n=0;n<e.length;n+=1)(r=createNS("feMergeNode")).setAttribute("in",e[n]),s.appendChild(r),s.appendChild(r);return s}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,e,r,n,s){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=i,i.setAttribute("result",n+"_tint_1"),t.appendChild(i),(i=createNS("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result",n+"_tint_2"),t.appendChild(i),this.matrixFilter=i;var a=this.createMergeNode(n,[s,n+"_tint_1",n+"_tint_2"]);t.appendChild(a)}function SVGFillFilter(t,e,r,n){this.filterManager=e;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),s.setAttribute("result",n),t.appendChild(s),this.matrixFilter=s}function SVGStrokeEffect(t,e,r){this.initialized=!1,this.filterManager=e,this.elem=r,this.paths=[]}function SVGTritoneFilter(t,e,r,n){this.filterManager=e;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","linearRGB"),s.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(s);var i=createNS("feComponentTransfer");i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("result",n),this.matrixFilter=i;var a=createNS("feFuncR");a.setAttribute("type","table"),i.appendChild(a),this.feFuncR=a;var o=createNS("feFuncG");o.setAttribute("type","table"),i.appendChild(o),this.feFuncG=o;var l=createNS("feFuncB");l.setAttribute("type","table"),i.appendChild(l),this.feFuncB=l,t.appendChild(i)}function SVGProLevelsFilter(t,e,r,n){this.filterManager=e;var s=this.filterManager.effectElements,i=createNS("feComponentTransfer");(s[10].p.k||0!==s[10].p.v||s[11].p.k||1!==s[11].p.v||s[12].p.k||1!==s[12].p.v||s[13].p.k||0!==s[13].p.v||s[14].p.k||1!==s[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",i)),(s[17].p.k||0!==s[17].p.v||s[18].p.k||1!==s[18].p.v||s[19].p.k||1!==s[19].p.v||s[20].p.k||0!==s[20].p.v||s[21].p.k||1!==s[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",i)),(s[24].p.k||0!==s[24].p.v||s[25].p.k||1!==s[25].p.v||s[26].p.k||1!==s[26].p.v||s[27].p.k||0!==s[27].p.v||s[28].p.k||1!==s[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",i)),(s[31].p.k||0!==s[31].p.v||s[32].p.k||1!==s[32].p.v||s[33].p.k||1!==s[33].p.v||s[34].p.k||0!==s[34].p.v||s[35].p.k||1!==s[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",i)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(i.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(i)),(s[3].p.k||0!==s[3].p.v||s[4].p.k||1!==s[4].p.v||s[5].p.k||1!==s[5].p.v||s[6].p.k||0!==s[6].p.v||s[7].p.k||1!==s[7].p.v)&&((i=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("result",n),t.appendChild(i),this.feFuncRComposed=this.createFeFunc("feFuncR",i),this.feFuncGComposed=this.createFeFunc("feFuncG",i),this.feFuncBComposed=this.createFeFunc("feFuncB",i))}function SVGDropShadowEffect(t,e,r,n,s){var i=e.container.globalData.renderConfig.filterSize,a=e.data.fs||i;t.setAttribute("x",a.x||i.x),t.setAttribute("y",a.y||i.y),t.setAttribute("width",a.width||i.width),t.setAttribute("height",a.height||i.height),this.filterManager=e;var o=createNS("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("result",n+"_drop_shadow_1"),o.setAttribute("stdDeviation","0"),this.feGaussianBlur=o,t.appendChild(o);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",n+"_drop_shadow_1"),l.setAttribute("result",n+"_drop_shadow_2"),this.feOffset=l,t.appendChild(l);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",n+"_drop_shadow_3"),this.feFlood=c,t.appendChild(c);var h=createNS("feComposite");h.setAttribute("in",n+"_drop_shadow_3"),h.setAttribute("in2",n+"_drop_shadow_2"),h.setAttribute("operator","in"),h.setAttribute("result",n+"_drop_shadow_4"),t.appendChild(h);var u=this.createMergeNode(n,[n+"_drop_shadow_4",s]);t.appendChild(u)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+n+" 0"),this.matrixFilter.setAttribute("values",r[0]-e[0]+" 0 0 0 "+e[0]+" "+(r[1]-e[1])+" 0 0 0 "+e[1]+" "+(r[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+r+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,r,n,s=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(n=this.elem.maskManager.masksProperties.length,r=0):n=1+(r=this.filterManager.effectElements[0].p.v-1),(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);r<n;r+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:r});if(3===this.filterManager.effectElements[10].p.v){var i=createNS("mask"),a=createElementID();i.setAttribute("id",a),i.setAttribute("mask-type","alpha"),i.appendChild(e),this.elem.globalData.defs.appendChild(i);var o=createNS("g");for(o.setAttribute("mask","url("+getLocationHref()+"#"+a+")");s[0];)o.appendChild(s[0]);this.elem.layerElement.appendChild(o),this.masker=i,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(s=this.elem.layerElement.children||this.elem.layerElement.childNodes;s.length;)this.elem.layerElement.removeChild(s[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){var e;this.initialized||this.initialize();var r,n,s=this.paths.length;for(e=0;e<s;e+=1)if(-1!==this.paths[e].m&&(r=this.elem.maskManager.viewData[this.paths[e].m],n=this.paths[e].p,(t||this.filterManager._mdf||r.prop._mdf)&&n.setAttribute("d",r.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var i;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var a=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),o=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=n.getTotalLength();i="0 0 0 "+l*a+" ";var c,h=l*(o-a),u=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,d=Math.floor(h/u);for(c=0;c<d;c+=1)i+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";i+="0 "+10*l+" 0 0"}else i="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;n.setAttribute("stroke-dasharray",i)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*p[0])+","+bmFloor(255*p[1])+","+bmFloor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v,s=n[0]+" "+r[0]+" "+e[0],i=n[1]+" "+r[1]+" "+e[1],a=n[2]+" "+r[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",s),this.feFuncG.setAttribute("tableValues",i),this.feFuncB.setAttribute("tableValues",a)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var r=createNS(t);return r.setAttribute("type","table"),e.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(t,e,r,n,s){for(var i,a,o=0,l=Math.min(t,e),c=Math.max(t,e),h=Array.call(null,{length:256}),u=0,d=s-n,p=e-t;o<=256;)a=(i=o/256)<=l?p<0?s:n:i>=c?p<0?n:s:n+d*Math.pow((i-t)/p,1/r),h[u]=a,u+=1,o+=256/255;return h.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,r=this.filterManager.effectElements;this.feFuncRComposed&&(t||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(e=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(e=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(e=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(e=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(e=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,s=r*Math.cos(n),i=r*Math.sin(n);this.feOffset.setAttribute("dx",s),this.feOffset.setAttribute("dy",i)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,r){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGGaussianBlurEffect(t,e,r,n){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var s=createNS("feGaussianBlur");s.setAttribute("result",n),t.appendChild(s),this.feGaussianBlur=s}function TransformEffect(){}function SVGTransformEffect(t,e){this.init(e)}function CVTransformEffect(t){this.init(t)}return SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,r=_svgMatteSymbols.length;e<r;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var r=t.layerElement.parentNode;if(r){for(var n,s=r.children,i=0,a=s.length;i<a&&s[i]!==t.layerElement;)i+=1;i<=a-2&&(n=s[i+1]);var o=createNS("use");o.setAttribute("href","#"+e),n?r.insertBefore(o,n):r.appendChild(o)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var r=createElementID(),n=createNS("mask");n.setAttribute("id",e.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var s=t.globalData.defs;s.appendChild(n);var i=createNS("symbol");i.setAttribute("id",r),this.replaceInParent(e,r),i.appendChild(e.layerElement),s.appendChild(i);var a=createNS("use");a.setAttribute("href","#"+r),n.appendChild(a),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,r=0,n=e.length;r<n;)e[r]&&e[r].data.ind===t&&this.setElementAsMask(this.elem,e[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=3==r?0:e,s=2==r?0:e;this.feGaussianBlur.setAttribute("stdDeviation",n+" "+s);var i=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",i)}},TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var e=this.effectsManager.effectElements,r=e[0].p.v,n=e[1].p.v,s=1===e[2].p.v,i=e[3].p.v,a=s?i:e[4].p.v,o=e[5].p.v,l=e[6].p.v,c=e[7].p.v;this.matrix.reset(),this.matrix.translate(-r[0],-r[1],r[2]),this.matrix.scale(.01*a,.01*i,1),this.matrix.rotate(-c*degToRads),this.matrix.skewFromAxis(-o*degToRads,(l+90)*degToRads),this.matrix.translate(n[0],n[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie},module.exports=factory())},5112:t=>{var e=function(t){null==t&&(t=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,t.constructor==Array?this.init_by_array(t,t.length):this.init_seed(t)};e.prototype.init_seed=function(t){for(this.mt[0]=t>>>0,this.mti=1;this.mti<this.N;this.mti++){t=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&t)>>>16)<<16)+1812433253*(65535&t)+this.mti,this.mt[this.mti]>>>=0}},e.prototype.init_by_array=function(t,e){var r,n,s;for(this.init_seed(19650218),r=1,n=0,s=this.N>e?this.N:e;s;s--){var i=this.mt[r-1]^this.mt[r-1]>>>30;this.mt[r]=(this.mt[r]^(1664525*((4294901760&i)>>>16)<<16)+1664525*(65535&i))+t[n]+n,this.mt[r]>>>=0,n++,++r>=this.N&&(this.mt[0]=this.mt[this.N-1],r=1),n>=e&&(n=0)}for(s=this.N-1;s;s--){i=this.mt[r-1]^this.mt[r-1]>>>30;this.mt[r]=(this.mt[r]^(1566083941*((4294901760&i)>>>16)<<16)+1566083941*(65535&i))-r,this.mt[r]>>>=0,++r>=this.N&&(this.mt[0]=this.mt[this.N-1],r=1)}this.mt[0]=2147483648},e.prototype.random_int=function(){var t,e=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var r;for(this.mti==this.N+1&&this.init_seed(5489),r=0;r<this.N-this.M;r++)t=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+this.M]^t>>>1^e[1&t];for(;r<this.N-1;r++)t=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+(this.M-this.N)]^t>>>1^e[1&t];t=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^t>>>1^e[1&t],this.mti=0}return t=this.mt[this.mti++],t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,(t^=t>>>18)>>>0},e.prototype.random_int31=function(){return this.random_int()>>>1},e.prototype.random_incl=function(){return this.random_int()*(1/4294967295)},e.prototype.random=function(){return this.random_int()*(1/4294967296)},e.prototype.random_excl=function(){return(this.random_int()+.5)*(1/4294967296)},e.prototype.random_long=function(){return(67108864*(this.random_int()>>>5)+(this.random_int()>>>6))*(1/9007199254740992)},t.exports=e},6152:(t,e,r)=>{"use strict";var n=r(6759),s=Array.prototype.concat,i=Array.prototype.slice,a=t.exports=function(t){for(var e=[],r=0,a=t.length;r<a;r++){var o=t[r];n(o)?e=s.call(e,i.call(o)):e.push(o)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},8132:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(3759);function s(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}function i(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}function a(t,e){return void 0===e&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function o(t,e){return void 0===e&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}function l(t,e){return void 0===e&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function c(t,e){return void 0===e&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}function h(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}function u(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}function d(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),h(t/4294967296>>>0,e,r),h(t>>>0,e,r+4),e}function p(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),u(t>>>0,e,r),u(t/4294967296>>>0,e,r+4),e}e.readInt16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16},e.readUint16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])>>>0},e.readInt16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])<<16>>16},e.readUint16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])>>>0},e.writeUint16BE=s,e.writeInt16BE=s,e.writeUint16LE=i,e.writeInt16LE=i,e.readInt32BE=a,e.readUint32BE=o,e.readInt32LE=l,e.readUint32LE=c,e.writeUint32BE=h,e.writeInt32BE=h,e.writeUint32LE=u,e.writeInt32LE=u,e.readInt64BE=function(t,e){void 0===e&&(e=0);var r=a(t,e),n=a(t,e+4);return 4294967296*r+n-4294967296*(n>>31)},e.readUint64BE=function(t,e){return void 0===e&&(e=0),4294967296*o(t,e)+o(t,e+4)},e.readInt64LE=function(t,e){void 0===e&&(e=0);var r=l(t,e);return 4294967296*l(t,e+4)+r-4294967296*(r>>31)},e.readUint64LE=function(t,e){void 0===e&&(e=0);var r=c(t,e);return 4294967296*c(t,e+4)+r},e.writeUint64BE=d,e.writeInt64BE=d,e.writeUint64LE=p,e.writeInt64LE=p,e.readUintBE=function(t,e,r){if(void 0===r&&(r=0),t%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,s=1,i=t/8+r-1;i>=r;i--)n+=e[i]*s,s*=256;return n},e.readUintLE=function(t,e,r){if(void 0===r&&(r=0),t%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,s=1,i=r;i<r+t/8;i++)n+=e[i]*s,s*=256;return n},e.writeUintBE=function(t,e,r,s){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===s&&(s=0),t%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,a=t/8+s-1;a>=s;a--)r[a]=e/i&255,i*=256;return r},e.writeUintLE=function(t,e,r,s){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===s&&(s=0),t%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,a=s;a<s+t/8;a++)r[a]=e/i&255,i*=256;return r},e.readFloat32BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e)},e.readFloat32LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e,!0)},e.readFloat64BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e)},e.readFloat64LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e,!0)},e.writeFloat32BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t),e},e.writeFloat32LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t,!0),e},e.writeFloat64BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t),e},e.writeFloat64LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t,!0),e}},8258:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(8132),s=r(635),i=20;function a(t,e,r){for(var s=1634760805,a=857760878,o=2036477234,l=1797285236,c=r[3]<<24|r[2]<<16|r[1]<<8|r[0],h=r[7]<<24|r[6]<<16|r[5]<<8|r[4],u=r[11]<<24|r[10]<<16|r[9]<<8|r[8],d=r[15]<<24|r[14]<<16|r[13]<<8|r[12],p=r[19]<<24|r[18]<<16|r[17]<<8|r[16],f=r[23]<<24|r[22]<<16|r[21]<<8|r[20],m=r[27]<<24|r[26]<<16|r[25]<<8|r[24],g=r[31]<<24|r[30]<<16|r[29]<<8|r[28],y=e[3]<<24|e[2]<<16|e[1]<<8|e[0],b=e[7]<<24|e[6]<<16|e[5]<<8|e[4],v=e[11]<<24|e[10]<<16|e[9]<<8|e[8],w=e[15]<<24|e[14]<<16|e[13]<<8|e[12],E=s,x=a,k=o,A=l,P=c,_=h,S=u,C=d,T=p,I=f,M=m,O=g,D=y,F=b,N=v,R=w,B=0;B<i;B+=2)P=(P^=T=T+(D=(D^=E=E+P|0)>>>16|D<<16)|0)>>>20|P<<12,_=(_^=I=I+(F=(F^=x=x+_|0)>>>16|F<<16)|0)>>>20|_<<12,S=(S^=M=M+(N=(N^=k=k+S|0)>>>16|N<<16)|0)>>>20|S<<12,C=(C^=O=O+(R=(R^=A=A+C|0)>>>16|R<<16)|0)>>>20|C<<12,S=(S^=M=M+(N=(N^=k=k+S|0)>>>24|N<<8)|0)>>>25|S<<7,C=(C^=O=O+(R=(R^=A=A+C|0)>>>24|R<<8)|0)>>>25|C<<7,_=(_^=I=I+(F=(F^=x=x+_|0)>>>24|F<<8)|0)>>>25|_<<7,P=(P^=T=T+(D=(D^=E=E+P|0)>>>24|D<<8)|0)>>>25|P<<7,_=(_^=M=M+(R=(R^=E=E+_|0)>>>16|R<<16)|0)>>>20|_<<12,S=(S^=O=O+(D=(D^=x=x+S|0)>>>16|D<<16)|0)>>>20|S<<12,C=(C^=T=T+(F=(F^=k=k+C|0)>>>16|F<<16)|0)>>>20|C<<12,P=(P^=I=I+(N=(N^=A=A+P|0)>>>16|N<<16)|0)>>>20|P<<12,C=(C^=T=T+(F=(F^=k=k+C|0)>>>24|F<<8)|0)>>>25|C<<7,P=(P^=I=I+(N=(N^=A=A+P|0)>>>24|N<<8)|0)>>>25|P<<7,S=(S^=O=O+(D=(D^=x=x+S|0)>>>24|D<<8)|0)>>>25|S<<7,_=(_^=M=M+(R=(R^=E=E+_|0)>>>24|R<<8)|0)>>>25|_<<7;n.writeUint32LE(E+s|0,t,0),n.writeUint32LE(x+a|0,t,4),n.writeUint32LE(k+o|0,t,8),n.writeUint32LE(A+l|0,t,12),n.writeUint32LE(P+c|0,t,16),n.writeUint32LE(_+h|0,t,20),n.writeUint32LE(S+u|0,t,24),n.writeUint32LE(C+d|0,t,28),n.writeUint32LE(T+p|0,t,32),n.writeUint32LE(I+f|0,t,36),n.writeUint32LE(M+m|0,t,40),n.writeUint32LE(O+g|0,t,44),n.writeUint32LE(D+y|0,t,48),n.writeUint32LE(F+b|0,t,52),n.writeUint32LE(N+v|0,t,56),n.writeUint32LE(R+w|0,t,60)}function o(t,e,r,n,i){if(void 0===i&&(i=0),32!==t.length)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var o,c;if(0===i){if(8!==e.length&&12!==e.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");c=(o=new Uint8Array(16)).length-e.length,o.set(e,c)}else{if(16!==e.length)throw new Error("ChaCha nonce with counter must be 16 bytes");o=e,c=i}for(var h=new Uint8Array(64),u=0;u<r.length;u+=64){a(h,o,t);for(var d=u;d<u+64&&d<r.length;d++)n[d]=r[d]^h[d-u];l(o,0,c)}return s.wipe(h),0===i&&s.wipe(o),n}function l(t,e,r){for(var n=1;r--;)n=n+(255&t[e])|0,t[e]=255&n,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}e.streamXOR=o,e.stream=function(t,e,r,n){return void 0===n&&(n=0),s.wipe(r),o(t,e,r,r,n)}},1063:(t,e,r)=>{"use strict";var n=r(8258),s=r(329),i=r(635),a=r(8132),o=r(7143);e.Cv=32,e.WH=12,e.pg=16;var l=new Uint8Array(16),c=function(){function t(t){if(this.nonceLength=e.WH,this.tagLength=e.pg,t.length!==e.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(t)}return t.prototype.seal=function(t,e,r,s){if(t.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var a=new Uint8Array(16);a.set(t,a.length-t.length);var o=new Uint8Array(32);n.stream(this._key,a,o,4);var l,c=e.length+this.tagLength;if(s){if(s.length!==c)throw new Error("ChaCha20Poly1305: incorrect destination length");l=s}else l=new Uint8Array(c);return n.streamXOR(this._key,a,e,l,4),this._authenticate(l.subarray(l.length-this.tagLength,l.length),o,l.subarray(0,l.length-this.tagLength),r),i.wipe(a),l},t.prototype.open=function(t,e,r,s){if(t.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(e.length<this.tagLength)return null;var a=new Uint8Array(16);a.set(t,a.length-t.length);var l=new Uint8Array(32);n.stream(this._key,a,l,4);var c=new Uint8Array(this.tagLength);if(this._authenticate(c,l,e.subarray(0,e.length-this.tagLength),r),!o.equal(c,e.subarray(e.length-this.tagLength,e.length)))return null;var h,u=e.length-this.tagLength;if(s){if(s.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");h=s}else h=new Uint8Array(u);return n.streamXOR(this._key,a,e.subarray(0,e.length-this.tagLength),h,4),i.wipe(a),h},t.prototype.clean=function(){return i.wipe(this._key),this},t.prototype._authenticate=function(t,e,r,n){var o=new s.Poly1305(e);n&&(o.update(n),n.length%16>0&&o.update(l.subarray(n.length%16))),o.update(r),r.length%16>0&&o.update(l.subarray(r.length%16));var c=new Uint8Array(8);n&&a.writeUint64LE(n.length,c),o.update(c),a.writeUint64LE(r.length,c),o.update(c);for(var h=o.digest(),u=0;u<h.length;u++)t[u]=h[u];o.clean(),i.wipe(h),i.wipe(c)},t}();e.OK=c},7143:(t,e)=>{"use strict";function r(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}Object.defineProperty(e,"__esModule",{value:!0}),e.select=function(t,e,r){return~(t-1)&e|t-1&r},e.lessOrEqual=function(t,e){return(0|t)-(0|e)-1>>>31&1},e.compare=r,e.equal=function(t,e){return 0!==t.length&&0!==e.length&&0!==r(t,e)}},4985:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSerializableHash=function(t){return void 0!==t.saveState&&void 0!==t.restoreState&&void 0!==t.cleanSavedState}},5067:(t,e,r)=>{"use strict";var n=r(9498),s=r(635),i=function(){function t(t,e,r,s){void 0===r&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=s;var i=n.hmac(this._hash,r,e);this._hmac=new n.HMAC(t,i),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(0===t)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(t){for(var e=new Uint8Array(t),r=0;r<e.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),e[r]=this._buffer[this._bufpos++];return e},t.prototype.clean=function(){this._hmac.clean(),s.wipe(this._buffer),s.wipe(this._counter),this._bufpos=0},t}();e.t=i},9498:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(4985),s=r(7143),i=r(635),a=function(){function t(t,e){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);e.length>this.blockSize?this._inner.update(e).finish(r).clean():r.set(e);for(var s=0;s<r.length;s++)r[s]^=54;this._inner.update(r);for(s=0;s<r.length;s++)r[s]^=106;this._outer.update(r),n.isSerializableHash(this._inner)&&n.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),i.wipe(r)}return t.prototype.reset=function(){if(!n.isSerializableHash(this._inner)||!n.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){n.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),n.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(t){return this._inner.update(t),this},t.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(!n.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(t){if(!n.isSerializableHash(this._inner)||!n.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(t){if(!n.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},t}();e.HMAC=a,e.hmac=function(t,e,r){var n=new a(t,e);n.update(r);var s=n.digest();return n.clean(),s},e.equal=s.equal},3759:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mul=Math.imul||function(t,e){var r=65535&t,n=65535&e;return r*n+((t>>>16&65535)*n+r*(e>>>16&65535)<<16>>>0)|0},e.add=function(t,e){return t+e|0},e.sub=function(t,e){return t-e|0},e.rotl=function(t,e){return t<<e|t>>>32-e},e.rotr=function(t,e){return t<<32-e|t>>>e},e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(t){return e.isInteger(t)&&t>=-e.MAX_SAFE_INTEGER&&t<=e.MAX_SAFE_INTEGER}},329:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(7143),s=r(635);e.DIGEST_LENGTH=16;var i=function(){function t(t){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=t[0]|t[1]<<8;this._r[0]=8191&r;var n=t[2]|t[3]<<8;this._r[1]=8191&(r>>>13|n<<3);var s=t[4]|t[5]<<8;this._r[2]=7939&(n>>>10|s<<6);var i=t[6]|t[7]<<8;this._r[3]=8191&(s>>>7|i<<9);var a=t[8]|t[9]<<8;this._r[4]=255&(i>>>4|a<<12),this._r[5]=a>>>1&8190;var o=t[10]|t[11]<<8;this._r[6]=8191&(a>>>14|o<<2);var l=t[12]|t[13]<<8;this._r[7]=8065&(o>>>11|l<<5);var c=t[14]|t[15]<<8;this._r[8]=8191&(l>>>8|c<<8),this._r[9]=c>>>5&127,this._pad[0]=t[16]|t[17]<<8,this._pad[1]=t[18]|t[19]<<8,this._pad[2]=t[20]|t[21]<<8,this._pad[3]=t[22]|t[23]<<8,this._pad[4]=t[24]|t[25]<<8,this._pad[5]=t[26]|t[27]<<8,this._pad[6]=t[28]|t[29]<<8,this._pad[7]=t[30]|t[31]<<8}return t.prototype._blocks=function(t,e,r){for(var n=this._fin?0:2048,s=this._h[0],i=this._h[1],a=this._h[2],o=this._h[3],l=this._h[4],c=this._h[5],h=this._h[6],u=this._h[7],d=this._h[8],p=this._h[9],f=this._r[0],m=this._r[1],g=this._r[2],y=this._r[3],b=this._r[4],v=this._r[5],w=this._r[6],E=this._r[7],x=this._r[8],k=this._r[9];r>=16;){var A=t[e+0]|t[e+1]<<8;s+=8191&A;var P=t[e+2]|t[e+3]<<8;i+=8191&(A>>>13|P<<3);var _=t[e+4]|t[e+5]<<8;a+=8191&(P>>>10|_<<6);var S=t[e+6]|t[e+7]<<8;o+=8191&(_>>>7|S<<9);var C=t[e+8]|t[e+9]<<8;l+=8191&(S>>>4|C<<12),c+=C>>>1&8191;var T=t[e+10]|t[e+11]<<8;h+=8191&(C>>>14|T<<2);var I=t[e+12]|t[e+13]<<8;u+=8191&(T>>>11|I<<5);var M=t[e+14]|t[e+15]<<8,O=0,D=O;D+=s*f,D+=i*(5*k),D+=a*(5*x),D+=o*(5*E),O=(D+=l*(5*w))>>>13,D&=8191,D+=c*(5*v),D+=h*(5*b),D+=u*(5*y),D+=(d+=8191&(I>>>8|M<<8))*(5*g);var F=O+=(D+=(p+=M>>>5|n)*(5*m))>>>13;F+=s*m,F+=i*f,F+=a*(5*k),F+=o*(5*x),O=(F+=l*(5*E))>>>13,F&=8191,F+=c*(5*w),F+=h*(5*v),F+=u*(5*b),F+=d*(5*y),O+=(F+=p*(5*g))>>>13,F&=8191;var N=O;N+=s*g,N+=i*m,N+=a*f,N+=o*(5*k),O=(N+=l*(5*x))>>>13,N&=8191,N+=c*(5*E),N+=h*(5*w),N+=u*(5*v),N+=d*(5*b);var R=O+=(N+=p*(5*y))>>>13;R+=s*y,R+=i*g,R+=a*m,R+=o*f,O=(R+=l*(5*k))>>>13,R&=8191,R+=c*(5*x),R+=h*(5*E),R+=u*(5*w),R+=d*(5*v);var B=O+=(R+=p*(5*b))>>>13;B+=s*b,B+=i*y,B+=a*g,B+=o*m,O=(B+=l*f)>>>13,B&=8191,B+=c*(5*k),B+=h*(5*x),B+=u*(5*E),B+=d*(5*w);var L=O+=(B+=p*(5*v))>>>13;L+=s*v,L+=i*b,L+=a*y,L+=o*g,O=(L+=l*m)>>>13,L&=8191,L+=c*f,L+=h*(5*k),L+=u*(5*x),L+=d*(5*E);var j=O+=(L+=p*(5*w))>>>13;j+=s*w,j+=i*v,j+=a*b,j+=o*y,O=(j+=l*g)>>>13,j&=8191,j+=c*m,j+=h*f,j+=u*(5*k),j+=d*(5*x);var U=O+=(j+=p*(5*E))>>>13;U+=s*E,U+=i*w,U+=a*v,U+=o*b,O=(U+=l*y)>>>13,U&=8191,U+=c*g,U+=h*m,U+=u*f,U+=d*(5*k);var G=O+=(U+=p*(5*x))>>>13;G+=s*x,G+=i*E,G+=a*w,G+=o*v,O=(G+=l*b)>>>13,G&=8191,G+=c*y,G+=h*g,G+=u*m,G+=d*f;var V=O+=(G+=p*(5*k))>>>13;V+=s*k,V+=i*x,V+=a*E,V+=o*w,O=(V+=l*v)>>>13,V&=8191,V+=c*b,V+=h*y,V+=u*g,V+=d*m,s=D=8191&(O=(O=((O+=(V+=p*f)>>>13)<<2)+O|0)+(D&=8191)|0),i=F+=O>>>=13,a=N&=8191,o=R&=8191,l=B&=8191,c=L&=8191,h=j&=8191,u=U&=8191,d=G&=8191,p=V&=8191,e+=16,r-=16}this._h[0]=s,this._h[1]=i,this._h[2]=a,this._h[3]=o,this._h[4]=l,this._h[5]=c,this._h[6]=h,this._h[7]=u,this._h[8]=d,this._h[9]=p},t.prototype.finish=function(t,e){void 0===e&&(e=0);var r,n,s,i,a=new Uint16Array(10);if(this._leftover){for(i=this._leftover,this._buffer[i++]=1;i<16;i++)this._buffer[i]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,i=2;i<10;i++)this._h[i]+=r,r=this._h[i]>>>13,this._h[i]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,a[0]=this._h[0]+5,r=a[0]>>>13,a[0]&=8191,i=1;i<10;i++)a[i]=this._h[i]+r,r=a[i]>>>13,a[i]&=8191;for(a[9]-=8192,n=(1^r)-1,i=0;i<10;i++)a[i]&=n;for(n=~n,i=0;i<10;i++)this._h[i]=this._h[i]&n|a[i];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),s=this._h[0]+this._pad[0],this._h[0]=65535&s,i=1;i<8;i++)s=(this._h[i]+this._pad[i]|0)+(s>>>16)|0,this._h[i]=65535&s;return t[e+0]=this._h[0]>>>0,t[e+1]=this._h[0]>>>8,t[e+2]=this._h[1]>>>0,t[e+3]=this._h[1]>>>8,t[e+4]=this._h[2]>>>0,t[e+5]=this._h[2]>>>8,t[e+6]=this._h[3]>>>0,t[e+7]=this._h[3]>>>8,t[e+8]=this._h[4]>>>0,t[e+9]=this._h[4]>>>8,t[e+10]=this._h[5]>>>0,t[e+11]=this._h[5]>>>8,t[e+12]=this._h[6]>>>0,t[e+13]=this._h[6]>>>8,t[e+14]=this._h[7]>>>0,t[e+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(t){var e,r=0,n=t.length;if(this._leftover){(e=16-this._leftover)>n&&(e=n);for(var s=0;s<e;s++)this._buffer[this._leftover+s]=t[r+s];if(n-=e,r+=e,this._leftover+=e,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(e=n-n%16,this._blocks(t,r,e),r+=e,n-=e),n){for(s=0;s<n;s++)this._buffer[this._leftover+s]=t[r+s];this._leftover+=n}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var t=new Uint8Array(16);return this.finish(t),t},t.prototype.clean=function(){return s.wipe(this._buffer),s.wipe(this._r),s.wipe(this._h),s.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();e.Poly1305=i,e.oneTimeAuth=function(t,e){var r=new i(t);r.update(e);var n=r.digest();return r.clean(),n},e.equal=function(t,r){return t.length===e.DIGEST_LENGTH&&r.length===e.DIGEST_LENGTH&&n.equal(t,r)}},7261:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const n=r(745),s=r(8132),i=r(635);function a(t,r=e.defaultRandomSource){return r.randomBytes(t)}e.defaultRandomSource=new n.SystemRandomSource,e.randomBytes=a,e.randomUint32=function(t=e.defaultRandomSource){const r=a(4,t),n=(0,s.readUint32LE)(r);return(0,i.wipe)(r),n};const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function l(t,r=o,n=e.defaultRandomSource){if(r.length<2)throw new Error("randomString charset is too short");if(r.length>256)throw new Error("randomString charset is too long");let s="";const l=r.length,c=256-256%l;for(;t>0;){const e=a(Math.ceil(256*t/c),n);for(let n=0;n<e.length&&t>0;n++){const i=e[n];i<c&&(s+=r.charAt(i%l),t--)}(0,i.wipe)(e)}return s}e.randomString=l,e.randomStringForEntropy=function(t,r=o,n=e.defaultRandomSource){return l(Math.ceil(t/(Math.log(r.length)/Math.LN2)),r,n)}},1811:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserRandomSource=void 0;e.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&void 0!==t.getRandomValues&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const e=new Uint8Array(t);for(let t=0;t<e.length;t+=65536)this._crypto.getRandomValues(e.subarray(t,t+Math.min(e.length-t,65536)));return e}}},8752:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeRandomSource=void 0;const n=r(635);e.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const t=r(1042);t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let e=this._crypto.randomBytes(t);if(e.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const r=new Uint8Array(t);for(let t=0;t<r.length;t++)r[t]=e[t];return(0,n.wipe)(e),r}}},745:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SystemRandomSource=void 0;const n=r(1811),s=r(8752);e.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new s.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}},6655:(t,e,r)=>{"use strict";var n=r(8132),s=r(635);e.k=32,e.cn=64;var i=function(){function t(){this.digestLength=e.k,this.blockSize=e.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){s.wipe(this._buffer),s.wipe(this._temp),this.reset()},t.prototype.update=function(t,e){if(void 0===e&&(e=t.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=e,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&e>0;)this._buffer[this._bufferLength++]=t[r++],e--;this._bufferLength===this.blockSize&&(o(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(e>=this.blockSize&&(r=o(this._temp,this._state,t,r,e),e%=this.blockSize);e>0;)this._buffer[this._bufferLength++]=t[r++],e--;return this},t.prototype.finish=function(t){if(!this._finished){var e=this._bytesHashed,r=this._bufferLength,s=e/536870912|0,i=e<<3,a=e%64<56?64:128;this._buffer[r]=128;for(var l=r+1;l<a-8;l++)this._buffer[l]=0;n.writeUint32BE(s,this._buffer,a-8),n.writeUint32BE(i,this._buffer,a-4),o(this._temp,this._state,this._buffer,0,a),this._finished=!0}for(l=0;l<this.digestLength/4;l++)n.writeUint32BE(this._state[l],t,4*l);return this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(t){return this._state.set(t.state),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(t){s.wipe(t.state),t.buffer&&s.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},t}();e.mE=i;var a=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function o(t,e,r,s,i){for(;i>=64;){for(var o=e[0],l=e[1],c=e[2],h=e[3],u=e[4],d=e[5],p=e[6],f=e[7],m=0;m<16;m++){var g=s+4*m;t[m]=n.readUint32BE(r,g)}for(m=16;m<64;m++){var y=t[m-2],b=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10,v=((y=t[m-15])>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;t[m]=(b+t[m-7]|0)+(v+t[m-16]|0)}for(m=0;m<64;m++){b=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&d^~u&p)|0)+(f+(a[m]+t[m]|0)|0)|0,v=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&l^o&c^l&c)|0;f=p,p=d,d=u,u=h+b|0,h=c,c=l,l=o,o=b+v|0}e[0]+=o,e[1]+=l,e[2]+=c,e[3]+=h,e[4]+=u,e[5]+=d,e[6]+=p,e[7]+=f,s+=64,i-=64}return s}e.vp=function(t){var e=new i;e.update(t);var r=e.digest();return e.clean(),r}},635:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wipe=function(t){for(var e=0;e<t.length;e++)t[e]=0;return t}},2899:(t,e,r)=>{"use strict";e.gi=e.Au=e.KS=e.kz=void 0;const n=r(7261),s=r(635);function i(t){const e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}e.kz=32,e.KS=32;const a=new Uint8Array(32);a[0]=9;const o=i([56129,1]);function l(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-65536*e}t[0]+=e-1+37*(e-1)}function c(t,e,r){const n=~(r-1);for(let r=0;r<16;r++){const s=n&(t[r]^e[r]);t[r]^=s,e[r]^=s}}function h(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function u(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function d(t,e,r){let n,s,i=0,a=0,o=0,l=0,c=0,h=0,u=0,d=0,p=0,f=0,m=0,g=0,y=0,b=0,v=0,w=0,E=0,x=0,k=0,A=0,P=0,_=0,S=0,C=0,T=0,I=0,M=0,O=0,D=0,F=0,N=0,R=r[0],B=r[1],L=r[2],j=r[3],U=r[4],G=r[5],V=r[6],z=r[7],$=r[8],H=r[9],q=r[10],W=r[11],K=r[12],J=r[13],Q=r[14],Y=r[15];n=e[0],i+=n*R,a+=n*B,o+=n*L,l+=n*j,c+=n*U,h+=n*G,u+=n*V,d+=n*z,p+=n*$,f+=n*H,m+=n*q,g+=n*W,y+=n*K,b+=n*J,v+=n*Q,w+=n*Y,n=e[1],a+=n*R,o+=n*B,l+=n*L,c+=n*j,h+=n*U,u+=n*G,d+=n*V,p+=n*z,f+=n*$,m+=n*H,g+=n*q,y+=n*W,b+=n*K,v+=n*J,w+=n*Q,E+=n*Y,n=e[2],o+=n*R,l+=n*B,c+=n*L,h+=n*j,u+=n*U,d+=n*G,p+=n*V,f+=n*z,m+=n*$,g+=n*H,y+=n*q,b+=n*W,v+=n*K,w+=n*J,E+=n*Q,x+=n*Y,n=e[3],l+=n*R,c+=n*B,h+=n*L,u+=n*j,d+=n*U,p+=n*G,f+=n*V,m+=n*z,g+=n*$,y+=n*H,b+=n*q,v+=n*W,w+=n*K,E+=n*J,x+=n*Q,k+=n*Y,n=e[4],c+=n*R,h+=n*B,u+=n*L,d+=n*j,p+=n*U,f+=n*G,m+=n*V,g+=n*z,y+=n*$,b+=n*H,v+=n*q,w+=n*W,E+=n*K,x+=n*J,k+=n*Q,A+=n*Y,n=e[5],h+=n*R,u+=n*B,d+=n*L,p+=n*j,f+=n*U,m+=n*G,g+=n*V,y+=n*z,b+=n*$,v+=n*H,w+=n*q,E+=n*W,x+=n*K,k+=n*J,A+=n*Q,P+=n*Y,n=e[6],u+=n*R,d+=n*B,p+=n*L,f+=n*j,m+=n*U,g+=n*G,y+=n*V,b+=n*z,v+=n*$,w+=n*H,E+=n*q,x+=n*W,k+=n*K,A+=n*J,P+=n*Q,_+=n*Y,n=e[7],d+=n*R,p+=n*B,f+=n*L,m+=n*j,g+=n*U,y+=n*G,b+=n*V,v+=n*z,w+=n*$,E+=n*H,x+=n*q,k+=n*W,A+=n*K,P+=n*J,_+=n*Q,S+=n*Y,n=e[8],p+=n*R,f+=n*B,m+=n*L,g+=n*j,y+=n*U,b+=n*G,v+=n*V,w+=n*z,E+=n*$,x+=n*H,k+=n*q,A+=n*W,P+=n*K,_+=n*J,S+=n*Q,C+=n*Y,n=e[9],f+=n*R,m+=n*B,g+=n*L,y+=n*j,b+=n*U,v+=n*G,w+=n*V,E+=n*z,x+=n*$,k+=n*H,A+=n*q,P+=n*W,_+=n*K,S+=n*J,C+=n*Q,T+=n*Y,n=e[10],m+=n*R,g+=n*B,y+=n*L,b+=n*j,v+=n*U,w+=n*G,E+=n*V,x+=n*z,k+=n*$,A+=n*H,P+=n*q,_+=n*W,S+=n*K,C+=n*J,T+=n*Q,I+=n*Y,n=e[11],g+=n*R,y+=n*B,b+=n*L,v+=n*j,w+=n*U,E+=n*G,x+=n*V,k+=n*z,A+=n*$,P+=n*H,_+=n*q,S+=n*W,C+=n*K,T+=n*J,I+=n*Q,M+=n*Y,n=e[12],y+=n*R,b+=n*B,v+=n*L,w+=n*j,E+=n*U,x+=n*G,k+=n*V,A+=n*z,P+=n*$,_+=n*H,S+=n*q,C+=n*W,T+=n*K,I+=n*J,M+=n*Q,O+=n*Y,n=e[13],b+=n*R,v+=n*B,w+=n*L,E+=n*j,x+=n*U,k+=n*G,A+=n*V,P+=n*z,_+=n*$,S+=n*H,C+=n*q,T+=n*W,I+=n*K,M+=n*J,O+=n*Q,D+=n*Y,n=e[14],v+=n*R,w+=n*B,E+=n*L,x+=n*j,k+=n*U,A+=n*G,P+=n*V,_+=n*z,S+=n*$,C+=n*H,T+=n*q,I+=n*W,M+=n*K,O+=n*J,D+=n*Q,F+=n*Y,n=e[15],w+=n*R,E+=n*B,x+=n*L,k+=n*j,A+=n*U,P+=n*G,_+=n*V,S+=n*z,C+=n*$,T+=n*H,I+=n*q,M+=n*W,O+=n*K,D+=n*J,F+=n*Q,N+=n*Y,i+=38*E,a+=38*x,o+=38*k,l+=38*A,c+=38*P,h+=38*_,u+=38*S,d+=38*C,p+=38*T,f+=38*I,m+=38*M,g+=38*O,y+=38*D,b+=38*F,v+=38*N,s=1,n=i+s+65535,s=Math.floor(n/65536),i=n-65536*s,n=a+s+65535,s=Math.floor(n/65536),a=n-65536*s,n=o+s+65535,s=Math.floor(n/65536),o=n-65536*s,n=l+s+65535,s=Math.floor(n/65536),l=n-65536*s,n=c+s+65535,s=Math.floor(n/65536),c=n-65536*s,n=h+s+65535,s=Math.floor(n/65536),h=n-65536*s,n=u+s+65535,s=Math.floor(n/65536),u=n-65536*s,n=d+s+65535,s=Math.floor(n/65536),d=n-65536*s,n=p+s+65535,s=Math.floor(n/65536),p=n-65536*s,n=f+s+65535,s=Math.floor(n/65536),f=n-65536*s,n=m+s+65535,s=Math.floor(n/65536),m=n-65536*s,n=g+s+65535,s=Math.floor(n/65536),g=n-65536*s,n=y+s+65535,s=Math.floor(n/65536),y=n-65536*s,n=b+s+65535,s=Math.floor(n/65536),b=n-65536*s,n=v+s+65535,s=Math.floor(n/65536),v=n-65536*s,n=w+s+65535,s=Math.floor(n/65536),w=n-65536*s,i+=s-1+37*(s-1),s=1,n=i+s+65535,s=Math.floor(n/65536),i=n-65536*s,n=a+s+65535,s=Math.floor(n/65536),a=n-65536*s,n=o+s+65535,s=Math.floor(n/65536),o=n-65536*s,n=l+s+65535,s=Math.floor(n/65536),l=n-65536*s,n=c+s+65535,s=Math.floor(n/65536),c=n-65536*s,n=h+s+65535,s=Math.floor(n/65536),h=n-65536*s,n=u+s+65535,s=Math.floor(n/65536),u=n-65536*s,n=d+s+65535,s=Math.floor(n/65536),d=n-65536*s,n=p+s+65535,s=Math.floor(n/65536),p=n-65536*s,n=f+s+65535,s=Math.floor(n/65536),f=n-65536*s,n=m+s+65535,s=Math.floor(n/65536),m=n-65536*s,n=g+s+65535,s=Math.floor(n/65536),g=n-65536*s,n=y+s+65535,s=Math.floor(n/65536),y=n-65536*s,n=b+s+65535,s=Math.floor(n/65536),b=n-65536*s,n=v+s+65535,s=Math.floor(n/65536),v=n-65536*s,n=w+s+65535,s=Math.floor(n/65536),w=n-65536*s,i+=s-1+37*(s-1),t[0]=i,t[1]=a,t[2]=o,t[3]=l,t[4]=c,t[5]=h,t[6]=u,t[7]=d,t[8]=p,t[9]=f,t[10]=m,t[11]=g,t[12]=y,t[13]=b,t[14]=v,t[15]=w}function p(t,e){d(t,e,e)}function f(t,e){const r=new Uint8Array(32),n=new Float64Array(80),s=i(),a=i(),f=i(),m=i(),g=i(),y=i();for(let e=0;e<31;e++)r[e]=t[e];r[31]=127&t[31]|64,r[0]&=248,function(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}(n,e);for(let t=0;t<16;t++)a[t]=n[t];s[0]=m[0]=1;for(let t=254;t>=0;--t){const e=r[t>>>3]>>>(7&t)&1;c(s,a,e),c(f,m,e),h(g,s,f),u(s,s,f),h(f,a,m),u(a,a,m),p(m,g),p(y,s),d(s,f,s),d(f,a,g),h(g,s,f),u(s,s,f),p(a,s),u(f,m,y),d(s,f,o),h(s,s,m),d(f,f,s),d(s,m,y),d(m,a,n),p(a,g),c(s,a,e),c(f,m,e)}for(let t=0;t<16;t++)n[t+16]=s[t],n[t+32]=f[t],n[t+48]=a[t],n[t+64]=m[t];const b=n.subarray(32),v=n.subarray(16);!function(t,e){const r=i();for(let t=0;t<16;t++)r[t]=e[t];for(let t=253;t>=0;t--)p(r,r),2!==t&&4!==t&&d(r,r,e);for(let e=0;e<16;e++)t[e]=r[e]}(b,b),d(v,v,b);const w=new Uint8Array(32);return function(t,e){const r=i(),n=i();for(let t=0;t<16;t++)n[t]=e[t];l(n),l(n),l(n);for(let t=0;t<2;t++){r[0]=n[0]-65517;for(let t=1;t<15;t++)r[t]=n[t]-65535-(r[t-1]>>16&1),r[t-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);const t=r[15]>>16&1;r[14]&=65535,c(n,r,1-t)}for(let e=0;e<16;e++)t[2*e]=255&n[e],t[2*e+1]=n[e]>>8}(w,v),w}function m(t){return f(t,a)}function g(t){if(t.length!==e.KS)throw new Error(`x25519: seed must be ${e.KS} bytes`);const r=new Uint8Array(t);return{publicKey:m(r),secretKey:r}}e.Au=function(t){const e=(0,n.randomBytes)(32,t),r=g(e);return(0,s.wipe)(e),r},e.gi=function(t,r,n=!1){if(t.length!==e.kz)throw new Error("X25519: incorrect secret key length");if(r.length!==e.kz)throw new Error("X25519: incorrect public key length");const s=f(t,r);if(n){let t=0;for(let e=0;e<s.length;e++)t|=s[e];if(0===t)throw new Error("X25519: invalid shared key")}return s}},9577:()=>{},4499:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(7582);n.__exportStar(r(4067),e),n.__exportStar(r(9002),e)},4067:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_THOUSAND=e.ONE_HUNDRED=void 0,e.ONE_HUNDRED=100,e.ONE_THOUSAND=1e3},9002:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=5*e.ONE_MINUTE,e.TEN_MINUTES=10*e.ONE_MINUTE,e.THIRTY_MINUTES=30*e.ONE_MINUTE,e.SIXTY_MINUTES=60*e.ONE_MINUTE,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=3*e.ONE_HOUR,e.SIX_HOURS=6*e.ONE_HOUR,e.TWELVE_HOURS=12*e.ONE_HOUR,e.TWENTY_FOUR_HOURS=24*e.ONE_HOUR,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=3*e.ONE_DAY,e.FIVE_DAYS=5*e.ONE_DAY,e.SEVEN_DAYS=7*e.ONE_DAY,e.THIRTY_DAYS=30*e.ONE_DAY,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=2*e.ONE_WEEK,e.THREE_WEEKS=3*e.ONE_WEEK,e.FOUR_WEEKS=4*e.ONE_WEEK,e.ONE_YEAR=365*e.ONE_DAY},4622:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(7582);n.__exportStar(r(7051),e),n.__exportStar(r(3416),e),n.__exportStar(r(9232),e),n.__exportStar(r(4499),e)},9232:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});r(7582).__exportStar(r(8982),e)},8982:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWatch=void 0;e.IWatch=class{}},7713:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromMiliseconds=e.toMiliseconds=void 0;const n=r(4499);e.toMiliseconds=function(t){return t*n.ONE_THOUSAND},e.fromMiliseconds=function(t){return Math.floor(t/n.ONE_THOUSAND)}},8544:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delay=void 0,e.delay=function(t){return new Promise((e=>{setTimeout((()=>{e(!0)}),t)}))}},7051:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(7582);n.__exportStar(r(8544),e),n.__exportStar(r(7713),e)},3416:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const e=this.get(t);if(void 0!==e.elapsed)throw new Error(`Watch already stopped for label: ${t}`);const r=Date.now()-e.started;this.timestamps.set(t,{started:e.started,elapsed:r})}get(t){const e=this.timestamps.get(t);if(void 0===e)throw new Error(`No timestamp found for label: ${t}`);return e}elapsed(t){const e=this.get(t);return e.elapsed||Date.now()-e.started}}e.Watch=r,e.default=r},2006:(t,e,r)=>{"use strict";r.d(e,{AW:()=>F,O6:()=>$e,rV:()=>L,gn:()=>St,H1:()=>Et,hF:()=>xt,WG:()=>K,pe:()=>Q,m$:()=>H,vB:()=>Y,HI:()=>J,E0:()=>Tt,Gq:()=>Pt,$0:()=>yt,Z4:()=>At,Bv:()=>Ht,Au:()=>z,jd:()=>$,gu:()=>M,D:()=>mt,X_:()=>ft,bW:()=>Ot,Z7:()=>le,cO:()=>Nt,_H:()=>Ft,fc:()=>re,D6:()=>ce,Hh:()=>Mt,Ym:()=>q,rj:()=>W,jU:()=>dt,gp:()=>ne,rF:()=>Le,Bw:()=>Ct,UG:()=>ht,Gg:()=>Ge,xW:()=>be,b$:()=>ut,Ih:()=>me,h1:()=>ve,Q8:()=>tt,o8:()=>de,qt:()=>he,Dd:()=>we,$t:()=>Me,nf:()=>Fe,Q0:()=>Te,in:()=>_e,p8:()=>Ne,sI:()=>Be,al:()=>Re,L5:()=>ue,EJ:()=>Ie,Z2:()=>Se,PM:()=>Ce,hH:()=>Oe,ON:()=>Ue,n:()=>Pe,JT:()=>De,M_:()=>pe,jv:()=>ye,KC:()=>vt,eG:()=>It,fK:()=>ie,IP:()=>wt,DQ:()=>I,iP:()=>_t,M:()=>se,he:()=>zt,uw:()=>Ve,Ll:()=>Z,EN:()=>X});var n=r(1063),s=r(5067),i=r(7261),a=r(6655),o=r(2899),l=r(1627),c=r(3939),h=function(t,e,r){if(r||2===arguments.length)for(var n,s=0,i=e.length;s<i;s++)!n&&s in e||(n||(n=Array.prototype.slice.call(e,0,s)),n[s]=e[s]);return t.concat(n||Array.prototype.slice.call(e))},u=function(t,e,r){this.name=t,this.version=e,this.os=r,this.type="browser"},d=function(t){this.version=t,this.type="node",this.name="node",this.os=c.platform},p=function(t,e,r,n){this.name=t,this.version=e,this.os=r,this.bot=n,this.type="bot-device"},f=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},m=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},g=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,y=3,b=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],v=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function w(t){return t?x(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new m:"undefined"!=typeof navigator?x(navigator.userAgent):void 0!==c&&c.version?new d(c.version.slice(1)):null}function E(t){return""!==t&&b.reduce((function(e,r){var n=r[0],s=r[1];if(e)return e;var i=s.exec(t);return!!i&&[n,i]}),!1)}function x(t){var e=E(t);if(!e)return null;var r=e[0],n=e[1];if("searchbot"===r)return new f;var s=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);s?s.length<y&&(s=h(h([],s,!0),function(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}(y-s.length),!0)):s=[];var i=s.join("."),a=function(t){for(var e=0,r=v.length;e<r;e++){var n=v[e],s=n[0];if(n[1].exec(t))return s}return null}(t),o=g.exec(t);return o&&o[1]?new p(r,i,a,o[1]):new u(r,i,a)}var k=r(4622),A=r(5785),P=r(303),_=r(6107);r(9577);const S={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};var C=r(3939);const T=":";function I(t){const[e,r]=t.split(T);return{namespace:e,reference:r}}function M(t,e=[]){const r=[];return Object.keys(t).forEach((n=>{if(e.length&&!e.includes(n))return;const s=t[n];r.push(...s.accounts)})),r}function O(t,e){return t.includes(":")?[t]:e.chains||[]}const D="base10",F="base16",N="base64pad",R="utf8",B=0,L=1,j=0,U=1,G=12,V=32;function z(){const t=o.Au();return{privateKey:(0,l.BB)(t.secretKey,F),publicKey:(0,l.BB)(t.publicKey,F)}}function $(){const t=(0,i.randomBytes)(V);return(0,l.BB)(t,F)}function H(t,e){const r=o.gi((0,l.mL)(t,F),(0,l.mL)(e,F),!0),n=new s.t(a.mE,r).expand(V);return(0,l.BB)(n,F)}function q(t){const e=(0,a.vp)((0,l.mL)(t,F));return(0,l.BB)(e,F)}function W(t){const e=(0,a.vp)((0,l.mL)(t,R));return(0,l.BB)(e,F)}function K(t){return Number((0,l.BB)(t,D))}function J(t){const e=function(t){return(0,l.mL)(`${t}`,D)}(typeof t.type<"u"?t.type:B);if(K(e)===L&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?(0,l.mL)(t.senderPublicKey,F):void 0,s=typeof t.iv<"u"?(0,l.mL)(t.iv,F):(0,i.randomBytes)(G);return function(t){if(K(t.type)===L){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return(0,l.BB)((0,l.zo)([t.type,t.senderPublicKey,t.iv,t.sealed]),N)}return(0,l.BB)((0,l.zo)([t.type,t.iv,t.sealed]),N)}({type:e,sealed:new n.OK((0,l.mL)(t.symKey,F)).seal(s,(0,l.mL)(t.message,R)),iv:s,senderPublicKey:r})}function Q(t){const e=new n.OK((0,l.mL)(t.symKey,F)),{sealed:r,iv:s}=Y(t.encoded),i=e.open(s,r);if(null===i)throw new Error("Failed to decrypt");return(0,l.BB)(i,R)}function Y(t){const e=(0,l.mL)(t,N),r=e.slice(j,U),n=U;if(K(r)===L){const t=n+V,s=t+G,i=e.slice(n,t),a=e.slice(t,s);return{type:r,sealed:e.slice(s),iv:a,senderPublicKey:i}}const s=n+G,i=e.slice(n,s);return{type:r,sealed:e.slice(s),iv:i}}function Z(t,e){const r=Y(t);return X({type:K(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?(0,l.BB)(r.senderPublicKey,F):void 0,receiverPublicKey:e?.receiverPublicKey})}function X(t){const e=t?.type||B;if(e===L){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function tt(t){return t.type===L&&"string"==typeof t.senderPublicKey&&"string"==typeof t.receiverPublicKey}var et=Object.defineProperty,rt=Object.getOwnPropertySymbols,nt=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable,it=(t,e,r)=>e in t?et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,at=(t,e)=>{for(var r in e||(e={}))nt.call(e,r)&&it(t,r,e[r]);if(rt)for(var r of rt(e))st.call(e,r)&&it(t,r,e[r]);return t};const ot="ReactNative",lt={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},ct="js";function ht(){return typeof C<"u"&&typeof C.versions<"u"&&typeof C.versions.node<"u"}function ut(){return!(0,A.getDocument)()&&!!(0,A.getNavigator)()&&navigator.product===ot}function dt(){return!ht()&&!!(0,A.getNavigator)()&&!!(0,A.getDocument)()}function pt(){return ut()?lt.reactNative:ht()?lt.node:dt()?lt.browser:lt.unknown}function ft(){var t;try{return ut()&&typeof r.g<"u"&&typeof(null==r.g?void 0:r.g.Application)<"u"?null==(t=r.g.Application)?void 0:t.applicationId:void 0}catch{return}}function mt(){return(0,P.D)()||{name:"",description:"",url:"",icons:[""]}}function gt(t,e,n){const s=function(){if(pt()===lt.reactNative&&typeof r.g<"u"&&typeof(null==r.g?void 0:r.g.Platform)<"u"){const{OS:t,Version:e}=r.g.Platform;return[t,e].join("-")}const t=w();if(null===t)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return"browser"===t.type?[e,t.name,t.version].join("-"):[e,t.version].join("-")}(),i=function(){var t;const e=pt();return e===lt.browser?[e,(null==(t=(0,A.getLocation)())?void 0:t.host)||"unknown"].join(":"):e}();return[[t,e].join("-"),[ct,n].join("-"),s,i].join("/")}function yt({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:s,projectId:i,useOnCloseEvent:a,bundleId:o}){const l=r.split("?"),c={auth:s,ua:gt(t,e,n),projectId:i,useOnCloseEvent:a||void 0,origin:o||void 0},h=function(t,e){let r=_.parse(t);return r=at(at({},r),e),_.stringify(r)}(l[1]||"",c);return l[0]+"?"+h}function bt(t,e){return t.filter((t=>e.includes(t))).length===t.length}function vt(t){return Object.fromEntries(t.entries())}function wt(t){return new Map(Object.entries(t))}function Et(t=k.FIVE_MINUTES,e){const r=(0,k.toMiliseconds)(t||k.FIVE_MINUTES);let n,s,i;return{resolve:t=>{i&&n&&(clearTimeout(i),n(t))},reject:t=>{i&&s&&(clearTimeout(i),s(t))},done:()=>new Promise(((t,a)=>{i=setTimeout((()=>{a(new Error(e))}),r),n=t,s=a}))}}function xt(t,e,r){return new Promise((async(n,s)=>{const i=setTimeout((()=>s(new Error(r))),e);try{n(await t)}catch(t){s(t)}clearTimeout(i)}))}function kt(t,e){if("string"==typeof e&&e.startsWith(`${t}:`))return e;if("topic"===t.toLowerCase()){if("string"!=typeof e)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}if("id"===t.toLowerCase()){if("number"!=typeof e)throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function At(t){return kt("topic",t)}function Pt(t){return kt("id",t)}function _t(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if("topic"===e&&"string"==typeof r)n.topic=r;else{if("id"!==e||!Number.isInteger(Number(r)))throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);n.id=Number(r)}return n}function St(t,e){return(0,k.fromMiliseconds)((e||Date.now())+(0,k.toMiliseconds)(t))}function Ct(t){return Date.now()>=(0,k.toMiliseconds)(t)}function Tt(t,e){return`${t}${e?`:${e}`:""}`}function It(t=[],e=[]){return[...new Set([...t,...e])]}async function Mt({id:t,topic:e,wcDeepLink:n}){try{if(!n)return;const s="string"==typeof n?JSON.parse(n):n;let i=s?.href;if("string"!=typeof i)return;i.endsWith("/")&&(i=i.slice(0,-1));const a=`${i}/wc?requestId=${t}&sessionTopic=${e}`,o=pt();o===lt.browser?a.startsWith("https://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,"_self","noreferrer noopener"):o===lt.reactNative&&typeof(null==r.g?void 0:r.g.Linking)<"u"&&await r.g.Linking.openURL(a)}catch(t){console.error(t)}}async function Ot(t,e){try{return await t.getItem(e)||(dt()?localStorage.getItem(e):void 0)}catch(t){console.error(t)}}const Dt="irn";function Ft(t){return t?.relay||{protocol:Dt}}function Nt(t){const e=S[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Rt=Object.defineProperty,Bt=Object.getOwnPropertySymbols,Lt=Object.prototype.hasOwnProperty,jt=Object.prototype.propertyIsEnumerable,Ut=(t,e,r)=>e in t?Rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Gt=(t,e)=>{for(var r in e||(e={}))Lt.call(e,r)&&Ut(t,r,e[r]);if(Bt)for(var r of Bt(e))jt.call(e,r)&&Ut(t,r,e[r]);return t};function Vt(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach((e=>{if(e.startsWith(n)){const s=e.replace(n,""),i=t[e];r[s]=i}})),r}function zt(t){const e=(t=(t=t.includes("wc://")?t.replace("wc://",""):t).includes("wc:")?t.replace("wc:",""):t).indexOf(":"),r=-1!==t.indexOf("?")?t.indexOf("?"):void 0,n=t.substring(0,e),s=t.substring(e+1,r).split("@"),i=typeof r<"u"?t.substring(r):"",a=_.parse(i);return{protocol:n,topic:$t(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:Vt(a)}}function $t(t){return t.startsWith("//")?t.substring(2):t}function Ht(t){return`${t.protocol}:${t.topic}@${t.version}?`+_.stringify(Gt({symKey:t.symKey},function(t,e="-"){const r={};return Object.keys(t).forEach((n=>{const s="relay"+e+n;t[n]&&(r[s]=t[n])})),r}(t.relay)))}var qt=Object.defineProperty,Wt=Object.defineProperties,Kt=Object.getOwnPropertyDescriptors,Jt=Object.getOwnPropertySymbols,Qt=Object.prototype.hasOwnProperty,Yt=Object.prototype.propertyIsEnumerable,Zt=(t,e,r)=>e in t?qt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xt=(t,e)=>{for(var r in e||(e={}))Qt.call(e,r)&&Zt(t,r,e[r]);if(Jt)for(var r of Jt(e))Yt.call(e,r)&&Zt(t,r,e[r]);return t},te=(t,e)=>Wt(t,Kt(e));function ee(t){const e=[];return t.forEach((t=>{const[r,n]=t.split(":");e.push(`${r}:${n}`)})),e}function re(t,e){const r=_e(t,e);if(r)throw new Error(r.message);const n={};for(const[e,r]of Object.entries(t))n[e]={methods:r.methods,events:r.events,chains:r.accounts.map((t=>`${t.split(":")[0]}:${t.split(":")[1]}`))};return n}function ne(t){return t.includes(":")}function se(t){return ne(t)?t.split(":")[0]:t}function ie(t){var e,r,n;const s={};if(!ue(t))return s;for(const[i,a]of Object.entries(t)){const t=ne(i)?[i]:a.chains,o=a.methods||[],l=a.events||[],c=se(i);s[c]=te(Xt({},s[c]),{chains:It(t,null==(e=s[c])?void 0:e.chains),methods:It(o,null==(r=s[c])?void 0:r.methods),events:It(l,null==(n=s[c])?void 0:n.events)})}return s}const ae={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},oe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function le(t,e){const{message:r,code:n}=oe[t];return{message:e?`${r} ${e}`:r,code:n}}function ce(t,e){const{message:r,code:n}=ae[t];return{message:e?`${r} ${e}`:r,code:n}}function he(t,e){return!!Array.isArray(t)&&(!(typeof e<"u"&&t.length)||t.every(e))}function ue(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function de(t){return typeof t>"u"}function pe(t,e){return!(!e||!de(t))||"string"==typeof t&&!!t.trim().length}function fe(t,e){return!(!e||!de(t))||"number"==typeof t&&!isNaN(t)}function me(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),s=Object.keys(r);let i=!0;return!!bt(s,n)&&(n.forEach((e=>{const{accounts:n,methods:s,events:a}=t.namespaces[e],o=ee(n),l=r[e];bt(O(e,l),o)&&bt(l.methods,s)&&bt(l.events,a)||(i=!1)})),i)}function ge(t){return!(!pe(t,!1)||!t.includes(":"))&&2===t.split(":").length}function ye(t){if(pe(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}function be(t){var e;return null==(e=t?.proposer)?void 0:e.publicKey}function ve(t){return t?.topic}function we(t,e){let r=null;return pe(t?.publicKey,!1)||(r=le("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function Ee(t){let e=!0;return he(t)?t.length&&(e=t.every((t=>pe(t,!1)))):e=!1,e}function xe(t,e,r){let n=null;return Object.entries(t).forEach((([t,s])=>{if(n)return;const i=function(t,e,r){let n=null;return he(e)&&e.length?e.forEach((t=>{n||ge(t)||(n=ce("UNSUPPORTED_CHAINS",`${r}, chain ${t} should be a string and conform to "namespace:chainId" format`))})):ge(t)||(n=ce("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}(t,O(t,s),`${e} ${r}`);i&&(n=i)})),n}function ke(t,e){let r=null;return he(t)?t.forEach((t=>{r||function(t){if(pe(t,!1)&&t.includes(":")){const e=t.split(":");if(3===e.length){const t=e[0]+":"+e[1];return!!e[2]&&ge(t)}}return!1}(t)||(r=ce("UNSUPPORTED_ACCOUNTS",`${e}, account ${t} should be a string and conform to "namespace:chainId:address" format`))})):r=ce("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Ae(t,e){let r=null;return Object.values(t).forEach((t=>{if(r)return;const n=function(t,e){let r=null;return Ee(t?.methods)?Ee(t?.events)||(r=ce("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=ce("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}(t,`${e}, namespace`);n&&(r=n)})),r}function Pe(t,e,r){let n=null;if(t&&ue(t)){const s=Ae(t,e);s&&(n=s);const i=xe(t,e,r);i&&(n=i)}else n=le("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function _e(t,e){let r=null;if(t&&ue(t)){const n=Ae(t,e);n&&(r=n);const s=function(t,e){let r=null;return Object.values(t).forEach((t=>{if(r)return;const n=ke(t?.accounts,`${e} namespace`);n&&(r=n)})),r}(t,e);s&&(r=s)}else r=le("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function Se(t){return pe(t.protocol,!0)}function Ce(t,e){let r=!1;return e&&!t?r=!0:t&&he(t)&&t.length&&t.forEach((t=>{r=Se(t)})),r}function Te(t){return"number"==typeof t}function Ie(t){return typeof t<"u"&&null!==typeof t}function Me(t){return!!(t&&"object"==typeof t&&t.code&&fe(t.code,!1)&&t.message&&pe(t.message,!1))}function Oe(t){return!(de(t)||!pe(t.method,!1))}function De(t){return!(de(t)||de(t.result)&&de(t.error)||!fe(t.id,!1)||!pe(t.jsonrpc,!1))}function Fe(t){return!(de(t)||!pe(t.name,!1))}function Ne(t,e){return!(!ge(e)||!function(t){const e=[];return Object.values(t).forEach((t=>{e.push(...ee(t.accounts))})),e}(t).includes(e))}function Re(t,e,r){return!!pe(r,!1)&&function(t,e){const r=[];return Object.values(t).forEach((t=>{ee(t.accounts).includes(e)&&r.push(...t.methods)})),r}(t,e).includes(r)}function Be(t,e,r){return!!pe(r,!1)&&function(t,e){const r=[];return Object.values(t).forEach((t=>{ee(t.accounts).includes(e)&&r.push(...t.events)})),r}(t,e).includes(r)}function Le(t,e,r){let n=null;const s=function(t){const e={};return Object.keys(t).forEach((r=>{var n;r.includes(":")?e[r]=t[r]:null==(n=t[r].chains)||n.forEach((n=>{e[n]={methods:t[r].methods,events:t[r].events}}))})),e}(t),i=function(t){const e={};return Object.keys(t).forEach((r=>{if(r.includes(":"))e[r]=t[r];else{const n=ee(t[r].accounts);n?.forEach((n=>{e[n]={accounts:t[r].accounts.filter((t=>t.includes(`${n}:`))),methods:t[r].methods,events:t[r].events}}))}})),e}(e),a=Object.keys(s),o=Object.keys(i),l=je(Object.keys(t)),c=je(Object.keys(e)),h=l.filter((t=>!c.includes(t)));return h.length&&(n=le("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${h.toString()}\n      Received: ${Object.keys(e).toString()}`)),bt(a,o)||(n=le("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.\n      Required: ${a.toString()}\n      Approved: ${o.toString()}`)),Object.keys(e).forEach((t=>{if(!t.includes(":")||n)return;const s=ee(e[t].accounts);s.includes(t)||(n=le("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${t}\n        Required: ${t}\n        Approved: ${s.toString()}`))})),a.forEach((t=>{n||(bt(s[t].methods,i[t].methods)?bt(s[t].events,i[t].events)||(n=le("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${t}`)):n=le("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${t}`))})),n}function je(t){return[...new Set(t.map((t=>t.includes(":")?t.split(":")[0]:t)))]}function Ue(t,e){return fe(t,!1)&&t<=e.max&&t>=e.min}function Ge(){const t=pt();return new Promise((e=>{switch(t){case lt.browser:e(dt()&&navigator?.onLine);break;case lt.reactNative:e(async function(){if(ut()&&typeof r.g<"u"&&null!=r.g&&r.g.NetInfo){const t=await(null==r.g?void 0:r.g.NetInfo.fetch());return t?.isConnected}return!0}());break;case lt.node:default:e(!0)}}))}function Ve(t){switch(pt()){case lt.browser:!function(t){!ut()&&dt()&&(window.addEventListener("online",(()=>t(!0))),window.addEventListener("offline",(()=>t(!1))))}(t);break;case lt.reactNative:!function(t){ut()&&typeof r.g<"u"&&null!=r.g&&r.g.NetInfo&&r.g?.NetInfo.addEventListener((e=>t(e?.isConnected)))}(t);case lt.node:}}const ze={};class $e{static get(t){return ze[t]}static set(t,e){ze[t]=e}static delete(t){delete ze[t]}}},6107:(t,e,r)=>{"use strict";const n=r(3342),s=r(8222),i=r(6932),a=r(9968),o=Symbol("encodeFragmentIdentifier");function l(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(t,e){return e.encode?e.strict?n(t):encodeURIComponent(t):t}function h(t,e){return e.decode?s(t):t}function u(t){return Array.isArray(t)?t.sort():"object"==typeof t?u(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function d(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function p(t){const e=(t=d(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function f(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function m(t,e){l((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,n)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return(t,r,n)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"colon-list-separator":return(t,r,n)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"comma":case"separator":return(e,r,n)=>{const s="string"==typeof r&&r.includes(t.arrayFormatSeparator),i="string"==typeof r&&!s&&h(r,t).includes(t.arrayFormatSeparator);r=i?h(r,t):r;const a=s||i?r.split(t.arrayFormatSeparator).map((e=>h(e,t))):null===r?r:h(r,t);n[e]=a};case"bracket-separator":return(e,r,n)=>{const s=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),!s)return void(n[e]=r?h(r,t):r);const i=null===r?[]:r.split(t.arrayFormatSeparator).map((e=>h(e,t)));void 0!==n[e]?n[e]=[].concat(n[e],i):n[e]=i};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),n=Object.create(null);if("string"!=typeof t)return n;if(!(t=t.trim().replace(/^[?#&]/,"")))return n;for(const s of t.split("&")){if(""===s)continue;let[t,a]=i(e.decode?s.replace(/\+/g," "):s,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?a:h(a,e),r(h(t,e),a,n)}for(const t of Object.keys(n)){const r=n[t];if("object"==typeof r&&null!==r)for(const t of Object.keys(r))r[t]=f(r[t],e);else n[t]=f(r,e)}return!1===e.sort?n:(!0===e.sort?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce(((t,e)=>{const r=n[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=u(r):t[e]=r,t}),Object.create(null))}e.extract=p,e.parse=m,e.stringify=(t,e)=>{if(!t)return"";l((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>e.skipNull&&null==t[r]||e.skipEmptyString&&""===t[r],n=function(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{const s=r.length;return void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[c(e,t),"[",s,"]"].join("")]:[...r,[c(e,t),"[",c(s,t),"]=",c(n,t)].join("")]};case"bracket":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[c(e,t),"[]"].join("")]:[...r,[c(e,t),"[]=",c(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[c(e,t),":list="].join("")]:[...r,[c(e,t),":list=",c(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return r=>(n,s)=>void 0===s||t.skipNull&&null===s||t.skipEmptyString&&""===s?n:(s=null===s?"":s,0===n.length?[[c(r,t),e,c(s,t)].join("")]:[[n,c(s,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,c(e,t)]:[...r,[c(e,t),"=",c(n,t)].join("")]}}(e),s={};for(const e of Object.keys(t))r(e)||(s[e]=t[e]);const i=Object.keys(s);return!1!==e.sort&&i.sort(e.sort),i.map((r=>{const s=t[r];return void 0===s?"":null===s?c(r,e):Array.isArray(s)?0===s.length&&"bracket-separator"===e.arrayFormat?c(r,e)+"[]":s.reduce(n(r),[]).join("&"):c(r,e)+"="+c(s,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,n]=i(t,"#");return Object.assign({url:r.split("?")[0]||"",query:m(p(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:h(n,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0,[o]:!0},r);const n=d(t.url).split("?")[0]||"",s=e.extract(t.url),i=e.parse(s,{sort:!1}),a=Object.assign(i,t.query);let l=e.stringify(a,r);l&&(l=`?${l}`);let h=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(h=`#${r[o]?c(t.fragmentIdentifier,r):t.fragmentIdentifier}`),`${n}${l}${h}`},e.pick=(t,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[o]:!1},n);const{url:s,query:i,fragmentIdentifier:l}=e.parseUrl(t,n);return e.stringifyUrl({url:s,query:a(i,r),fragmentIdentifier:l},n)},e.exclude=(t,r,n)=>{const s=Array.isArray(r)?t=>!r.includes(t):(t,e)=>!r(t,e);return e.pick(t,s,n)}},5785:(t,e)=>{"use strict";function r(t){let e;return"undefined"!=typeof window&&void 0!==window[t]&&(e=window[t]),e}function n(t){const e=r(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorage=e.getLocalStorageOrThrow=e.getCrypto=e.getCryptoOrThrow=e.getLocation=e.getLocationOrThrow=e.getNavigator=e.getNavigatorOrThrow=e.getDocument=e.getDocumentOrThrow=e.getFromWindowOrThrow=e.getFromWindow=void 0,e.getFromWindow=r,e.getFromWindowOrThrow=n,e.getDocumentOrThrow=function(){return n("document")},e.getDocument=function(){return r("document")},e.getNavigatorOrThrow=function(){return n("navigator")},e.getNavigator=function(){return r("navigator")},e.getLocationOrThrow=function(){return n("location")},e.getLocation=function(){return r("location")},e.getCryptoOrThrow=function(){return n("crypto")},e.getCrypto=function(){return r("crypto")},e.getLocalStorageOrThrow=function(){return n("localStorage")},e.getLocalStorage=function(){return r("localStorage")}},303:(t,e,r)=>{"use strict";e.D=void 0;const n=r(5785);e.D=function(){let t,e;try{t=n.getDocumentOrThrow(),e=n.getLocationOrThrow()}catch(t){return null}function r(...e){const r=t.getElementsByTagName("meta");for(let t=0;t<r.length;t++){const n=r[t],s=["itemprop","property","name"].map((t=>n.getAttribute(t))).filter((t=>!!t&&e.includes(t)));if(s.length&&s){const t=n.getAttribute("content");if(t)return t}}return""}const s=function(){let e=r("name","og:site_name","og:title","twitter:title");return e||(e=t.title),e}();return{description:r("description","og:description","twitter:description","keywords"),url:e.origin,icons:function(){const r=t.getElementsByTagName("link"),n=[];for(let t=0;t<r.length;t++){const s=r[t],i=s.getAttribute("rel");if(i&&i.toLowerCase().indexOf("icon")>-1){const t=s.getAttribute("href");if(t)if(-1===t.toLowerCase().indexOf("https:")&&-1===t.toLowerCase().indexOf("http:")&&0!==t.indexOf("//")){let r=e.protocol+"//"+e.host;if(0===t.indexOf("/"))r+=t;else{const n=e.pathname.split("/");n.pop();r+=n.join("/")+"/"+t}n.push(r)}else if(0===t.indexOf("//")){const r=e.protocol+t;n.push(r)}else n.push(t)}}return n}(),name:s}}},8222:t=>{"use strict";var e="%[a-f0-9]{2}",r=new RegExp("("+e+")|([^%]+?)","gi"),n=new RegExp("("+e+")+","gi");function s(t,e){try{return[decodeURIComponent(t.join(""))]}catch(t){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],s(r),s(n))}function i(t){try{return decodeURIComponent(t)}catch(i){for(var e=t.match(r)||[],n=1;n<e.length;n++)e=(t=s(e,n).join("")).match(r)||[];return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},r=n.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var s=i(r[0]);s!==r[0]&&(e[r[0]]=s)}r=n.exec(t)}e["%C2"]="�";for(var a=Object.keys(e),o=0;o<a.length;o++){var l=a[o];t=t.replace(new RegExp(l,"g"),e[l])}return t}(t)}}},8290:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function i(t,e,n,i,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new s(n,i||t,a),l=r?r+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],o]:t._events[l].push(o):(t._events[l]=o,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var t,n,s=[];if(0===this._eventsCount)return s;for(n in t=this._events)e.call(t,n)&&s.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(t)):s},o.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var s=0,i=n.length,a=new Array(i);s<i;s++)a[s]=n[s].fn;return a},o.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},o.prototype.emit=function(t,e,n,s,i,a){var o=r?r+t:t;if(!this._events[o])return!1;var l,c,h=this._events[o],u=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),u){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,s),!0;case 5:return h.fn.call(h.context,e,n,s,i),!0;case 6:return h.fn.call(h.context,e,n,s,i,a),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];h.fn.apply(h.context,l)}else{var d,p=h.length;for(c=0;c<p;c++)switch(h[c].once&&this.removeListener(t,h[c].fn,void 0,!0),u){case 1:h[c].fn.call(h[c].context);break;case 2:h[c].fn.call(h[c].context,e);break;case 3:h[c].fn.call(h[c].context,e,n);break;case 4:h[c].fn.call(h[c].context,e,n,s);break;default:if(!l)for(d=1,l=new Array(u-1);d<u;d++)l[d-1]=arguments[d];h[c].fn.apply(h[c].context,l)}}return!0},o.prototype.on=function(t,e,r){return i(this,t,e,r,!1)},o.prototype.once=function(t,e,r){return i(this,t,e,r,!0)},o.prototype.removeListener=function(t,e,n,s){var i=r?r+t:t;if(!this._events[i])return this;if(!e)return a(this,i),this;var o=this._events[i];if(o.fn)o.fn!==e||s&&!o.once||n&&o.context!==n||a(this,i);else{for(var l=0,c=[],h=o.length;l<h;l++)(o[l].fn!==e||s&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:a(this,i)}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o},9968:t=>{"use strict";t.exports=function(t,e){for(var r={},n=Object.keys(t),s=Array.isArray(e),i=0;i<n.length;i++){var a=n[i],o=t[a];(s?-1!==e.indexOf(a):e(a,o,t))&&(r[a]=o)}return r}},3939:t=>{var e,r,n=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===s||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:s}catch(t){e=s}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(t){r=i}}();var o,l=[],c=!1,h=-1;function u(){c&&o&&(c=!1,o.length?l=o.concat(l):h=-1,l.length&&d())}function d(){if(!c){var t=a(u);c=!0;for(var e=l.length;e;){for(o=l,l=[];++h<e;)o&&o[h].run();h=-1,e=l.length}o=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function f(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new p(t,e)),1!==l.length||c||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=f,n.addListener=f,n.once=f,n.off=f,n.removeListener=f,n.removeAllListeners=f,n.emit=f,n.prependListener=f,n.prependOnceListener=f,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},7104:(t,e,r)=>{"use strict";r.d(e,{jc:()=>l,o5:()=>o});Symbol();const n=Symbol();const s=Object.getPrototypeOf,i=new WeakMap,a=t=>t&&(i.has(t)?i.get(t):s(t)===Object.prototype||s(t)===Array.prototype),o=t=>a(t)&&t[n]||null,l=(t,e=!0)=>{i.set(t,e)}},6932:t=>{"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const r=t.indexOf(e);return-1===r?[t]:[t.slice(0,r),t.slice(r+e.length)]}},3342:t=>{"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},7582:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>v,__asyncValues:()=>E,__await:()=>b,__awaiter:()=>h,__classPrivateFieldGet:()=>P,__classPrivateFieldSet:()=>_,__createBinding:()=>d,__decorate:()=>o,__exportStar:()=>p,__extends:()=>s,__generator:()=>u,__importDefault:()=>A,__importStar:()=>k,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>y,__values:()=>f});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function s(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var i=function(){return i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var s in e=arguments[r])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},i.apply(this,arguments)};function a(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]])}return r}function o(t,e,r,n){var s,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,r,a):s(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function l(t,e){return function(r,n){e(r,n,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,r,n){return new(r||(r=Promise))((function(s,i){function a(t){try{l(n.next(t))}catch(t){i(t)}}function o(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}l((n=n.apply(t,e||[])).next())}))}function u(t,e){var r,n,s,i,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(s=2&i[0]?n.return:i[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,i[1])).done)return s;switch(n=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(s=a.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){a.label=i[1];break}if(6===i[0]&&a.label<s[1]){a.label=s[1],s=i;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(i);break}s[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}function d(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function p(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,s,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){s={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t}function y(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),s=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,o=i.length;a<o;a++,s++)n[s]=i[a];return n}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function v(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,s=r.apply(t,e||[]),i=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(t){s[t]&&(n[t]=function(e){return new Promise((function(r,n){i.push([t,e,r,n])>1||o(t,e)}))})}function o(t,e){try{(r=s[t](e)).value instanceof b?Promise.resolve(r.value.v).then(l,c):h(i[0][2],r)}catch(t){h(i[0][3],t)}var r}function l(t){o("next",t)}function c(t){o("throw",t)}function h(t,e){t(e),i.shift(),i.length&&o(i[0][0],i[0][1])}}function w(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,s){e[n]=t[n]?function(e){return(r=!r)?{value:b(t[n](e)),done:"return"===n}:s?s(e):e}:s}}function E(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=f(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,s){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,s,(e=t[r](e)).done,e.value)}))}}}function x(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function A(t){return t&&t.__esModule?t:{default:t}}function P(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function _(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},3452:(t,e,r)=>{"use strict";r.d(e,{Z:()=>Qg});var n={};r.r(n),r.d(n,{dQ:()=>qd,ci:()=>Bd,bytesToNumberBE:()=>Ud,ty:()=>Gd,eV:()=>Hd,n$:()=>Jd,ql:()=>$d,hexToBytes:()=>jd,tL:()=>Vd,S5:()=>zd,FF:()=>Yd});class s extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}}class i extends s{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class a extends s{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class o extends s{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var l;!function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"}(l||(l={}));var c=function(t,e,r,n){return new(r||(r=Promise))((function(s,i){function a(t){try{l(n.next(t))}catch(t){i(t)}}function o(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}l((n=n.apply(t,e||[])).next())}))};class h{constructor(t,{headers:e={},customFetch:n,region:s=l.Any}={}){this.url=t,this.headers=e,this.region=s,this.fetch=(t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>Promise.resolve().then(r.bind(r,4354)).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)})(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var r;return c(this,void 0,void 0,(function*(){try{const{headers:n,method:s,body:l}=e;let c,h={},{region:u}=e;u||(u=this.region),u&&"any"!==u&&(h["x-region"]=u),l&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&("undefined"!=typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",c=l):"string"==typeof l?(h["Content-Type"]="text/plain",c=l):"undefined"!=typeof FormData&&l instanceof FormData?c=l:(h["Content-Type"]="application/json",c=JSON.stringify(l)));const d=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),n),body:c}).catch((t=>{throw new i(t)})),p=d.headers.get("x-relay-error");if(p&&"true"===p)throw new a(d);if(!d.ok)throw new o(d);let f,m=(null!==(r=d.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return f="application/json"===m?yield d.json():"application/octet-stream"===m?yield d.blob():"multipart/form-data"===m?yield d.formData():yield d.text(),{data:f,error:null}}catch(t){return{data:null,error:t}}}))}}var u=r(4354);class d extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}class p{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:"undefined"==typeof fetch?this.fetch=u.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,e){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async t=>{var e,r,n;let s=null,i=null,a=null,o=t.status,l=t.statusText;if(t.ok){if("HEAD"!==this.method){const e=await t.text();""===e||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?e:JSON.parse(e))}const n=null===(e=this.headers.Prefer)||void 0===e?void 0:e.match(/count=(exact|planned|estimated)/),c=null===(r=t.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&c&&c.length>1&&(a=parseInt(c[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(s={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,a=null,o=406,l="Not Acceptable"):i=1===i.length?i[0]:null)}else{const e=await t.text();try{s=JSON.parse(e),Array.isArray(s)&&404===t.status&&(i=[],s=null,o=200,l="OK")}catch(r){404===t.status&&""===e?(o=204,l="No Content"):s={message:e}}if(s&&this.isMaybeSingle&&(null===(n=null==s?void 0:s.details)||void 0===n?void 0:n.includes("0 rows"))&&(s=null,o=200,l="OK"),s&&this.shouldThrowOnError)throw new d(s)}return{error:s,data:i,count:a,status:o,statusText:l}}));return this.shouldThrowOnError||(r=r.catch((t=>{var e,r,n;return{error:{message:`${null!==(e=null==t?void 0:t.name)&&void 0!==e?e:"FetchError"}: ${null==t?void 0:t.message}`,details:`${null!==(r=null==t?void 0:t.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(n=null==t?void 0:t.code)&&void 0!==n?n:""}`},data:null,count:null,status:0,statusText:""}}))),r.then(t,e)}}class f extends p{select(t){let e=!1;const r=(null!=t?t:"*").split("").map((t=>/\s/.test(t)&&!e?"":('"'===t&&(e=!e),t))).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=void 0===n?"offset":`${n}.offset`,i=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,""+(e-t+1)),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!==(a=this.headers.Accept)&&void 0!==a?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`,this}rollback(){var t;return(null!==(t=this.headers.Prefer)&&void 0!==t?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class m extends f{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){const r=e.map((t=>"string"==typeof t&&new RegExp("[,()]").test(t)?`"${t}"`:`${t}`)).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return"string"==typeof e?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return"string"==typeof e?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return"string"==typeof e?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";"plain"===n?s="pl":"phrase"===n?s="ph":"websearch"===n&&(s="w");const i=void 0===r?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach((([t,e])=>{this.url.searchParams.append(t,`eq.${e}`)})),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}}class g{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=e,this.schema=r,this.fetch=n}select(t,{head:e=!1,count:r}={}){const n=e?"HEAD":"GET";let s=!1;const i=(null!=t?t:"*").split("").map((t=>/\s/.test(t)&&!s?"":('"'===t&&(s=!s),t))).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new m({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){const n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),e&&n.push(`count=${e}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(t)){const e=t.reduce(((t,e)=>t.concat(Object.keys(e))),[]);if(e.length>0){const t=[...new Set(e)].map((t=>`"${t}"`));this.url.searchParams.set("columns",t.join(","))}}return new m({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){const i=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==e&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const e=t.reduce(((t,e)=>t.concat(Object.keys(e))),[]);if(e.length>0){const t=[...new Set(e)].map((t=>`"${t}"`));this.url.searchParams.set("columns",t.join(","))}}return new m({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),e&&r.push(`count=${e}`),this.headers.Prefer=r.join(","),new m({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new m({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const y={"X-Client-Info":"postgrest-js/1.9.2"};class b{constructor(t,{headers:e={},schema:r,fetch:n}={}){this.url=t,this.headers=Object.assign(Object.assign({},y),e),this.schemaName=r,this.fetch=n}from(t){const e=new URL(`${this.url}/${t}`);return new g(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new b(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,count:n}={}){let s;const i=new URL(`${this.url}/rpc/${t}`);let a;r?(s="HEAD",Object.entries(e).forEach((([t,e])=>{i.searchParams.append(t,`${e}`)}))):(s="POST",a=e);const o=Object.assign({},this.headers);return n&&(o.Prefer=`count=${n}`),new m({method:s,url:i,headers:o,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}const v={"X-Client-Info":"realtime-js/2.9.3"};var w,E,x,k,A,P,_;!function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"}(w||(w={})),function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"}(E||(E={})),function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"}(x||(x={})),function(t){t.websocket="websocket"}(k||(k={})),function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"}(A||(A={}));class S{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}class C{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e("string"==typeof t?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,e,r)}_decodeBroadcast(t,e,r){const n=e.getUint8(1),s=e.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(t.slice(i,i+n));i+=n;const o=r.decode(t.slice(i,i+s));i+=s;return{ref:null,topic:a,event:o,payload:JSON.parse(r.decode(t.slice(i,t.byteLength)))}}}class T{constructor(t,e,r={},n=1e4){this.channel=t,this.event=e,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter((e=>e.status===t)).forEach((t=>t.callback(e)))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}!function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"}(P||(P={}));class I{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==e?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},(t=>{const{onJoin:e,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=I.syncState(this.state,t,e,r),this.pendingDiffs.forEach((t=>{this.state=I.syncDiff(this.state,t,e,r)})),this.pendingDiffs=[],n()})),this.channel._on(r.diff,{},(t=>{const{onJoin:e,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(t):(this.state=I.syncDiff(this.state,t,e,r),n())})),this.onJoin(((t,e,r)=>{this.channel._trigger("presence",{event:"join",key:t,currentPresences:e,newPresences:r})})),this.onLeave(((t,e,r)=>{this.channel._trigger("presence",{event:"leave",key:t,currentPresences:e,leftPresences:r})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(t,e,r,n){const s=this.cloneDeep(t),i=this.transformState(e),a={},o={};return this.map(s,((t,e)=>{i[t]||(o[t]=e)})),this.map(i,((t,e)=>{const r=s[t];if(r){const n=e.map((t=>t.presence_ref)),s=r.map((t=>t.presence_ref)),i=e.filter((t=>s.indexOf(t.presence_ref)<0)),l=r.filter((t=>n.indexOf(t.presence_ref)<0));i.length>0&&(a[t]=i),l.length>0&&(o[t]=l)}else a[t]=e})),this.syncDiff(s,{joins:a,leaves:o},r,n)}static syncDiff(t,e,r,n){const{joins:s,leaves:i}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(s,((e,n)=>{var s;const i=null!==(s=t[e])&&void 0!==s?s:[];if(t[e]=this.cloneDeep(n),i.length>0){const r=t[e].map((t=>t.presence_ref)),n=i.filter((t=>r.indexOf(t.presence_ref)<0));t[e].unshift(...n)}r(e,i,n)})),this.map(i,((e,r)=>{let s=t[e];if(!s)return;const i=r.map((t=>t.presence_ref));s=s.filter((t=>i.indexOf(t.presence_ref)<0)),t[e]=s,n(e,s,r),0===s.length&&delete t[e]})),t}static map(t,e){return Object.getOwnPropertyNames(t).map((r=>e(r,t[r])))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce(((e,r)=>{const n=t[r];return e[r]="metas"in n?n.metas.map((t=>(t.presence_ref=t.phx_ref,delete t.phx_ref,delete t.phx_ref_prev,t))):n,e}),{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"}(_||(_={}));const M=(t,e,r={})=>{var n;const s=null!==(n=r.skipTypes)&&void 0!==n?n:[];return Object.keys(e).reduce(((r,n)=>(r[n]=O(n,t,e,s),r)),{})},O=(t,e,r,n)=>{const s=e.find((e=>e.name===t)),i=null==s?void 0:s.type,a=r[t];return i&&!n.includes(i)?D(i,a):F(a)},D=(t,e)=>{if("_"===t.charAt(0)){const r=t.slice(1,t.length);return L(e,r)}switch(t){case _.bool:return N(e);case _.float4:case _.float8:case _.int2:case _.int4:case _.int8:case _.numeric:case _.oid:return R(e);case _.json:case _.jsonb:return B(e);case _.timestamp:return j(e);case _.abstime:case _.date:case _.daterange:case _.int4range:case _.int8range:case _.money:case _.reltime:case _.text:case _.time:case _.timestamptz:case _.timetz:case _.tsrange:case _.tstzrange:default:return F(e)}},F=t=>t,N=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},R=t=>{if("string"==typeof t){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},B=t=>{if("string"==typeof t)try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},L=(t,e)=>{if("string"!=typeof t)return t;const r=t.length-1,n=t[r];if("{"===t[0]&&"}"===n){let n;const s=t.slice(1,r);try{n=JSON.parse("["+s+"]")}catch(t){n=s?s.split(","):[]}return n.map((t=>D(e,t)))}return t},j=t=>"string"==typeof t?t.replace(" ","T"):t;var U,G,V;!function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"}(U||(U={})),function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"}(G||(G={})),function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"}(V||(V={}));class z{constructor(t,e={config:{}},r){this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=E.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},e.config),this.timeout=this.socket.timeout,this.joinPush=new T(this,x.join,this.params,this.timeout),this.rejoinTimer=new S((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=E.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((t=>t.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=E.closed,this.socket._remove(this)})),this._onError((t=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,t),this.state=E.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=E.errored,this.rejoinTimer.scheduleTimeout())})),this._on(x.reply,{},((t,e)=>{this._trigger(this._replyEventName(e),t)})),this.presence=new I(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(t,e=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:i}}=this.params;this._onError((e=>t&&t("CHANNEL_ERROR",e))),this._onClose((()=>t&&t("CLOSED")));const a={},o={broadcast:s,presence:i,postgres_changes:null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map((t=>t.filter)))&&void 0!==n?n:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:o},a)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",(({postgres_changes:e})=>{var r;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==e){const n=this.bindings.postgres_changes,s=null!==(r=null==n?void 0:n.length)&&void 0!==r?r:0,i=[];for(let r=0;r<s;r++){const s=n[r],{filter:{event:a,schema:o,table:l,filter:c}}=s,h=e&&e[r];if(!h||h.event!==a||h.schema!==o||h.table!==l||h.filter!==c)return this.unsubscribe(),void(t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},s),{id:h.id}))}return this.bindings.postgres_changes=i,void(t&&t("SUBSCRIBED"))}t&&t("SUBSCRIBED")})).receive("error",(e=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(e).join(", ")||"error")))})).receive("timeout",(()=>{t&&t("TIMED_OUT")}))}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,r){return this._on(t,e,r)}async send(t,e={}){var r,n;if(this._canPush()||"broadcast"!==t.type)return new Promise((r=>{var n,s,i;const a=this._push(t.type,t,e.timeout||this.timeout);"broadcast"!==t.type||(null===(i=null===(s=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===s?void 0:s.broadcast)||void 0===i?void 0:i.ack)||r("ok"),a.receive("ok",(()=>r("ok"))),a.receive("timeout",(()=>r("timed out")))}));{const{event:s,payload:i}=t,a={method:"POST",headers:{apikey:null!==(r=this.socket.apiKey)&&void 0!==r?r:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(n=e.timeout)&&void 0!==n?n:this.timeout)).ok?"ok":"error"}catch(t){return"AbortError"===t.name?"timed out":"error"}}}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=E.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(x.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((r=>{const n=new T(this,x.leave,{},t);n.receive("ok",(()=>{e(),r("ok")})).receive("timeout",(()=>{e(),r("timed out")})).receive("error",(()=>{r("error")})),n.send(),this._canPush()||n.trigger("ok",{})}))}_broadcastEndpointURL(){let t=this.socket.endPoint;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(t,e,r){const n=new AbortController,s=setTimeout((()=>n.abort()),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:n.signal}));return clearTimeout(s),i}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new T(this,t,e,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var n,s;const i=t.toLocaleLowerCase(),{close:a,error:o,leave:l,join:c}=x;if(r&&[a,o,l,c].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,e,r);if(e&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter((t=>{var e,r,n;return"*"===(null===(e=t.filter)||void 0===e?void 0:e.event)||(null===(n=null===(r=t.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===i})).map((t=>t.callback(h,r))):null===(s=this.bindings[i])||void 0===s||s.filter((t=>{var r,n,s,a,o,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in t){const i=t.id,a=null===(r=t.filter)||void 0===r?void 0:r.event;return i&&(null===(n=e.ids)||void 0===n?void 0:n.includes(i))&&("*"===a||(null==a?void 0:a.toLocaleLowerCase())===(null===(s=e.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const r=null===(o=null===(a=null==t?void 0:t.filter)||void 0===a?void 0:a.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===r||r===(null===(l=null==e?void 0:e.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return t.type.toLocaleLowerCase()===i})).map((t=>{if("object"==typeof h&&"ids"in h){const t=h.data,{schema:e,table:r,commit_timestamp:n,type:s,errors:i}=t,a={schema:e,table:r,commit_timestamp:n,eventType:s,new:{},old:{},errors:i};h=Object.assign(Object.assign({},a),this._getPayloadRecords(t))}t.callback(h,r)}))}_isClosed(){return this.state===E.closed}_isJoined(){return this.state===E.joined}_isJoining(){return this.state===E.joining}_isLeaving(){return this.state===E.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){const n=t.toLocaleLowerCase(),s={type:n,filter:e,callback:r};return this.bindings[n]?this.bindings[n].push(s):this.bindings[n]=[s],this}_off(t,e){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter((t=>{var n;return!((null===(n=t.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&z.isEqual(t.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(x.close,{},t)}_onError(t){this._on(x.error,{},(e=>t(e)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=E.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return"INSERT"!==t.type&&"UPDATE"!==t.type||(e.new=M(t.columns,t.record)),"UPDATE"!==t.type&&"DELETE"!==t.type||(e.old=M(t.columns,t.old_record)),e}}const $=()=>{},H="undefined"!=typeof WebSocket;class q{constructor(t,e){var n;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=v,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=$,this.conn=null,this.sendBuffer=[],this.serializer=new C,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>Promise.resolve().then(r.bind(r,4354)).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)},this.endPoint=`${t}/${k.websocket}`,(null==e?void 0:e.transport)?this.transport=e.transport:this.transport=null,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),(null==e?void 0:e.timeout)&&(this.timeout=e.timeout),(null==e?void 0:e.logger)&&(this.logger=e.logger),(null==e?void 0:e.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);const s=null===(n=null==e?void 0:e.params)||void 0===n?void 0:n.apikey;s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=(null==e?void 0:e.reconnectAfterMs)?e.reconnectAfterMs:t=>[1e3,2e3,5e3,1e4][t-1]||1e4,this.encode=(null==e?void 0:e.encode)?e.encode:(t,e)=>e(JSON.stringify(t)),this.decode=(null==e?void 0:e.decode)?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new S((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null==e?void 0:e.fetch)}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});else{if(H)return this.conn=new WebSocket(this._endPointURL()),void this.setupConnection();this.conn=new W(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),r.e(228).then(r.t.bind(r,5228,23)).then((({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,null!=e?e:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return 0===this.channels.length&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map((t=>t.unsubscribe())));return this.disconnect(),t}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case w.connecting:return A.Connecting;case w.open:return A.Open;case w.closing:return A.Closing;default:return A.Closed}}isConnected(){return this.connectionState()===A.Open}channel(t,e={config:{}}){const r=new z(`realtime:${t}`,e,this);return this.channels.push(r),r}push(t){const{topic:e,event:r,payload:n,ref:s}=t,i=()=>{this.encode(t,(t=>{var e;null===(e=this.conn)||void 0===e||e.send(t)}))};this.log("push",`${e} ${r} (${s})`,n),this.isConnected()?i():this.sendBuffer.push(i)}setAuth(t){this.accessToken=t,this.channels.forEach((e=>{t&&e.updateJoinPayload({access_token:t}),e.joinedOnce&&e._isJoined()&&e._push(x.access_token,{access_token:t})}))}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find((e=>e.topic===t&&(e._isJoined()||e._isJoining())));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter((e=>e._joinRef()!==t._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(t){this.decode(t.data,(t=>{let{topic:e,event:r,payload:n,ref:s}=t;(s&&s===this.pendingHeartbeatRef||r===(null==n?void 0:n.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${e} ${r} ${s&&"("+s+")"||""}`,n),this.channels.filter((t=>t._isMember(e))).forEach((t=>t._trigger(r,n,s))),this.stateChangeCallbacks.message.forEach((e=>e(t)))}))}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this._sendHeartbeat()),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach((t=>t()))}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((e=>e(t)))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((e=>e(t)))}_triggerChanError(){this.channels.forEach((t=>t._trigger(x.error)))}_appendParams(t,e){if(0===Object.keys(e).length)return t;const r=t.match(/\?/)?"&":"?";return`${t}${r}${new URLSearchParams(e)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((t=>t())),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(t=this.conn)||void 0===t||t.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class W{constructor(t,e,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=w.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class K extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function J(t){return"object"==typeof t&&null!==t&&"__isStorageError"in t}class Q extends K{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Y extends K{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}var Z=function(t,e,r,n){return new(r||(r=Promise))((function(s,i){function a(t){try{l(n.next(t))}catch(t){i(t)}}function o(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}l((n=n.apply(t,e||[])).next())}))};const X=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>Promise.resolve().then(r.bind(r,4354)).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)};var tt=function(t,e,r,n){return new(r||(r=Promise))((function(s,i){function a(t){try{l(n.next(t))}catch(t){i(t)}}function o(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}l((n=n.apply(t,e||[])).next())}))};const et=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),rt=(t,e)=>tt(void 0,void 0,void 0,(function*(){const n=yield Z(void 0,void 0,void 0,(function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(r.bind(r,4354))).Response:Response}));t instanceof n?t.json().then((r=>{e(new Q(et(r),t.status||500))})).catch((t=>{e(new Y(et(t),t))})):e(new Y(et(t),t))})),nt=(t,e,r,n)=>{const s={method:t,headers:(null==e?void 0:e.headers)||{}};return"GET"===t?s:(s.headers=Object.assign({"Content-Type":"application/json"},null==e?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};function st(t,e,r,n,s,i){return tt(this,void 0,void 0,(function*(){return new Promise(((a,o)=>{t(r,nt(e,n,s,i)).then((t=>{if(!t.ok)throw t;return(null==n?void 0:n.noResolveJson)?t:t.json()})).then((t=>a(t))).catch((t=>rt(t,o)))}))}))}function it(t,e,r,n){return tt(this,void 0,void 0,(function*(){return st(t,"GET",e,r,n)}))}function at(t,e,r,n,s){return tt(this,void 0,void 0,(function*(){return st(t,"POST",e,n,s,r)}))}function ot(t,e,r,n,s){return tt(this,void 0,void 0,(function*(){return st(t,"DELETE",e,n,s,r)}))}var lt=function(t,e,r,n){return new(r||(r=Promise))((function(s,i){function a(t){try{l(n.next(t))}catch(t){i(t)}}function o(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}l((n=n.apply(t,e||[])).next())}))};const ct={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ht={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ut{constructor(t,e={},r,n){this.url=t,this.headers=e,this.bucketId=r,this.fetch=X(n)}uploadOrUpdate(t,e,r,n){return lt(this,void 0,void 0,(function*(){try{let s;const i=Object.assign(Object.assign({},ht),n),a=Object.assign(Object.assign({},this.headers),"POST"===t&&{"x-upsert":String(i.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),s.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(s=r,s.append("cacheControl",i.cacheControl)):(s=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType);const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),c=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:t,body:s,headers:a},(null==i?void 0:i.duplex)?{duplex:i.duplex}:{})),h=yield c.json();if(c.ok)return{data:{path:o,id:h.Id,fullPath:h.Key},error:null};return{data:null,error:h}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}upload(t,e,r){return lt(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",t,e,r)}))}uploadToSignedUrl(t,e,r,n){return lt(this,void 0,void 0,(function*(){const s=this._removeEmptyFolders(t),i=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",e);try{let t;const e=Object.assign({upsert:ht.upsert},n),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(e.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(t=new FormData,t.append("cacheControl",e.cacheControl),t.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(t=r,t.append("cacheControl",e.cacheControl)):(t=r,i["cache-control"]=`max-age=${e.cacheControl}`,i["content-type"]=e.contentType);const o=yield this.fetch(a.toString(),{method:"PUT",body:t,headers:i}),l=yield o.json();if(o.ok)return{data:{path:s,fullPath:l.Key},error:null};return{data:null,error:l}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}createSignedUploadUrl(t){return lt(this,void 0,void 0,(function*(){try{let e=this._getFinalPath(t);const r=yield at(this.fetch,`${this.url}/object/upload/sign/${e}`,{},{headers:this.headers}),n=new URL(this.url+r.url),s=n.searchParams.get("token");if(!s)throw new K("No token returned by API");return{data:{signedUrl:n.toString(),path:t,token:s},error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}update(t,e,r){return lt(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",t,e,r)}))}move(t,e){return lt(this,void 0,void 0,(function*(){try{return{data:yield at(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e},{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}copy(t,e){return lt(this,void 0,void 0,(function*(){try{return{data:{path:(yield at(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e},{headers:this.headers})).Key},error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}createSignedUrl(t,e,r){return lt(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(t),s=yield at(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:e},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const i=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}createSignedUrls(t,e,r){return lt(this,void 0,void 0,(function*(){try{const n=yield at(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),s=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:n.map((t=>Object.assign(Object.assign({},t),{signedUrl:t.signedURL?encodeURI(`${this.url}${t.signedURL}${s}`):null}))),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}download(t,e){return lt(this,void 0,void 0,(function*(){const r=void 0!==(null==e?void 0:e.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null==e?void 0:e.transform)||{}),s=n?`?${n}`:"";try{const e=this._getFinalPath(t),n=yield it(this.fetch,`${this.url}/${r}/${e}${s}`,{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=(null==e?void 0:e.download)?`download=${!0===e.download?"":e.download}`:"";""!==s&&n.push(s);const i=void 0!==(null==e?void 0:e.transform)?"render/image":"object",a=this.transformOptsToQueryString((null==e?void 0:e.transform)||{});""!==a&&n.push(a);let o=n.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}remove(t){return lt(this,void 0,void 0,(function*(){try{return{data:yield ot(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}list(t,e,r){return lt(this,void 0,void 0,(function*(){try{const n=Object.assign(Object.assign(Object.assign({},ct),e),{prefix:t||""});return{data:yield at(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const dt={"X-Client-Info":"storage-js/2.5.5"};var pt=function(t,e,r,n){return new(r||(r=Promise))((function(s,i){function a(t){try{l(n.next(t))}catch(t){i(t)}}function o(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}l((n=n.apply(t,e||[])).next())}))};class ft{constructor(t,e={},r){this.url=t,this.headers=Object.assign(Object.assign({},dt),e),this.fetch=X(r)}listBuckets(){return pt(this,void 0,void 0,(function*(){try{return{data:yield it(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}getBucket(t){return pt(this,void 0,void 0,(function*(){try{return{data:yield it(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}createBucket(t,e={public:!1}){return pt(this,void 0,void 0,(function*(){try{return{data:yield at(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}updateBucket(t,e){return pt(this,void 0,void 0,(function*(){try{const r=yield function(t,e,r,n,s){return tt(this,void 0,void 0,(function*(){return st(t,"PUT",e,n,s,r)}))}(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers});return{data:r,error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}emptyBucket(t){return pt(this,void 0,void 0,(function*(){try{return{data:yield at(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}deleteBucket(t){return pt(this,void 0,void 0,(function*(){try{return{data:yield ot(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}}class mt extends ft{constructor(t,e={},r){super(t,e,r)}from(t){return new ut(this.url,this.headers,t,this.fetch)}}let gt="";gt="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const yt={"X-Client-Info":`supabase-js-${gt}/2.39.3`};var bt=function(t,e,r,n){return new(r||(r=Promise))((function(s,i){function a(t){try{l(n.next(t))}catch(t){i(t)}}function o(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}l((n=n.apply(t,e||[])).next())}))};const vt=t=>{let e;return e=t||("undefined"==typeof fetch?u.default:fetch),(...t)=>e(...t)},wt=(t,e,r)=>{const n=vt(r),s="undefined"==typeof Headers?u.Headers:Headers;return(r,i)=>bt(void 0,void 0,void 0,(function*(){var a;const o=null!==(a=yield e())&&void 0!==a?a:t;let l=new s(null==i?void 0:i.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),n(r,Object.assign(Object.assign({},i),{headers:l}))}))};const Et=()=>"undefined"!=typeof document,xt={tested:!1,writable:!1},kt=()=>{if(!Et())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(xt.tested)return xt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xt.tested=!0,xt.writable=!0}catch(t){xt.tested=!0,xt.writable=!1}return xt.writable};function At(t){const e={},r=new URL(t);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach(((t,r)=>{e[r]=t}))}catch(t){}return r.searchParams.forEach(((t,r)=>{e[r]=t})),e}const Pt=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>Promise.resolve().then(r.bind(r,4354)).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)},_t=t=>"object"==typeof t&&null!==t&&"status"in t&&"ok"in t&&"json"in t&&"function"==typeof t.json,St=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ct=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch(t){return r}},Tt=async(t,e)=>{await t.removeItem(e)};class It{constructor(){this.promise=new It.promiseConstructor(((t,e)=>{this.resolve=t,this.reject=e}))}}function Mt(t){const e=t.split(".");if(3!==e.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=e[1];return JSON.parse(function(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r,n,s,i,a,o,l,c="",h=0;for(t=t.replace("-","+").replace("_","/");h<t.length;)i=e.indexOf(t.charAt(h++)),a=e.indexOf(t.charAt(h++)),o=e.indexOf(t.charAt(h++)),l=e.indexOf(t.charAt(h++)),r=i<<2|a>>4,n=(15&a)<<4|o>>2,s=(3&o)<<6|l,c+=String.fromCharCode(r),64!=o&&0!=n&&(c+=String.fromCharCode(n)),64!=l&&0!=s&&(c+=String.fromCharCode(s));return c}(r))}function Ot(t){return("0"+t.toString(16)).substr(-2)}function Dt(){const t=new Uint32Array(56);if("undefined"==typeof crypto){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",e=t.length;let r="";for(let n=0;n<56;n++)r+=t.charAt(Math.floor(Math.random()*e));return r}return crypto.getRandomValues(t),Array.from(t,Ot).join("")}async function Ft(t){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const e=await async function(t){const e=(new TextEncoder).encode(t),r=await crypto.subtle.digest("SHA-256",e),n=new Uint8Array(r);return Array.from(n).map((t=>String.fromCharCode(t))).join("")}(t);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}It.promiseConstructor=Promise;class Nt extends Error{constructor(t,e){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e}}function Rt(t){return"object"==typeof t&&null!==t&&"__isAuthError"in t}class Bt extends Nt{constructor(t,e){super(t,e),this.name="AuthApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Lt extends Nt{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class jt extends Nt{constructor(t,e,r){super(t),this.name=e,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ut extends jt{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Gt extends jt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class Vt extends jt{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class zt extends jt{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $t extends jt{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ht extends jt{constructor(t,e){super(t,"AuthRetryableFetchError",e)}}function qt(t){return Rt(t)&&"AuthRetryableFetchError"===t.name}class Wt extends jt{constructor(t,e,r){super(t,"AuthWeakPasswordError",e),this.reasons=r}}var Kt=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]])}return r};const Jt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qt=[502,503,504];async function Yt(t){if(!_t(t))throw new Ht(Jt(t),0);if(Qt.includes(t.status))throw new Ht(Jt(t),t.status);let e;try{e=await t.json()}catch(t){throw new Lt(Jt(t),t)}if("object"==typeof e&&e&&"object"==typeof e.weak_password&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce(((t,e)=>t&&"string"==typeof e),!0))throw new Wt(Jt(e),t.status,e.weak_password.reasons);throw new Bt(Jt(e),t.status||500)}const Zt=(t,e,r,n)=>{const s={method:t,headers:(null==e?void 0:e.headers)||{}};return"GET"===t?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==e?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Xt(t,e,r,n){var s;const i=Object.assign({},null==n?void 0:n.headers);(null==n?void 0:n.jwt)&&(i.Authorization=`Bearer ${n.jwt}`);const a=null!==(s=null==n?void 0:n.query)&&void 0!==s?s:{};(null==n?void 0:n.redirectTo)&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await async function(t,e,r,n,s,i){const a=Zt(e,n,s,i);let o;try{o=await t(r,a)}catch(t){throw console.error(t),new Ht(Jt(t),0)}o.ok||await Yt(o);if(null==n?void 0:n.noResolveJson)return o;try{return await o.json()}catch(t){await Yt(t)}}(t,e,r+o,{headers:i,noResolveJson:null==n?void 0:n.noResolveJson},{},null==n?void 0:n.body);return(null==n?void 0:n.xform)?null==n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}function te(t){var e;let r=null;var n;(function(t){return t.access_token&&t.refresh_token&&t.expires_in})(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=(n=t.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(e=t.user)&&void 0!==e?e:t},error:null}}function ee(t){const e=te(t);return!e.error&&t.weak_password&&"object"==typeof t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&"string"==typeof t.weak_password.message&&t.weak_password.reasons.reduce(((t,e)=>t&&"string"==typeof e),!0)&&(e.data.weak_password=t.weak_password),e}function re(t){var e;return{data:{user:null!==(e=t.user)&&void 0!==e?e:t},error:null}}function ne(t){return{data:t,error:null}}function se(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=Kt(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},user:Object.assign({},a)},error:null}}function ie(t){return t}var ae=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]])}return r};class oe{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=Pt(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e="global"){try{return await Xt(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Rt(t))return{data:null,error:t};throw t}}async inviteUserByEmail(t,e={}){try{return await Xt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:re})}catch(t){if(Rt(t))return{data:{user:null},error:t};throw t}}async generateLink(t){try{const{options:e}=t,r=ae(t,["options"]),n=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(n.new_email=null==r?void 0:r.newEmail,delete n.newEmail),await Xt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:se,redirectTo:null==e?void 0:e.redirectTo})}catch(t){if(Rt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(t){try{return await Xt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:re})}catch(t){if(Rt(t))return{data:{user:null},error:t};throw t}}async listUsers(t){var e,r,n,s,i,a,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Xt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(e=null==t?void 0:t.page)||void 0===e?void 0:e.toString())&&void 0!==r?r:"",per_page:null!==(s=null===(n=null==t?void 0:t.perPage)||void 0===n?void 0:n.toString())&&void 0!==s?s:""},xform:ie});if(c.error)throw c.error;const h=await c.json(),u=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,d=null!==(o=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==o?o:[];return d.length>0&&(d.forEach((t=>{const e=parseInt(t.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(t.split(";")[1].split("=")[1]);l[`${r}Page`]=e})),l.total=parseInt(u)),{data:Object.assign(Object.assign({},h),l),error:null}}catch(t){if(Rt(t))return{data:{users:[]},error:t};throw t}}async getUserById(t){try{return await Xt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:re})}catch(t){if(Rt(t))return{data:{user:null},error:t};throw t}}async updateUserById(t,e){try{return await Xt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:re})}catch(t){if(Rt(t))return{data:{user:null},error:t};throw t}}async deleteUser(t,e=!1){try{return await Xt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:re})}catch(t){if(Rt(t))return{data:{user:null},error:t};throw t}}async _listFactors(t){try{const{data:e,error:r}=await Xt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:t=>({data:{factors:t},error:null})});return{data:e,error:r}}catch(t){if(Rt(t))return{data:null,error:t};throw t}}async _deleteFactor(t){try{return{data:await Xt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(t){if(Rt(t))return{data:null,error:t};throw t}}}const le="0.0.0",ce={"X-Client-Info":`gotrue-js/${le}`},he={getItem:t=>kt()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{kt()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{kt()&&globalThis.localStorage.removeItem(t)}};function ue(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const de=!!(globalThis&&kt()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class pe extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class fe extends pe{}async function me(t,e,r){de&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout((()=>{n.abort(),de&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)}),e),await globalThis.navigator.locks.request(t,0===e?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},(async n=>{if(!n){if(0===e)throw de&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new fe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(de)try{const t=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(t,null,"  "))}catch(t){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",t)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}de&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await r()}finally{de&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(t){"undefined"!=typeof self&&(self.globalThis=self)}}();const ge={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ce,flowType:"implicit",debug:!1},ye=3e4;async function be(t,e,r){return await r()}class ve{constructor(t){var e,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ve.nextInstanceID,ve.nextInstanceID+=1,this.instanceID>0&&Et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},ge),t);if(this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new oe({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Pt(n.fetch),this.lock=n.lock||be,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,n.lock?this.lock=n.lock:Et()&&(null===(e=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===e?void 0:e.locks)?this.lock=me:this.lock=be,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:kt()?this.storage=he:(this.memoryStorage={},this.storage=ue(this.memoryStorage)):(this.memoryStorage={},this.storage=ue(this.memoryStorage)),Et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(t){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",t)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",(async t=>{this._debug("received broadcast notification from other tab or client",t),await this._notifyAllSubscribers(t.data.event,t.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${le}) ${(new Date).toISOString()}`,...t),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){try{const t=!!Et()&&await this._isPKCEFlow();if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:e,error:r}=await this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),"Identity is already linked"===(null==r?void 0:r.message)||"Identity is already linked to another user"===(null==r?void 0:r.message)||await this._removeSession(),{error:r};const{session:n,redirectType:s}=e;return this._debug("#_initialize()","detected session in URL",n,"redirect type",s),await this._saveSession(n),setTimeout((async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Rt(t)?{error:t}:{error:new Lt("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(t){var e,r,n;try{let s;if(await this._removeSession(),"email"in t){const{email:r,password:n,options:i}=t;let a=null,o=null;if("pkce"===this.flowType){const t=Dt();await St(this.storage,`${this.storageKey}-code-verifier`,t),a=await Ft(t),o=t===a?"plain":"s256"}s=await Xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==i?void 0:i.emailRedirectTo,body:{email:r,password:n,data:null!==(e=null==i?void 0:i.data)&&void 0!==e?e:{},gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:o},xform:te})}else{if(!("phone"in t))throw new Vt("You must provide either an email or phone number and a password");{const{phone:e,password:i,options:a}=t;s=await Xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:e,password:i,data:null!==(r=null==a?void 0:a.data)&&void 0!==r?r:{},channel:null!==(n=null==a?void 0:a.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:te})}}const{data:i,error:a}=s;if(a||!i)return{data:{user:null,session:null},error:a};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(t){if(Rt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithPassword(t){try{let e;if(await this._removeSession(),"email"in t){const{email:r,password:n,options:s}=t;e=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:ee})}else{if(!("phone"in t))throw new Vt("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:s}=t;e=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:ee})}}const{data:r,error:n}=e;return n?{data:{user:null,session:null},error:n}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}):{data:{user:null,session:null},error:new Gt}}catch(t){if(Rt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(t){var e,r,n,s;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:null===(e=t.options)||void 0===e?void 0:e.redirectTo,scopes:null===(r=t.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=t.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(s=t.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(t)))}async _exchangeCodeForSession(t){const e=await Ct(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(null!=e?e:"").split("/"),{data:s,error:i}=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:te});return await Tt(this.storage,`${this.storageKey}-code-verifier`),i?{data:{user:null,session:null,redirectType:null},error:i}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:null!=n?n:null}),error:i}):{data:{user:null,session:null,redirectType:null},error:new Gt}}async signInWithIdToken(t){await this._removeSession();try{const{options:e,provider:r,token:n,access_token:s,nonce:i}=t,a=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},xform:te}),{data:o,error:l}=a;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new Gt}}catch(t){if(Rt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(t){var e,r,n,s,i;try{if(await this._removeSession(),"email"in t){const{email:n,options:s}=t;let i=null,a=null;if("pkce"===this.flowType){const t=Dt();await St(this.storage,`${this.storageKey}-code-verifier`,t),i=await Ft(t),a=t===i?"plain":"s256"}const{error:o}=await Xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!==(e=null==s?void 0:s.data)&&void 0!==e?e:{},create_user:null===(r=null==s?void 0:s.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:a},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in t){const{phone:e,options:r}=t,{data:a,error:o}=await Xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:e,data:null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(s=null==r?void 0:r.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(i=null==r?void 0:r.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:o}}throw new Vt("You must provide either an email or phone number.")}catch(t){if(Rt(t))return{data:{user:null,session:null},error:t};throw t}}async verifyOtp(t){var e,r;try{let n,s;"email_change"!==t.type&&"phone_change"!==t.type&&await this._removeSession(),"options"in t&&(n=null===(e=t.options)||void 0===e?void 0:e.redirectTo,s=null===(r=t.options)||void 0===r?void 0:r.captchaToken);const{data:i,error:a}=await Xt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:n,xform:te});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,l=i.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==t.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(t){if(Rt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithSSO(t){var e,r,n;try{await this._removeSession();let s=null,i=null;if("pkce"===this.flowType){const t=Dt();await St(this.storage,`${this.storageKey}-code-verifier`,t),s=await Ft(t),i=t===s?"plain":"s256"}return await Xt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(r=null===(e=t.options)||void 0===e?void 0:e.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null==t?void 0:t.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:ne})}catch(t){if(Rt(t))return{data:null,error:t};throw t}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async t=>{const{data:{session:e},error:r}=t;if(r)throw r;if(!e)throw new Ut;const{error:n}=await Xt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:n}}))}catch(t){if(Rt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{"email_change"!=t.type&&"phone_change"!=t.type&&await this._removeSession();const e=`${this.url}/resend`;if("email"in t){const{email:r,type:n,options:s}=t,{error:i}=await Xt(this.fetch,"POST",e,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in t){const{phone:r,type:n,options:s}=t,{data:i,error:a}=await Xt(this.fetch,"POST",e,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:a}}throw new Vt("You must provide either an email or phone number and a type")}catch(t){if(Rt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,this._acquireLock(-1,(async()=>this._useSession((async t=>t))))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const t=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await t,await e()))();return this.pendingInLock.push((async()=>{try{await r}catch(t){}})()),r}return await this.lock(`lock:${this.storageKey}`,t,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const t=e();for(this.pendingInLock.push((async()=>{try{await t}catch(t){}})()),await t;this.pendingInLock.length;){const t=[...this.pendingInLock];await Promise.all(t),this.pendingInLock.splice(0,t.length)}return await t}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let t=null;const e=await Ct(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),null!==e&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=!!t.expires_at&&t.expires_at<=Date.now()/1e3;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r)return{data:{session:t},error:null};const{session:n,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,this._acquireLock(-1,(async()=>await this._getUser())))}async _getUser(t){try{return t?await Xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:re}):await this._useSession((async t=>{var e,r;const{data:n,error:s}=t;if(s)throw s;return await Xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==r?r:void 0,xform:re})}))}catch(t){if(Rt(t))return{data:{user:null},error:t};throw t}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(t,e)))}async _updateUser(t,e={}){try{return await this._useSession((async r=>{const{data:n,error:s}=r;if(s)throw s;if(!n.session)throw new Ut;const i=n.session;let a=null,o=null;if("pkce"===this.flowType&&null!=t.email){const t=Dt();await St(this.storage,`${this.storageKey}-code-verifier`,t),a=await Ft(t),o=t===a?"plain":"s256"}const{data:l,error:c}=await Xt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==e?void 0:e.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:o}),jwt:i.access_token,xform:re});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}))}catch(t){if(Rt(t))return{data:{user:null},error:t};throw t}}_decodeJWT(t){return Mt(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(t)))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ut;const e=Date.now()/1e3;let r=e,n=!0,s=null;const i=Mt(t.access_token);if(i.exp&&(r=i.exp,n=r<=e),n){const{session:e,error:r}=await this._callRefreshToken(t.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!e)return{data:{user:null,session:null},error:null};s=e}else{const{data:n,error:i}=await this._getUser(t.access_token);if(i)throw i;s={access_token:t.access_token,refresh_token:t.refresh_token,user:n.user,token_type:"bearer",expires_in:r-e,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(Rt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(t)))}async _refreshSession(t){try{return await this._useSession((async e=>{var r;if(!t){const{data:n,error:s}=e;if(s)throw s;t=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null==t?void 0:t.refresh_token))throw new Ut;const{session:n,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(Rt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(t){try{if(!Et())throw new zt("No browser detected.");if("implicit"===this.flowType&&!this._isImplicitGrantFlow())throw new zt("Not a valid implicit grant flow url.");if("pkce"==this.flowType&&!t)throw new $t("Not a valid PKCE flow url.");const e=At(window.location.href);if(t){if(!e.code)throw new $t("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}if(e.error||e.error_description||e.error_code)throw new zt(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:n,access_token:s,refresh_token:i,expires_in:a,expires_at:o,token_type:l}=e;if(!(s&&a&&i&&l))throw new zt("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let u=c+h;o&&(u=parseInt(o));const d=u-c;1e3*d<=ye&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${h}s`);const p=u-h;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,u,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",p,u,c);const{data:f,error:m}=await this._getUser(s);if(m)throw m;const g={provider_token:r,provider_refresh_token:n,access_token:s,expires_in:h,expires_at:u,refresh_token:i,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(t){if(Rt(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const t=At(window.location.href);return!(!Et()||!t.access_token&&!t.error_description)}async _isPKCEFlow(){const t=At(window.location.href),e=await Ct(this.storage,`${this.storageKey}-code-verifier`);return!(!t.code||!e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(t)))}async _signOut({scope:t}={scope:"global"}){return await this._useSession((async e=>{var r;const{data:n,error:s}=e;if(s)return{error:s};const i=null===(r=n.session)||void 0===r?void 0:r.access_token;if(i){const{error:e}=await this.admin.signOut(i,t);if(e&&(!function(t){return Rt(t)&&"AuthApiError"===t.name}(e)||404!==e.status&&401!==e.status))return{error:e}}return"others"!==t&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))}onAuthStateChange(t){const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})),r={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(e)}))})(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession((async e=>{var r,n;try{const{data:{session:n},error:s}=e;if(s)throw s;await(null===(r=this.stateChangeEmitters.get(t))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",t,"session",n)}catch(e){await(null===(n=this.stateChangeEmitters.get(t))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",e),console.error(e)}}))}async resetPasswordForEmail(t,e={}){let r=null,n=null;if("pkce"===this.flowType){const t=Dt();await St(this.storage,`${this.storageKey}-code-verifier`,`${t}/PASSWORD_RECOVERY`),r=await Ft(t),n=t===r?"plain":"s256"}try{return await Xt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(t){if(Rt(t))return{data:null,error:t};throw t}}async getUserIdentities(){var t;try{const{data:e,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(t=e.user.identities)&&void 0!==t?t:[]},error:null}}catch(t){if(Rt(t))return{data:null,error:t};throw t}}async linkIdentity(t){var e;try{const{data:r,error:n}=await this._useSession((async e=>{var r,n,s,i,a;const{data:o,error:l}=e;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:null===(r=t.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=t.options)||void 0===n?void 0:n.scopes,queryParams:null===(s=t.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await Xt(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(a=null===(i=o.session)||void 0===i?void 0:i.access_token)&&void 0!==a?a:void 0})}));if(n)throw n;return Et()&&!(null===(e=t.options)||void 0===e?void 0:e.skipBrowserRedirect)&&window.location.assign(null==r?void 0:r.url),{data:{provider:t.provider,url:null==r?void 0:r.url},error:null}}catch(e){if(Rt(e))return{data:{provider:t.provider,url:null},error:e};throw e}}async unlinkIdentity(t){try{return await this._useSession((async e=>{var r,n;const{data:s,error:i}=e;if(i)throw i;return await Xt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:null!==(n=null===(r=s.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})}))}catch(t){if(Rt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const s=Date.now();return await(r=async r=>(await async function(t){return await new Promise((e=>{setTimeout((()=>e(null)),t)}))}(200*r),this._debug(e,"refreshing attempt",r),await Xt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:te})),n=(t,e,r)=>r&&r.error&&qt(r.error)&&Date.now()+200*(t+1)-s<ye,new Promise(((t,e)=>{(async()=>{for(let s=0;s<1/0;s++)try{const e=await r(s);if(!n(s,null,e))return void t(e)}catch(t){if(!n(s,t))return void e(t)}})()})))}catch(t){if(this._debug(e,"error",t),Rt(t))return{data:{session:null,user:null},error:t};throw t}finally{this._debug(e,"end")}var r,n}_isValidSession(t){return"object"==typeof t&&null!==t&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",r),Et()&&!e.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const e="#_recoverAndRefresh()";this._debug(e,"begin");try{const r=await Ct(this.storage,this.storageKey);if(this._debug(e,"session from storage",r),!this._isValidSession(r))return this._debug(e,"session is not valid"),void(null!==r&&await this._removeSession());const n=Math.round(Date.now()/1e3),s=(null!==(t=r.expires_at)&&void 0!==t?t:1/0)<n+10;if(this._debug(e,`session has${s?"":" not"} expired with margin of 10s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:t}=await this._callRefreshToken(r.refresh_token);t&&(console.error(t),qt(t)||(this._debug(e,"refresh failed with a non-retryable error, removing the session",t),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(t){return this._debug(e,"error",t),void console.error(t)}finally{this._debug(e,"end")}}async _callRefreshToken(t){var e,r;if(!t)throw new Ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new It;const{data:e,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!e.session)throw new Ut;await this._saveSession(e.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",e.session);const n={session:e.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(t){if(this._debug(n,"error",t),Rt(t)){const r={session:null,error:t};return qt(t)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),null===(e=this.refreshingDeferred)||void 0===e||e.resolve(r),r}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(t),t}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,e,r=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",e,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:e});const n=[],s=Array.from(this.stateChangeEmitters.values()).map((async r=>{try{await r.callback(t,e)}catch(t){n.push(t)}}));if(await Promise.all(s),n.length>0){for(let t=0;t<n.length;t+=1)console.error(n[t]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),await St(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Tt(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Et()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval((()=>this._autoRefreshTokenTick()),ye);this.autoRefreshTicker=t,t&&"object"==typeof t&&"function"==typeof t.unref?t.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(t),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-t)/ye);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),n<=3&&await this._callRefreshToken(r.refresh_token)}))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(!(t.isAcquireTimeout||t instanceof pe))throw t;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Et()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,r){const n=[`provider=${encodeURIComponent(e)}`];if((null==r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const t=Dt();await St(this.storage,`${this.storageKey}-code-verifier`,t);const e=await Ft(t),r=t===e?"plain":"s256";this._debug("PKCE","code verifier",`${t.substring(0,5)}...`,"code challenge",e,"method",r);const s=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(r)}`});n.push(s.toString())}if(null==r?void 0:r.queryParams){const t=new URLSearchParams(r.queryParams);n.push(t.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession((async e=>{var r;const{data:n,error:s}=e;return s?{data:null,error:s}:await Xt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(Rt(t))return{data:null,error:t};throw t}}async _enroll(t){try{return await this._useSession((async e=>{var r,n;const{data:s,error:i}=e;if(i)return{data:null,error:i};const{data:a,error:o}=await Xt(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token});return o?{data:null,error:o}:((null===(n=null==a?void 0:a.totp)||void 0===n?void 0:n.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})}))}catch(t){if(Rt(t))return{data:null,error:t};throw t}}async _verify(t){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async e=>{var r;const{data:n,error:s}=e;if(s)return{data:null,error:s};const{data:i,error:a}=await Xt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})}))}catch(t){if(Rt(t))return{data:null,error:t};throw t}}))}async _challenge(t){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async e=>{var r;const{data:n,error:s}=e;return s?{data:null,error:s}:await Xt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(Rt(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(t){const{data:e,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){const{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};const r=(null==t?void 0:t.factors)||[],n=r.filter((t=>"totp"===t.factor_type&&"verified"===t.status));return{data:{all:r,totp:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async t=>{var e,r;const{data:{session:n},error:s}=t;if(s)return{data:null,error:s};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(n.access_token);let a=null;i.aal&&(a=i.aal);let o=a;(null!==(r=null===(e=n.user.factors)||void 0===e?void 0:e.filter((t=>"verified"===t.status)))&&void 0!==r?r:[]).length>0&&(o="aal2");return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:i.amr||[]},error:null}}))))}}ve.nextInstanceID=0;class we extends ve{constructor(t){super(t)}}var Ee=function(t,e,r,n){return new(r||(r=Promise))((function(s,i){function a(t){try{l(n.next(t))}catch(t){i(t)}}function o(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}l((n=n.apply(t,e||[])).next())}))};const xe={headers:yt},ke={schema:"public"},Ae={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Pe={};class _e{constructor(t,e,r){var n,s,i,a,o,l,c,h;if(this.supabaseUrl=t,this.supabaseKey=e,this.from=t=>this.rest.from(t),this.schema=t=>this.rest.schema(t),this.rpc=(t,e={},r)=>this.rest.rpc(t,e,r),!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");const u=t.replace(/\/$/,"");this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;const d=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p=function(t,e){const{db:r,auth:n,realtime:s,global:i}=t,{db:a,auth:o,realtime:l,global:c}=e;return{db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i)}}(null!=r?r:{},{db:ke,realtime:Pe,auth:Object.assign(Object.assign({},Ae),{storageKey:d}),global:xe});this.storageKey=null!==(s=null===(n=p.auth)||void 0===n?void 0:n.storageKey)&&void 0!==s?s:"",this.headers=null!==(a=null===(i=p.global)||void 0===i?void 0:i.headers)&&void 0!==a?a:{},this.auth=this._initSupabaseAuthClient(null!==(o=p.auth)&&void 0!==o?o:{},this.headers,null===(l=p.global)||void 0===l?void 0:l.fetch),this.fetch=wt(e,this._getAccessToken.bind(this),null===(c=p.global)||void 0===c?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},p.realtime)),this.rest=new b(`${u}/rest/v1`,{headers:this.headers,schema:null===(h=p.db)||void 0===h?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new h(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new mt(this.storageUrl,this.headers,this.fetch)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return Ee(this,void 0,void 0,(function*(){const{data:r}=yield this.auth.getSession();return null!==(e=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:null}))}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,storageKey:s,flowType:i,debug:a},o,l){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new we({url:this.authUrl,headers:Object.assign(Object.assign({},c),o),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,flowType:i,debug:a,fetch:l})}_initRealtimeClient(t){return new q(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},null==t?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((t,e)=>{this._handleTokenChanged(t,"CLIENT",null==e?void 0:e.access_token)}))}_handleTokenChanged(t,e,r){"TOKEN_REFRESHED"!==t&&"SIGNED_IN"!==t||this.changedAccessToken===r?"SIGNED_OUT"===t&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==e&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(null!=r?r:null),this.changedAccessToken=r)}}const Se=new class{pull(t,...e){const r=new Set(e);for(let e=t.length-1;e>=0;e--)r.has(t[e])&&t.splice(e,1)}insert(t,e,r){t.splice(e,0,r)}shuffle(t){let e=t.length;for(;0!==e;){const r=Math.floor(Math.random()*e);e-=1,[t[e],t[r]]=[t[r],t[e]]}return t}checkSame(t,e){if(t.length!==e.length)return!1;const r=new Set(e);for(const e of t)if(!r.has(e))return!1;return!0}};class Ce{static NEXT_ID=0;id=Ce.NEXT_ID++;allowedEvents=["delete"];eventMap={};delegateEvents=[];deleted=!1;addAllowedEvents(...t){this.allowedEvents.push(...t)}addEventHandler(t,e){if(!this.allowedEvents.includes(t))throw new Error(`EventContainer ${this.constructor.name} does not allow event ${t}`);void 0===this.eventMap[t]&&(this.eventMap[t]=[]),this.eventMap[t].push(e)}removeDelegateEvents(t){for(const[e,r]of Object.entries(t.events))for(const n of r)t.delegate.off(e,n);Se.pull(this.delegateEvents,t)}on(t,e){if(Array.isArray(t))for(const r of t)this.addEventHandler(r,e);else this.addEventHandler(t,e);return this}once(t,e){const r=(...n)=>{this.off(t,r),e(...n)};this.addEventHandler(t,r)}off(t,e){void 0!==this.eventMap?.[t]&&(Se.pull(this.eventMap[t],e),0===this.eventMap[t].length&&delete this.eventMap[t])}async fireEvent(t,...e){if(!this.allowedEvents.includes(t))throw new Error(`EventContainer ${this.constructor.name} does not allow event ${t}`);const r=[],n=[],s=this.eventMap[t];if(void 0!==s)for(const t of[...s])if(s.includes(t)){const s=t(...e);s instanceof Promise?n.push(s):r.push(s)}return r.concat(await Promise.all(n))}onDelegate(t,e,r){let n=this.delegateEvents.find((e=>e.delegate===t));void 0===n&&(n={delegate:t,events:{}},this.delegateEvents.push(n)),"string"==typeof e&&(e=[e]);for(const s of e)void 0===n.events[s]&&(n.events[s]=[]),n.events[s].push(r),t.on(s,r)}offDelegate(t){const e=this.delegateEvents.find((e=>e.delegate===t));void 0!==e&&this.removeDelegateEvents(e)}offAll(){this.eventMap={};for(const t of[...this.delegateEvents])this.removeDelegateEvents(t);this.delegateEvents=[]}delete(){for(const t of[...this.delegateEvents])this.removeDelegateEvents(t);this.delegateEvents=void 0,this.fireEvent("delete"),this.allowedEvents=void 0,this.eventMap=void 0,this.deleted=!0}}const Te=new class extends Ce{client;devMode=!1;connect(t,e,r){this.devMode=r,this.client=((t,e,r)=>new _e(t,e,r))(t,e,{auth:{autoRefreshToken:!0,persistSession:!0}})}async signIn(t){await this.client.auth.signInWithOAuth({provider:t,options:this.devMode?{redirectTo:"http://localhost:8413/"}:void 0})}async signOut(){const{error:t}=await this.client.auth.signOut();if(t)throw t}convertNullToUndefined(t){Object.keys(t).forEach((e=>{null===t[e]?t[e]=void 0:"object"==typeof t[e]&&null!==t[e]&&this.convertNullToUndefined(t[e])}))}safeResult(t){return Array.isArray(t)?t.forEach((t=>this.convertNullToUndefined(t))):this.convertNullToUndefined(t),t}async safeFetch(t,e){const{data:r,error:n}=await e(this.client.from(t));if(n)throw n;return this.safeResult(r)}};class Ie extends Ce{parent;children=[];append(...t){for(const e of t)void 0!==e&&e.appendTo(this);return this}appendTo(t,e){return this.parent===t&&void 0!==e&&this.parent.children.indexOf(this)<e&&(e-=1),this.removeFromParent(),void 0!==e&&e<t.children.length?t.children.splice(e,0,this):t.children.push(this),this.parent=t,this}removeFromParent(){void 0!==this.parent&&(Se.pull(this.parent.children,this),this.parent=void 0)}empty(){for(;this.children.length>0;)this.children[0].delete();return this}checkChild(t){const e=[...this.children];for(;e.length>0;){const r=e.pop();if(r===t)return!0;e.push(...r.children)}return!1}delete(){super.delete(),this.removeFromParent(),this.empty(),this.children=void 0}}class Me extends Ie{static NUMBER_STYLE_KEY=["zIndex","opacity","flexGrow","flexShrink","gridGap","order","zoom"];static keyframesCount=0;static createElement(t){let e;const r=t.indexOf("#");if(-1!==r){e=t.substring(r+1),t=t.substring(0,r);const n=e.indexOf(".");-1!==n&&(t+=e.substring(n),e=e.substring(0,n))}let n;const s=t.indexOf(".");-1!==s&&(n=t.substring(s+1).replace(/\./g," "),t=t.substring(0,s)),""===t&&(t="div");const i=document.createElement(t);return void 0!==e&&(i.id=e),void 0!==n&&(i.className=n),i}children=[];domEventMap={};windowEventMap={};domElement;constructor(t,...e){super(),this.addAllowedEvents("visible"),t instanceof HTMLElement?this.domElement=t:this.domElement=Me.createElement(t),this.append(...e)}style(t){for(const[e,r]of Object.entries(t))void 0===r?this.domElement.style[e]=null:"number"==typeof r&&!0!==Me.NUMBER_STYLE_KEY.includes(e)?this.domElement.style[e]=`${r}px`:this.domElement.style[e]=r;return this}get rect(){return this.domElement.getBoundingClientRect()}get innerScrollPosition(){let t=0,e=0;if(this.domElement!==document.body){let r=this.domElement.parentNode;for(;r!==document.body&&null!==r;)r instanceof HTMLElement&&(t+=r.scrollLeft,e+=r.scrollTop),r=r.parentNode}return{left:t,top:e}}onDom(t,e){void 0===this.domEventMap[t]&&(this.domEventMap[t]=[]);const r=t=>e(t,this);this.domEventMap[t].push({eventHandler:e,domEventHandler:r}),this.domElement.addEventListener(t,r)}onWindow(t,e){void 0===this.windowEventMap[t]&&(this.windowEventMap[t]=[]);const r=t=>e(t,this);this.windowEventMap[t].push({eventHandler:e,domEventHandler:r}),window.addEventListener(t,r)}offDom(t,e){const r=this.domEventMap[t];if(void 0!==r){const n=r.find((t=>t.eventHandler===e));void 0!==n&&(this.domElement.removeEventListener(t,n.domEventHandler),Se.pull(r,n),0===r.length&&delete this.domEventMap[t])}}fireDomEvent(t){this.domElement.dispatchEvent(new Event(t))}appendText(t){if("TEXTAREA"===this.domElement.tagName)this.domElement.append(t);else{const e=new DocumentFragment,r=t.split("\n");for(const[t,n]of r.entries())t>0&&e.append(document.createElement("br")),e.append(n);this.domElement.append(e)}return this}set text(t){this.empty().appendText(t)}append(...t){for(const e of t)if(void 0!==e)if("string"==typeof e)this.appendText(e);else if(e instanceof Me)e.appendTo(this);else for(const[t,r]of Object.entries(e))"function"==typeof r?this.onDom(t,r):"style"===t&&"object"==typeof r?this.style(r):void 0===r?this.domElement.removeAttribute(t):this.domElement.setAttribute(t,String(r));return this}prepend(...t){for(const e of t)if(void 0!==e)if("string"==typeof e)this.domElement.prepend(e);else if(e instanceof Me)e.appendTo(this,0);else for(const[t,r]of Object.entries(e))"function"==typeof r?this.onDom(t,r):"style"===t&&"object"==typeof r?this.style(r):void 0===r?this.domElement.removeAttribute(t):this.domElement.setAttribute(t,String(r));return this}checkVisible(){return void 0!==this.parent&&(this.parent.domElement===document.body||this.parent.checkVisible())}fireVisible(){this.fireEvent("visible");for(const t of this.children)t.fireVisible()}appendTo(t,e){void 0!==e&&e<t.children.length?t.domElement.insertBefore(this.domElement,t.children[e].domElement):t.domElement.append(this.domElement);const r=super.appendTo(t,e);return!0===this.checkVisible()&&this.fireVisible(),r}empty(){for(super.empty();this.domElement.firstChild;)this.domElement.removeChild(this.domElement.firstChild);return this}addClass(t){return this.domElement.classList.add(t),this}deleteClass(...t){return this.domElement.classList.remove(...t),this}hasClass(t){return this.domElement.classList.contains(t)}toggleClass(t){this.domElement.classList.toggle(t)}clone(){return new Me(this.domElement.cloneNode(!0))}delete(){this.domElement.remove(),this.domEventMap=void 0;for(const[t,e]of Object.entries(this.windowEventMap))for(const r of e)window.removeEventListener(t,r.domEventHandler);this.windowEventMap=void 0,super.delete(),this.domElement=void 0}animate({keyframes:t,duration:e=.5,timingFunction:r="ease",delay:n=0,iterationCount:s=1,direction:i="normal",onEnd:a=(()=>{})}){const o="__KEYFRAMES_"+Me.keyframesCount++;let l="",c={};for(const[e,r]of Object.entries(t)){l+=`${e}{`;for(let[t,e]of Object.entries(r))"number"!=typeof e||["zIndex","opacity"].includes(t)||(e+="px"),l+=`${t.replace(/([A-Z])/g,"-$1").toLowerCase()}:${e};`;l+="}","from"===e||"0%"===e?c={...c,...r}:"to"!==e&&"100%"!==e||(c={...c,...r})}const h=document.createElement("style");h.setAttribute("type","text/css"),h.appendChild(document.createTextNode(`@keyframes ${o}{${l}}`)),document.head.appendChild(h),c={...c,animation:`${o} ${e}s ${r} ${n}s ${s} ${i}`},this.style(c),1===s&&setTimeout((()=>{this.deleted||a(),h.remove()}),1e3*e)}}const Oe=new class extends Me{constructor(){super(document.body)}};const De=new class{paramRegex=/{(.+)}/;match(t,e,r){for(let n=0;n<t.length;n++){const s=e[n];if(void 0===s)return!1;let i=t[n];if("**"===s)return!0;const a=this.paramRegex.exec(s);if(!s.startsWith("{")){const t=s.indexOf("{");if(i.substring(0,t)!==s.substring(0,t))return!1;i=i.substring(t)}if(i&&a)r&&(r[a[1]]=i);else if("*"!==s&&s!==i)return!1;if(n===t.length-1&&n<e.length-1&&""!==e[e.length-1])return!1}return!0}parse(t,e,r){const n=t.split("/"),s=e.split("/");return this.match(n,s,r)}},Fe=t=>decodeURIComponent(t.endsWith("/")?t.slice(0,-1).substring(1):t.substring(1)),Ne=(t,e,r,n)=>e.some((e=>De.match(t,e.split("/"),n)))&&!r.some((e=>De.match(t,e.split("/"))));const Re=new class extends Ce{routes=[];redirects=[];openingViews=[];forwarding=!1;constructor(){super(),this.addAllowedEvents("go"),window.addEventListener("popstate",(t=>{if(!0===this.forwarding)this.forwarding=!1;else{const e=Oe.children.findLast((t=>t.hasClass("popup-background")));e?(this.forwarding=!0,window.history.forward(),e.delete()):this.check(t.state??void 0)}for(const t of Oe.children)t.hasClass("dropdown-menu")&&t.delete()}))}closeAllPopup(){for(const t of Oe.children)t.hasClass("popup-background")&&t.delete()}check(t,e){const r=Fe(location.pathname),n=r.split("/");let s=!1;const i=[];for(const{patterns:r,excludes:s,to:i}of this.redirects){const a=t?{...t}:{};if(Ne(n,r,s,a)){let t=i;for(const[e,r]of Object.entries(a))t=t.replace(new RegExp(`{${e}}`,"g"),r??"");return void this.goNoHistory(`/${t}`,a,e)}}for(const{patterns:a,excludes:o,viewType:l}of this.routes){const c=t?{...t}:{},h=this.openingViews.find((t=>t instanceof l));Ne(n,a,o,c)?void 0===h?(this.openingViews.push(new l(c,r,e)),s=!0):h.changeParams(c,r,e):void 0!==h&&(i.push(h),Se.pull(this.openingViews,h))}for(const t of i.reverse())t.close();!0===s&&this.fireEvent("go")}route(t,e,r=[]){"string"==typeof t&&(t=[t]),this.routes.push({patterns:t,excludes:r,viewType:e});const n=Fe(location.pathname),s=n.split("/"),i={};Ne(s,t,r,i)&&this.openingViews.push(new e(i,n))}redirect(t,e,r=[]){"string"==typeof t&&(t=[t]),this.redirects.push({patterns:t,excludes:r,to:e});const n=Fe(location.pathname).split("/"),s={};if(Ne(n,t,r,s)){let t=e;for(const[e,r]of Object.entries(s))t=t.replace(new RegExp(`{${e}}`,"g"),r??"");this.goNoHistory(`/${t}`)}}go(t,e,r){location.pathname!==t&&(history.pushState(void 0,"",t),this.check(e,r),window.scrollTo(0,0))}changeUri(t){history.replaceState(void 0,"",t)}goNoHistory(t,e,r){location.pathname!==t&&(history.replaceState(void 0,"",t),this.check(e,r),window.scrollTo(0,0))}waitAndGo(t,e,r){setTimeout((()=>this.go(t,e,r)))}refresh(){for(const t of this.openingViews.reverse())t.close();this.openingViews=[];const t=Fe(location.pathname),e=t.split("/");for(const{patterns:r,excludes:n,viewType:s}of this.routes){const i={};Ne(e,r,n,i)&&this.openingViews.push(new s(i,t))}}};const Be=new class{initialize(t,e,r){sessionStorage.__spa_path&&(Re.goNoHistory(sessionStorage.__spa_path),sessionStorage.removeItem("__spa_path")),Te.connect(t,e,r),Te.client.auth.onAuthStateChange((t=>{"SIGNED_IN"===t&&Te.client.functions.invoke("store-user-avatar")}))}},Le="1970-01-01T00:00:00.000Z",je="-infinity";new class{map=new Map;cache(t,e){this.map.set(t,e)}get(t){return this.map.get(t)}};class Ue extends Me{constructor(t,...e){super(t+".component"),this.append(...e)}}class Ge extends Ue{constructor(t){super(".splash-screen"),this.append(t).appendTo(Oe)}}const Ve=new class{async load(t,e){const r=new Ge(t);await Promise.all(e),r.delete()}};const ze=new class{parseWithUndefined(t){if(null!==t)return JSON.parse(t,((t,e)=>null===e?void 0:e))}};class $e{name;constructor(t){this.name=t}selectStorage(t){return t?localStorage:sessionStorage}getKey(t){return`${this.name}/${t}`}set(t,e,r=!1){this.selectStorage(!r).removeItem(this.getKey(t));const n=this.selectStorage(r);try{n.setItem(this.getKey(t),JSON.stringify(e))}catch(t){if(!(t instanceof DOMException)||22!==t.code&&1014!==t.code&&"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name)throw t;n.clear(),location.reload()}}get(t,e){let r=sessionStorage.getItem(this.getKey(t))||localStorage.getItem(this.getKey(t));return null===r?e:ze.parseWithUndefined(r)}getAll(){const t={};for(let e=0;e<sessionStorage.length;e++){const r=sessionStorage.key(e);r&&r.startsWith(this.name)&&(t[r.substring(this.name.length+1)]=ze.parseWithUndefined(sessionStorage.getItem(r)))}for(let e=0;e<localStorage.length;e++){const r=localStorage.key(e);r&&r.startsWith(this.name)&&(t[r.substring(this.name.length+1)]=ze.parseWithUndefined(localStorage.getItem(r)))}return t}checkPermanently(t){return null!==localStorage.getItem(this.getKey(t))}delete(t){sessionStorage.removeItem(this.getKey(t)),localStorage.removeItem(this.getKey(t))}clear(){for(let t=0;t<sessionStorage.length;t++){const e=sessionStorage.key(t);e&&e.startsWith(this.name)&&sessionStorage.removeItem(e)}for(let t=0;t<localStorage.length;t++){const e=localStorage.key(t);e&&e.startsWith(this.name)&&localStorage.removeItem(e)}}}const He=new class{store=new $e("__BROWSER_INFO_STORE");normalizeLanguage(t){return-1!==t.indexOf("-")&&"zh-TW"!==t&&"zh-HK"!==t&&(t=t.substring(0,t.indexOf("-"))),t}get language(){let t=this.store.get("lang")||navigator.language;return this.normalizeLanguage(t)}set language(t){this.store.set("lang",this.normalizeLanguage(t))}changeLanguage(t){if(!t)throw new Error("Invalid language code.");this.language=t,Re.refresh()}get isPhoneSize(){return window.innerWidth<=859}};const qe=(t,...e)=>new Me(Me.createElement(t),...e);const We=new class{baseIconTag="i";createContent=t=>t};class Ke extends Ue{constructor(t){super(We.baseIconTag),this.append(We.createContent(t))}}r(9406),r(5112);class Je extends Ue{constructor(){super(".list-loading-bar")}}class Qe extends Ue{constructor(){super(".loading-spinner")}}var Ye=r(2543);class Ze extends Ue{animation;constructor(t,e){super(t+".lottie-animation"),this.animation=Ye.loadAnimation({container:this.domElement,renderer:"svg",loop:!0,autoplay:!0,animationData:e})}delete(){this.animation.destroy(),super.delete()}}class Xe extends Ue{constructor(t){super("span.icon.material-icon.material-symbols-outlined"),this.text=t}}const tr=new class{launch(){We.baseIconTag="span.icon.material-icon.material-symbols-outlined",We.createContent=t=>"x"===t?"close":"error"===t?"error":"warning"===t?"warning":"attachment"===t?"attach_file":"image"===t?"image":"section-menu"===t?"more_vert":"comment"===t?"comment":"repeat"===t?"repeat":"like"===t?"favorite_border":t}};class er extends Ue{activated;constructor(t){super(".nav-bar"),this.append(t.logo?qe("h1.logo",qe("a",t.logo,{href:"/",click:t=>{t.preventDefault(),Re.go("/")}})):void 0,...t.menu.map((t=>qe(`a.menu.${t.id}`,t.icon,t.title,{href:t.uri,click:e=>{e.preventDefault(),Re.go(t.uri)}}))))}active(t){this.activated?.deleteClass("active"),this.activated=this.children.find((e=>e.hasClass(t)))?.addClass("active")}}class rr extends Me{constructor(t){super(".popup-background"),!0===t.barrierDismissible&&this.onDom("click",(t=>{t.target===this.domElement&&this.delete()})),Oe.append(this)}}class nr extends Ue{options;_icon;titleContainer;constructor(t){super("button"+(void 0!==t.type?"."+t.type:".contained")+(t.tag??"")),this.options=t,void 0!==t.icon&&this.append(this._icon=t.icon),void 0!==t.title&&this.append(this.titleContainer=qe("span.title",t.title)),void 0!==t.href&&this.onDom("click",(()=>{"_blank"===t.target?window.open(t.href):window.location.href=t.href})),!0===t.disabled&&this.disable(),void 0!==t.click&&this.onDom("click",(e=>{!0!==this.hasClass("disabled")&&t.click(e,this)}))}set type(t){this.deleteClass("contained","outlined","text"),this.addClass(t)}set title(t){void 0!==this.titleContainer?this.titleContainer.empty().append(t):this.append(this.titleContainer=qe("span.title",t))}set icon(t){this._icon?.delete(),this._icon=t.appendTo(this,0)}disable(){return this.domElement.setAttribute("disabled","disabled"),this.addClass("disabled"),this}enable(){return this.domElement.removeAttribute("disabled"),this.deleteClass("disabled"),this}set loading(t){t?(this.disable(),this.addClass("loading"),this.title=new Qe):(this.enable(),this.deleteClass("loading"),this.title=this.options.title??"")}}var sr;!function(t){t.Contained="contained",t.Text="text"}(sr||(sr={}));const ir=sr;const ar={};function or(){let t="",e="";return 2===He.language.length?t=He.language.toLowerCase():(t=He.language.substring(0,2).toLowerCase(),e=He.language.substring(3).toLowerCase()),{language:t,locale:e}}function lr(t,e){const r="string"==typeof t?ar[t]:t;if(void 0!==r){let t=r[He.language];if(void 0===t){const{language:e,locale:n}=or();t=r[e],"object"==typeof t&&(t=void 0!==t[n]?t[n]:t[Object.keys(t)[0]])}if(void 0===t){const n=r[e];t=void 0!==n?n:r[Object.keys(r)[0]]}return void 0!==t&&"object"==typeof t&&(t=t[Object.keys(t)[0]]),void 0===t?"":t}return console.error(`message "${t}" not exists.`),""}function cr(t,e={},r="en"){let n=lr(t,r);for(const[t,r]of Object.entries(e)){const e=new RegExp(`{${t}}`,"g");n=n.replace(e,String(r??""))}return n}cr.setMessages=async t=>{for(const[e,r]of Object.entries(t))if(r)for(const[t,n]of Object.entries(r))void 0===ar[t]&&(ar[t]={}),ar[t][e]=n},cr.setMessages({en:{"cancel-button":"Cancel","confirm-button":"Confirm","error-alert-title":"Error","getting-email-from-x-error-message":"Error getting user email from external provider. Please add an email in your X account settings and allow email access.\n"},ko:{"confirm-button":"확인"},es:{"confirm-button":"Confirmar"},fr:{"confirm-button":"Confirmer"},de:{"confirm-button":"Bestätigen"},it:{"confirm-button":"Conferma"},pt:{"confirm-button":"Confirmar"},ru:{"confirm-button":"Подтвердить"},zh:{"confirm-button":"确认"},"zh-tw":{"confirm-button":"確認"},"zh-hk":{"confirm-button":"確認"},ja:{"confirm-button":"確認"}}),cr.getMessages=t=>ar[t],cr.getLangMessages=(t,e="en")=>{const{language:r,locale:n}=or(),s="string"==typeof t?ar[t]:t;if(void 0!==s){let t=s[He.language];if(void 0===t&&(t=s[r],void 0!==t&&"object"==typeof t&&(t=void 0!==t[n]?t[n]:t[Object.keys(t)[0]])),void 0===t){const r=s[e];t=void 0!==r?r:s[Object.keys(s)[0]]}return void 0!==t&&"object"==typeof t&&(t=t[Object.keys(t)[0]]),{[r]:void 0===t?"":t}}return console.error(`message "${t}" not exists.`),{[r]:""}};const hr=cr;class ur extends rr{content;constructor(t){super({barrierDismissible:!0}),this.append(this.content=new Ue(".popup.error-alert",qe("header",qe("h1",new Ke("error"),t.title)),qe("main",qe("p",t.message)),qe("footer",new nr({type:ir.Text,tag:".confirm-button",title:t.confirmTitle??"OK",click:()=>this.delete()}))))}}class dr extends Ue{constructor(t,e){super(t.tag+".file-drop-area"),t.contenteditable&&(this.domElement.contentEditable="true",this.onDom("paste",(t=>{t.preventDefault();const e=t.clipboardData?.getData("text/plain");document.execCommand("insertText",!1,e)}))),this.onDom("dragenter",(t=>{t.preventDefault(),this.highlight()})),this.onDom("dragover",(t=>{t.preventDefault(),t.dataTransfer.dropEffect="copy",this.highlight()})),this.onDom("dragleave",(()=>this.unhighlight())),this.onDom("drop",(t=>{t.preventDefault(),e(Array.from(t.dataTransfer.files)),this.unhighlight()}))}highlight(){this.addClass("highlight")}unhighlight(){this.deleteClass("highlight")}}const pr=JSON.parse('{"nm":"Load Fae 2","ddd":0,"h":640,"w":640,"meta":{"g":"@lottiefiles/toolkit-js 0.33.2"},"layers":[{"ty":0,"nm":"Image Reverse","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[84,84,0],"ix":1},"s":{"a":0,"k":[202.381,202.381,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[320,320,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[10],"t":0},{"s":[45],"t":119}],"ix":11}},"ef":[],"w":168,"h":168,"refId":"comp_0","ind":1},{"ty":0,"nm":"Faded","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[84,84,0],"ix":1},"s":{"a":0,"k":[205,205,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[320,320,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":26,"ix":11}},"ef":[],"w":168,"h":168,"refId":"comp_1","ind":2},{"ty":4,"nm":"Shape Layer 1","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[-75.008,597.195,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Rectangle 1","ix":1,"cix":2,"np":3,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[506.453,927.828],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":1,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"c":{"a":0,"k":[1,1,1],"ix":3}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.2667,0.2667,0.2667],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[218.041,213.52],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[395.008,354.805],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3}],"v":"5.1.16","fr":60,"op":120,"ip":0,"assets":[{"nm":"","id":"comp_0","layers":[{"ty":3,"nm":"Ã¢ÂÂ½ Mountain","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[24,63,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"ind":1},{"ty":4,"nm":"Path 3","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[28.515,16.515,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[91.515,40.545,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[19.01,11.01],[7.99,0],[0,8.02]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":55},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":119},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":174},{"s":[100],"t":239}],"ix":1},"m":1}],"ind":2,"parent":1},{"ty":4,"nm":"Path 2","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[35.505,17.85,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[35.835,20.7,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":3,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[23.67,11.9],[12.88,0],[0,11.9]]},"ix":2}},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":55},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":119},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":174},{"s":[0],"t":239}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":0,"k":0,"ix":1},"m":1},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3,"parent":1},{"ty":3,"nm":"Ã¢ÂÂ½ Sun","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[105,54,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"ind":4},{"ty":4,"nm":"Sun","sr":1,"st":0,"op":120,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[9,9,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0,0,100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":29},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":44},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[100,100,100],"t":55},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":66},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":80},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0,0,100],"t":119},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":148},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":163},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[100,100,100],"t":174},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":185},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":199},{"s":[0,0,100],"t":239}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[9,9,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[720],"t":44},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[720],"t":66},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":119},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[720],"t":163},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[720],"t":185},{"s":[0],"t":239}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[-1.66,0],[0,-1.66],[1.66,0],[0,1.66]],"o":[[1.66,0],[0,1.66],[-1.66,0],[0,-1.66]],"v":[[3,0],[6,3],[3,6],[0,3]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[1],"t":0},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[99],"t":49},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[99],"t":61},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[1],"t":119},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[99],"t":168},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[99],"t":180},{"s":[1],"t":239}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":0,"k":0,"ix":1},"m":1}],"ind":5,"parent":4},{"ty":4,"nm":"Inner.F","sr":1,"st":0,"op":121,"ip":0,"hd":false,"cl":"F","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[84,84,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"F","hd":false,"mn":"ADBE Vector Group","nm":"Inner.F","ix":1,"cix":2,"np":2,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[40,32],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[1],"t":0},{"s":[100],"t":119}],"ix":2},"o":{"a":0,"k":148,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.9],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[16],"t":23},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[27],"t":61},{"s":[99.9],"t":119}],"ix":1},"m":1}],"ind":6},{"ty":4,"nm":"Outer.F","sr":1,"st":0,"op":120,"ip":0,"hd":false,"cl":"F","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[84,84,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"F","hd":false,"mn":"ADBE Vector Group","nm":"Outer.F","ix":1,"cix":2,"np":2,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":3,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[48,40],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.1],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[99.9],"t":119},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[100],"t":174},{"s":[29],"t":239}],"ix":2},"o":{"a":0,"k":107,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.2],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[8],"t":7},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[67.214],"t":45},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":119},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[99.9],"t":174},{"s":[26],"t":239}],"ix":1},"m":1}],"ind":7}]},{"nm":"","id":"comp_1","layers":[{"ty":3,"nm":"Ã¢ÂÂ½ Mountain","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[24,63,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"ind":1},{"ty":4,"nm":"Path 3","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[28.515,16.515,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[91.515,40.545,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[0,8.02],[7.99,0],[19.01,11.01]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":55},{"s":[100],"t":119}],"ix":1},"m":1}],"ind":2,"parent":1},{"ty":4,"nm":"Path 2","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[35.505,17.85,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[35.835,20.7,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":3,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[0,11.9],[12.88,0],[23.67,11.9]]},"ix":2}},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":55},{"s":[0],"t":119}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":0,"k":0,"ix":1},"m":1},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3,"parent":1},{"ty":3,"nm":"Ã¢ÂÂ½ Sun","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[105,54,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"ind":4},{"ty":4,"nm":"Sun","sr":1,"st":0,"op":121,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[9,9,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0,0,100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":29},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":44},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[100,100,100],"t":55},{"o":{"x":0.333,"y":0},"i":{"x":0.833,"y":0.833},"s":[30,30,100],"t":66},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[150,150,100],"t":80},{"s":[0,0,100],"t":119}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[9,9,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[720],"t":44},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[720],"t":66},{"s":[0],"t":119}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[1.66,0],[0,-1.66],[-1.66,0],[0,1.66]],"o":[[-1.66,0],[0,1.66],[1.66,0],[0,-1.66]],"v":[[3,0],[0,3],[3,6],[6,3]]},"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[1],"t":0},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":1},"s":[99],"t":49},{"o":{"x":0.167,"y":0},"i":{"x":0.833,"y":0.833},"s":[99],"t":61},{"s":[1],"t":119}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":0,"k":0,"ix":1},"m":1}],"ind":5,"parent":4},{"ty":4,"nm":"Inner.F 2","sr":1,"st":-2,"op":119,"ip":-2,"hd":false,"cl":"F","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[84,84,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"F","hd":false,"mn":"ADBE Vector Group","nm":"Inner.F","ix":1,"cix":2,"np":2,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[40,32],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":2,"ml":1,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":90,"ix":7}}]}],"ind":6},{"ty":4,"nm":"Outer.F","sr":1,"st":0,"op":121,"ip":0,"hd":false,"cl":"F","ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[84,84,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"cl":"F","hd":false,"mn":"ADBE Vector Group","nm":"Outer.F","ix":1,"cix":2,"np":2,"it":[{"ty":"rc","bm":0,"hd":false,"mn":"ADBE Vector Shape - Rect","nm":"Rectangle Path 1","d":3,"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"s":{"a":0,"k":[48,40],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"c":{"a":0,"k":[0.5922,0.5922,0.5922],"ix":3}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]},{"ty":"tm","bm":0,"hd":false,"mn":"ADBE Vector Filter - Trim","nm":"Trim Paths 1","ix":2,"e":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[99.9],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[50],"t":45},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[24],"t":72},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.09],"t":119},{"s":[24],"t":191}],"ix":2},"o":{"a":0,"k":0,"ix":3},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[100],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[54],"t":45},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[36],"t":72},{"s":[1],"t":119}],"ix":1},"m":1}],"ind":7}]}]}');class fr extends Ue{static NOT_FOUND_IMAGE="/images/image-not-found.png";constructor(t){if(super(".rich-display"),this.addAllowedEvents("imageLoaded"),t.files)for(const e of t.files)if(e.fileType.startsWith("image/")){let t=!1;const r=new Ze(".image-loading-animation",pr),n=qe("img.hidden",{src:e.url,alt:e.fileName,load:()=>{this.deleted||(n.deleteClass("hidden"),this.fireEvent("imageLoaded",n.domElement.height),r.delete())}});n.domElement.onerror=()=>{n.deleteClass("hidden"),n.domElement.onerror=null,n.domElement.src=fr.NOT_FOUND_IMAGE,t=!0,r.delete()},this.append(qe(".image-container",qe("a",n,r,{click:r=>{r.stopPropagation(),t||this.openImage(e)}})))}}openImage(t){window.open(t.url,"_blank")}}class mr extends Ue{toUploadFiles=[];uploadPreviewArea;constructor(t){super(t+".upload-form")}uploadInput=qe("input.upload",{type:"file",multiple:!0,change:()=>{const t=this.uploadInput.domElement.files;t&&this.appendFiles(Array.from(t)),this.uploadInput.domElement.value=""}});openFileSelector(){this.uploadInput.domElement.click()}appendFiles(t){this.toUploadFiles.push(...t);for(const e of t)this.appendPreview(e)}appendPreview(t){if(this.uploadPreviewArea){const e=qe("a.preview",qe("button.x",new Ke("x"),{click:r=>{r.preventDefault(),this.toUploadFiles=this.toUploadFiles.filter((e=>e!==t)),e.delete()}}),{href:URL.createObjectURL(t),download:t.name,target:"_blank"}).appendTo(this.uploadPreviewArea);t.type.startsWith("image/")?e.addClass("image").style({backgroundImage:`url(${URL.createObjectURL(t)})`}):e.addClass("file").append(t.name)}}clearUploads(){this.toUploadFiles=[],this.uploadPreviewArea?.empty()}}class gr extends Ue{_id;constructor(t,e){super("li.tab"),this._id=t,this.append(...Array.isArray(e)?e:[e])}set active(t){t?this.addClass("active"):this.deleteClass("active")}get active(){return this.hasClass("active")}}class yr extends Ue{children=[];constructor(t){super("ul.tabs");for(const e of t){const t=new gr(e.uri,e.label);t.onDom("click",(()=>Re.go(`/${e.uri}`))),this.append(t)}}active(t){for(const e of this.children)e._id===t?e.active=!0:e.active=!1}}class br extends Ce{tableName;selectQuery;fetchLimit;constructor(t,e,r){super(),this.tableName=t,this.selectQuery=e,this.fetchLimit=r}async safeSelect(t){const e=await Te.safeFetch(this.tableName,(e=>t(e.select(this.selectQuery).limit(this.fetchLimit))));return e??[]}async safeSelectSingle(t){const e=await Te.safeFetch(this.tableName,(e=>t(e.select(this.selectQuery).limit(1))));return e?.[0]}async safeExists(t){const{data:e,error:r}=await t(Te.client.from(this.tableName).select("*").limit(1));if(r)throw r;return e.length>0}async safeInsert(t){const{error:e}=await Te.client.from(this.tableName).insert(t);if(e)throw e}async safeInsertAndSelect(t){const e=await Te.safeFetch(this.tableName,(e=>e.insert(t).select(this.selectQuery).single()));return e}async safeUpdate(t,e){const{error:r}=await t(Te.client.from(this.tableName).update(e));if(r)throw r}async safeDelete(t){const{error:e}=await t(Te.client.from(this.tableName).delete());if(e)throw e}}const vr={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let wr;const Er=new Uint8Array(16);function xr(){if(!wr&&(wr="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wr(Er)}const kr=[];for(let t=0;t<256;++t)kr.push((t+256).toString(16).slice(1));function Ar(t,e=0){return(kr[t[e+0]]+kr[t[e+1]]+kr[t[e+2]]+kr[t[e+3]]+"-"+kr[t[e+4]]+kr[t[e+5]]+"-"+kr[t[e+6]]+kr[t[e+7]]+"-"+kr[t[e+8]]+kr[t[e+9]]+"-"+kr[t[e+10]]+kr[t[e+11]]+kr[t[e+12]]+kr[t[e+13]]+kr[t[e+14]]+kr[t[e+15]]).toLowerCase()}const Pr=function(t,e,r){if(vr.randomUUID&&!e&&!t)return vr.randomUUID();const n=(t=t||{}).random||(t.rng||xr)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(let t=0;t<16;++t)e[r+t]=n[t];return e}return Ar(n)};const _r=new class{async _uploadFile(t,e,r){const{data:n,error:s}=await Te.client.storage.from(t).upload(`${e}/${Pr()}_${r.name.replace(/[^(\w\/!-.*'() &@$=;:+,?)]/g,"")}`,r,{cacheControl:"31536000"});if(s)throw s;return n.path}async createSignedUrl(t,e,r){const{data:n,error:s}=await Te.client.storage.from(t).createSignedUrl(e,r);if(s)throw s;return n.signedUrl}async uploadAttachment(t,e,r,n){return await this.createSignedUrl(t,await this._uploadFile(t,e,r),n)}async uploadFile(t,e,r){const n=await this._uploadFile(t,e,r);return Te.client.storage.from(t).getPublicUrl(n).data.publicUrl}};class Sr extends br{async fetchUser(t){return await this.safeSelectSingle((e=>e.eq("user_id",t)))}async fetchNewUsers(t){return await this.safeSelect((e=>e.order("created_at",{ascending:!1}).gt("created_at",t??Le)))}async findUsers(t,e){return await this.safeSelect((r=>r.or(`display_name.ilike.%${t}%`).gt("created_at",e??Le)))}async fetchFollowingUsers(t,e){const{data:r,error:n}=await Te.client.rpc("get_following_users",{p_user_id:t,last_fetched_followed_at:e,max_count:this.fetchLimit});if(n)throw n;return r&&r.length>0&&(e=r[r.length-1].followed_at),{users:Te.safeResult(r??[]),lastFetchedFollowedAt:e}}async fetchFollowers(t,e){const{data:r,error:n}=await Te.client.rpc("get_followers",{p_user_id:t,last_fetched_followed_at:e,max_count:this.fetchLimit});if(n)throw n;return r&&r.length>0&&(e=r[r.length-1].followed_at),{users:Te.safeResult(r??[]),lastFetchedFollowedAt:e}}}class Cr{closed=!1;container;changeParams(t,e,r){}close(){this.container?.delete(),this.closed=!0}}class Tr{static checkEmailAccess(){let t=new URLSearchParams(location.search).get("error_description");t&&("Error getting user email from external provider"===t&&(t=hr("getting-email-from-x-error-message")),new ur({title:hr("error-alert-title"),message:t}))}}class Ir{static NOT_FOUND_USER_IMAGE="/images/unknown-user.png";static async selectLoadable(t,e){for(const r of e)if(r)try{if((await fetch(r,{method:"HEAD"})).ok&&!t.deleted)return void t.style({backgroundImage:`url('${r}')`})}catch(t){console.error("Error fetching image:",t)}t.deleted||t.style({backgroundImage:`url('${Ir.NOT_FOUND_USER_IMAGE}')`}),console.warn("No valid images found")}}const Mr=new class{format(t){if(t===je)return"";const e=t instanceof Date?t:new Date(t);return new Intl.DateTimeFormat(He.language,{year:"numeric",month:"short",day:"numeric"}).format(e)}fromNow(t){const e=t instanceof Date?t:new Date(t),r=(new Date).getTime()-e.getTime(),n=Math.round(r/1e3),s=Math.round(n/60),i=Math.round(s/60),a=Math.round(i/24),o=Math.round(a/7),l=Math.round(a/30),c=Math.round(a/365),h=new Intl.RelativeTimeFormat(He.language,{numeric:"auto"});return Math.abs(c)>0?h.format(-c,"year"):Math.abs(l)>0?h.format(-l,"month"):Math.abs(o)>0?h.format(-o,"week"):Math.abs(a)>0?h.format(-a,"day"):Math.abs(i)>0?h.format(-i,"hour"):Math.abs(s)>0?h.format(-s,"minute"):h.format(-n,"second")}};new class{checkEqual(t,e){if(t===e)return!0;if("object"!=typeof t||"object"!=typeof e||null==t||null==e)return!1;let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let s of r)if(!n.includes(s)||!this.checkEqual(t[s],e[s]))return!1;return!0}};const Or=new class{shortenEthereumAddress(t){return 42===t.length&&t.startsWith("0x")?`${t.substring(0,6)}...${t.substring(38)}`:t}numberWithCommas(t,e){if(void 0===e||+ +t>Number.MAX_SAFE_INTEGER){const e=t.split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),"0"===e[1]?e[0]:e.join(".")}const r=String(+(+t).toFixed(e)).split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),r.join(".")}};const Dr=new class{blockchain;messageForWalletLinking;defaultTopic};class Fr extends Me{constructor(){super(".activity-section"),this.append()}show(){this.deleteClass("hidden")}hide(){this.addClass("hidden")}}const Nr={"post-form-post-button":"Post","post-form-posting-button":"Posting...","global-post-list-empty-message":"No posts yet","following-post-list-empty-message":"No posts from followed users yet","getting-email-from-x-error-message":"Error getting user email from external provider. Please add an email in your X account settings and allow email access.\n","message-too-long-alert-title":"Message Length Exceeded","message-too-long-alert-message":"Your message is too long. The maximum allowed length is {maxLength} characters. Please shorten your message."},Rr=null,Br=null,Lr=null,jr=null;class Ur extends Me{constructor(t,...e){super(t+".social-component"),this.append(...e)}static loadMessages(){hr.setMessages({en:Nr,zh:Br,"zh-tw":jr,"zh-hk":Lr,ja:Rr})}}class Gr extends mr{form;input;nextTempId=0;sendButton;constructor(t,e=!0){super(t+".chat-message-form.social-component"),this.addAllowedEvents("messageSending","messageSent"),this.append(this.uploadPreviewArea=qe(".upload-preview-area"),qe("main",qe("section.rich",qe("button",new Ke("attachment"),{click:()=>this.openFileSelector()})),this.form=qe("form",qe(".input-container",this.input=new dr({tag:"p.message-input",contenteditable:!0},(t=>this.appendFiles(t))),{click:()=>this.input.domElement.focus()}),this.sendButton=new nr({tag:".send",title:"Send"}),{submit:t=>{t.preventDefault();const e=this.input.domElement.innerText;e&&(this._sendMessage(e,this.toUploadFiles),this.input.domElement.innerText="",this.clearUploads())}}))),this.input.onDom("keydown",(t=>{"Enter"!==t.key||t.shiftKey||(t.preventDefault(),this.form.fireDomEvent("submit"))})),e&&this.on("visible",(()=>this.input.domElement.focus()))}async _sendMessage(t,e){if(t.length>1e3)return void new ur({title:hr("message-too-long-alert-title"),message:hr("message-too-long-alert-message",{maxLength:1e3})});const r=this.nextTempId-=1;this.fireEvent("messageSending",r,t,e);const n=await this.sendMessage(t,e);this.fireEvent("messageSent",r,n)}}class Vr extends Ur{richDisplay;constructor(t,e,r){super(".chat-message-display"),this.addAllowedEvents("imageLoaded"),this.append(qe("p.message",t.message),t.rich?this.richDisplay=new fr(t.rich):void 0),this.richDisplay?.on("imageLoaded",(t=>this.fireEvent("imageLoaded",t)))}}class zr extends Ur{messages;options;interactions;firstMessage;main;constructor(t,e,r){if(super(".chat-message-list-item"),this.messages=t,this.options=e,this.interactions=r,this.addAllowedEvents("imageLoaded"),this.firstMessage=t[0],this.firstMessage){const n=qe(".author-avatar",{click:t=>this.goAuthorProfile(t)});Ir.selectLoadable(n,[this.firstMessage.author?.avatar_thumb,this.firstMessage.author?.stored_avatar_thumb,this.firstMessage.external_author_avatar]);const s=qe(".author",qe(".name",this.firstMessage.author?this.firstMessage.author.display_name:this.firstMessage.external_author_name,{click:t=>this.goAuthorProfile(t)}),this.firstMessage.source?r.getSourceLabel(this.firstMessage.source):void 0),i=qe(".date",Mr.fromNow(this.firstMessage.created_at)),a=t.map((t=>this.createDisplay(t)));this.firstMessage.author&&this.firstMessage.author.user_id===e.signedUserId?this.append(this.main=qe("main",qe("header",i,s),...a),n).addClass("authored"):this.append(n,this.main=qe("main",qe("header",s,i),...a))}}goAuthorProfile(t){t.stopPropagation();const e=this.messages[0];e?.author&&this.interactions.openAuthorProfile(e.author)}createDisplay(t){const e=new Vr(t,{owner:void 0!==this.options.signedUserId&&void 0!==t.author&&t.author.user_id===this.options.signedUserId},this.interactions);return e.on("imageLoaded",(t=>this.fireEvent("imageLoaded",t))),e}addMessage(t,e){if(this.main){const r=this.createDisplay(t).appendTo(this.main);r.addClass("new"),e&&r.addClass("wait")}}}class $r extends Ur{options;interactions;store;addedMessageIds=[];constructor(t,e,r,n){super(t+".chat-message-list"),this.options=e,this.interactions=r,this.store=new $e(e.storeName),this.domElement.setAttribute("data-empty-message",e.emptyMessage);const s=this.store.get("cached-messages");if(s&&s.length>0){const t=this.groupMessagesByAuthor(s);for(const n of t)this.append(new zr(n,{signedUserId:e.signedUserId},r));this.on("visible",(()=>{this.scrollToBottom(),setTimeout((()=>{this.deleted||this.scrollToBottom()}))}))}else this.append(n);setTimeout((()=>this.refresh()))}async refresh(){this.append(new Je);const t=(await this.fetchMessages()).reverse();if(this.store.set("cached-messages",t,!0),!this.deleted){this.empty();const e=this.groupMessagesByAuthor(t);for(const t of e)this.addItem(t);this.scrollToBottom()}}groupMessagesByAuthor(t){const e=[];let r=[],n=null,s=null;for(const i of t){const t=new Date(i.created_at),a=i.author?i.author.user_id:i.external_author_id;(a!==n||s&&t.getTime()-s.getTime()>=6e4)&&(r.length>0&&e.push(r),r=[]),r.push(i),n=a,s=t}return r.length>0&&e.push(r),e}addItem(t){const e=new zr(t,{signedUserId:this.options.signedUserId},this.interactions).appendTo(this);return e.on("imageLoaded",(t=>{this.scrolledToBottom(t)&&this.scrollToBottom()})),e}addNewItem(t,e,r){const n=this.children.length?this.children[this.children.length-1]:void 0;if((n?.firstMessage?.author?n.firstMessage.author.user_id:n?.firstMessage?.external_author_id)!==(t.author?t.author.user_id:t.external_author_id)){const r=this.addItem([t]);r.addClass("new"),e&&r.addClass("wait")}else n&&n.addMessage(t,e);(r||this.scrolledToBottom())&&this.scrollToBottom()}messageSending(t,e,r,n,s){this.addNewItem({id:t,source:e,author:r,message:n,rich:{files:s.map((t=>({fileName:t.name,fileSize:t.size,fileType:t.type,url:URL.createObjectURL(t)})))},created_at:(new Date).toISOString()},!0,!0)}messageSent(t,e){this.addedMessageIds.push(e)}addNewMessage(t){this.addedMessageIds.includes(t.id)||(this.addNewItem(t),this.addedMessageIds.push(t.id));const e=this.store.get("cached-messages")??[];e.push(t),this.store.set("cached-messages",e,!0)}scrolledToBottom(t=0){return this.domElement.scrollTop>=this.domElement.scrollHeight-this.domElement.clientHeight-100-t}scrollToBottom(){this.domElement.scrollTo(0,this.domElement.scrollHeight)}}const Hr="*, author(user_id, display_name, avatar, avatar_thumb, stored_avatar, stored_avatar_thumb, x_username)";var qr;!function(t){t[t.FOLLOW=0]="FOLLOW",t[t.POST_LIKE=1]="POST_LIKE",t[t.REPOST=2]="REPOST",t[t.POST_COMMENT=3]="POST_COMMENT",t[t.POST_TAG=4]="POST_TAG"}(qr||(qr={}));const Wr=new class extends br{followeeIds=new Set;constructor(){super("follows","*",1e3),this.addAllowedEvents("follow","unfollow")}async fetchSignedUserFollows(t){const e=await this.safeSelect((e=>e.eq("follower_id",t)));for(const t of e)this.followeeIds.add(t.followee_id)}follow(t){this.followeeIds.add(t),this.fireEvent("follow",t),this.safeInsert({followee_id:t})}unfollow(t){this.followeeIds.delete(t),this.fireEvent("unfollow",t),this.safeDelete((e=>e.eq("followee_id",t)))}isFollowing(t){return this.followeeIds.has(t)}toggleFollow(t){this.isFollowing(t)?this.unfollow(t):this.follow(t)}};class Kr extends br{constructor(t,e,r){super(t,e,r),this.addAllowedEvents("deleteMessage")}async fetchMessage(t){return await this.safeSelectSingle((e=>e.eq("id",t)))}async deleteMessage(t){await this.safeDelete((e=>e.eq("id",t))),this.fireEvent("deleteMessage",t)}}class Jr extends Ce{user;get signed(){return void 0!==this.user}constructor(){super(),this.addAllowedEvents("walletLinked")}async fetchUserOnInit(){const{data:t,error:e}=await Te.client.auth.getSession();if(e)throw e;const r=t?.session?.user;r&&(this.user=await this.fetchUser(r.id))}async fetchUserAndFollowsOnInit(){const{data:t,error:e}=await Te.client.auth.getSession();if(e)throw e;const r=t?.session?.user;r&&([this.user]=await Promise.all([this.fetchUser(r.id),Wr.fetchSignedUserFollows(r.id)]))}async signOut(){await Te.signOut(),location.reload()}}class Qr extends Sr{async fetchByXUsername(t){return await this.safeSelectSingle((e=>e.eq("x_username",t)))}}var Yr=class extends Error{constructor({chainId:t,connectorId:e}){super(`Chain "${t}" not configured for connector "${e}".`),this.name="ChainNotConfiguredForConnectorError"}},Zr=class extends Error{constructor(){super(...arguments),this.name="ConnectorNotFoundError",this.message="Connector not found"}};function Xr(t){return"string"==typeof t?Number.parseInt(t,"0x"===t.trim().substring(0,2)?16:10):"bigint"==typeof t?Number(t):t}var tn=r(8290);function en(t,e={}){const{fees:r=t.fees,formatters:n=t.formatters,serializers:s=t.serializers}=e;return{...t,fees:r,formatters:n,serializers:s}}const rn=en({id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc0497E381f536Be9ce14B0dD3817cBcAe57d2F62",blockCreated:16966585},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),nn=en({id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0x56522D00C410a43BFfDF00a9A569489297385790",blockCreated:8765204},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0});var sn=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},an=(t,e,r)=>(sn(t,e,"read from private field"),r?r.call(t):e.get(t)),on=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},ln=(t,e,r,n)=>(sn(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),cn=(t,e,r)=>(sn(t,e,"access private method"),r),hn=class extends tn{constructor({chains:t=[rn,nn],options:e}){super(),this.chains=t,this.options=e}getBlockExplorerUrls(t){const{default:e,...r}=t.blockExplorers??{};if(e)return[e.url,...Object.values(r).map((t=>t.url))]}isChainUnsupported(t){return!this.chains.some((e=>e.id===t))}setStorage(t){this.storage=t}},un=r(6731),dn=r(2671),pn=r(3731);class fn extends dn.G{constructor(t,{code:e,docsPath:r,metaMessages:n,shortMessage:s}){super(s,{cause:t,docsPath:r,metaMessages:n||t?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof pn.bs?t.code:e??-1}}class mn extends fn{constructor(t,e){super(t,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e.data}}class gn extends fn{constructor(t){super(t,{code:gn.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(gn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class yn extends fn{constructor(t){super(t,{code:yn.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(yn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class bn extends fn{constructor(t){super(t,{code:bn.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(bn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class vn extends fn{constructor(t){super(t,{code:vn.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class wn extends fn{constructor(t){super(t,{code:wn.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(wn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class En extends fn{constructor(t){super(t,{code:En.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(En,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class xn extends fn{constructor(t){super(t,{code:xn.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(xn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class kn extends fn{constructor(t){super(t,{code:kn.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class An extends fn{constructor(t){super(t,{code:An.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(An,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Pn extends fn{constructor(t){super(t,{code:Pn.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(Pn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class _n extends fn{constructor(t){super(t,{code:_n.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(_n,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Sn extends fn{constructor(t){super(t,{code:Sn.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(Sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Cn extends mn{constructor(t){super(t,{code:Cn.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(Cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Tn extends mn{constructor(t){super(t,{code:Tn.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(Tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class In extends mn{constructor(t){super(t,{code:In.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(In,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Mn extends mn{constructor(t){super(t,{code:Mn.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(Mn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class On extends mn{constructor(t){super(t,{code:On.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(On,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Dn extends mn{constructor(t){super(t,{code:Dn.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(Dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Fn extends fn{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}var Nn=r(589);const Rn=256;let Bn,Ln=Rn;function jn(t=11){if(!Bn||Ln+t>2*Rn){Bn="",Ln=0;for(let t=0;t<Rn;t++)Bn+=(256+256*Math.random()|0).toString(16).substring(1)}return Bn.substring(Ln,Ln+++t)}function Un(t){const{batch:e,cacheTime:r=t.pollingInterval??4e3,key:n="base",name:s="Base Client",pollingInterval:i=4e3,type:a="base"}=t,o=t.chain,l=t.account?(0,Nn.T)(t.account):void 0,{config:c,request:h,value:u}=t.transport({chain:o,pollingInterval:i}),d={account:l,batch:e,cacheTime:r,chain:o,key:n,name:s,pollingInterval:i,request:h,transport:{...c,...u},type:a,uid:jn()};return Object.assign(d,{extend:function t(e){return r=>{const n=r(e);for(const t in d)delete n[t];const s={...e,...n};return Object.assign(s,{extend:t(s)})}}(d)})}var Gn=r(4702);async function Vn(t){const e=await t.request({method:"eth_chainId"});return(0,Gn.ly)(e)}var zn=r(8138);var $n=r(1417),Hn=r(1466),qn=r(1778);const Wn="/docs/contract/encodeDeployData";function Kn({abi:t,args:e,bytecode:r}){if(!e||0===e.length)return r;const n=t.find((t=>"type"in t&&"constructor"===t.type));if(!n)throw new $n.fM({docsPath:Wn});if(!("inputs"in n))throw new $n.cO({docsPath:Wn});if(!n.inputs||0===n.inputs.length)throw new $n.cO({docsPath:Wn});const s=(0,qn.E)(n.inputs,e);return(0,Hn.SM)([r,s])}class Jn extends dn.G{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join("\n"),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}var Qn=r(7033);function Yn({chain:t,currentChainId:e}){if(!t)throw new Qn.Bk;if(e!==t.id)throw new Qn.Yl({chain:t,currentChainId:e})}var Zn=r(2675),Xn=r(9955),ts=r(9966);var es=r(2090),rs=r(6011);function ns(t,e,r){return n=>t[e.name||r]?.(n)??e(t,n)}var ss=r(9362),is=r(9589);class as extends dn.G{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class os extends dn.G{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class ls extends dn.G{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,is.o)(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class cs extends dn.G{constructor({blockHash:t,blockNumber:e}){let r="Block";t&&(r=`Block at hash "${t}"`),e&&(r=`Block at number "${e}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const hs={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function us(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?(0,Gn.ly)(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?(0,Gn.ly)(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?hs[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if("bigint"==typeof e.v){if(0n===e.v||27n===e.v)return 0;if(1n===e.v||28n===e.v)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),"legacy"===e.type&&(delete e.accessList,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),"eip2930"===e.type&&(delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e}function ds(t){const e=t.transactions?.map((t=>"string"==typeof t?t:us(t)));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,difficulty:t.difficulty?BigInt(t.difficulty):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function ps(t,{blockHash:e,blockNumber:r,blockTag:n,includeTransactions:s}={}){const i=n??"latest",a=s??!1,o=void 0!==r?(0,zn.eC)(r):void 0;let l=null;if(l=e?await t.request({method:"eth_getBlockByHash",params:[e,a]}):await t.request({method:"eth_getBlockByNumber",params:[o||i,a]}),!l)throw new cs({blockHash:e,blockNumber:r});return(t.chain?.formatters?.block?.format||ds)(l)}async function fs(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function ms(t,e){const{block:r,chain:n=t.chain,request:s}=e||{};if("function"==typeof n?.fees?.defaultPriorityFee){const e=r||await ns(t,ps,"getBlock")({});return n.fees.defaultPriorityFee({block:e,client:t,request:s})}if(void 0!==n?.fees?.defaultPriorityFee)return n?.fees?.defaultPriorityFee;try{const e=await t.request({method:"eth_maxPriorityFeePerGas"});return(0,Gn.y_)(e)}catch{const[e,n]=await Promise.all([r?Promise.resolve(r):ns(t,ps,"getBlock")({}),ns(t,fs,"getGasPrice")({})]);if("bigint"!=typeof e.baseFeePerGas)throw new os;const s=n-e.baseFeePerGas;return s<0n?0n:s}}async function gs(t,e){const{block:r,chain:n=t.chain,request:s,type:i="eip1559"}=e||{},a=await(async()=>"function"==typeof n?.fees?.baseFeeMultiplier?n.fees.baseFeeMultiplier({block:r,client:t,request:s}):n?.fees?.baseFeeMultiplier??1.2)();if(a<1)throw new as;const o=10**(a.toString().split(".")[1]?.length??0),l=t=>t*BigInt(Math.ceil(a*o))/BigInt(o),c=r||await ns(t,ps,"getBlock")({});if("function"==typeof n?.fees?.estimateFeesPerGas)return n.fees.estimateFeesPerGas({block:r,client:t,multiply:l,request:s,type:i});if("eip1559"===i){if("bigint"!=typeof c.baseFeePerGas)throw new os;const e=s?.maxPriorityFeePerGas?s.maxPriorityFeePerGas:await ms(t,{block:c,chain:n,request:s}),r=l(c.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??r+e,maxPriorityFeePerGas:e}}return{gasPrice:s?.gasPrice??l(await ns(t,fs,"getGasPrice")({}))}}var ys=r(7631);class bs extends dn.G{constructor(t,{account:e,docsPath:r,chain:n,data:s,gas:i,gasPrice:a,maxFeePerGas:o,maxPriorityFeePerGas:l,nonce:c,to:h,value:u}){const d=(0,Xn.xr)({from:e?.address,to:h,value:void 0!==u&&`${(0,ys.d)(u)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:i,gasPrice:void 0!==a&&`${(0,is.o)(a)} gwei`,maxFeePerGas:void 0!==o&&`${(0,is.o)(o)} gwei`,maxPriorityFeePerGas:void 0!==l&&`${(0,is.o)(l)} gwei`,nonce:c});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",d].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}async function vs(t,e){const r=e.account??t.account;if(!r)throw new Jn({docsPath:"/docs/actions/public/estimateGas"});const n=(0,Nn.T)(r);try{const{accessList:r,blockNumber:s,blockTag:i,data:a,gas:o,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:h,nonce:u,to:d,value:p,...f}="local"===n.type?await Es(t,e):e,m=(s?(0,zn.eC)(s):void 0)||i;(0,ss.F)(e);const g=t.chain?.formatters?.transactionRequest?.format,y=(g||rs.tG)({...(0,es.K)(f,{format:g}),from:n.address,accessList:r,data:a,gas:o,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:h,nonce:u,to:d,value:p}),b=await t.request({method:"eth_estimateGas",params:m?[y,m]:[y]});return BigInt(b)}catch(r){throw function(t,{docsPath:e,...r}){const n=(()=>{const e=(0,ts.k)(t,r);return e instanceof Zn.cj?t:e})();return new bs(n,{docsPath:e,...r})}(r,{...e,account:n,chain:t.chain})}}async function ws(t,{address:e,blockTag:r="latest",blockNumber:n}){const s=await t.request({method:"eth_getTransactionCount",params:[e,n?(0,zn.eC)(n):r]});return(0,Gn.ly)(s)}async function Es(t,e){const{account:r=t.account,chain:n,gas:s,nonce:i,type:a}=e;if(!r)throw new Jn;const o=(0,Nn.T)(r),l=await ns(t,ps,"getBlock")({blockTag:"latest"}),c={...e,from:o.address};if(void 0===i&&(c.nonce=await ns(t,ws,"getTransactionCount")({address:o.address,blockTag:"pending"})),void 0===a)try{c.type=function(t){if(t.type)return t.type;if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)return"eip1559";if(void 0!==t.gasPrice)return void 0!==t.accessList?"eip2930":"legacy";throw new Xn.j3({transaction:t})}(c)}catch{c.type="bigint"==typeof l.baseFeePerGas?"eip1559":"legacy"}if("eip1559"===c.type){const{maxFeePerGas:r,maxPriorityFeePerGas:s}=await gs(t,{block:l,chain:n,request:c});if(void 0===e.maxPriorityFeePerGas&&e.maxFeePerGas&&e.maxFeePerGas<s)throw new ls({maxPriorityFeePerGas:s});c.maxPriorityFeePerGas=s,c.maxFeePerGas=r}else{if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)throw new os;const{gasPrice:r}=await gs(t,{block:l,chain:n,request:c,type:"legacy"});c.gasPrice=r}return void 0===s&&(c.gas=await ns(t,vs,"estimateGas")({...c,account:{address:o.address,type:"json-rpc"}})),(0,ss.F)(c),c}async function xs(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]})}async function ks(t,e){const{account:r=t.account,chain:n=t.chain,accessList:s,data:i,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:h,to:u,value:d,...p}=e;if(!r)throw new Jn({docsPath:"/docs/actions/wallet/sendTransaction"});const f=(0,Nn.T)(r);try{let r;if((0,ss.F)(e),null!==n&&(r=await ns(t,Vn,"getChainId")({}),Yn({currentChainId:r,chain:n})),"local"===f.type){const e=await ns(t,Es,"prepareTransactionRequest")({account:f,accessList:s,chain:n,data:i,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:h,to:u,value:d,...p});r||(r=await ns(t,Vn,"getChainId")({}));const m=n?.serializers?.transaction,g=await f.signTransaction({...e,chainId:r},{serializer:m});return await ns(t,xs,"sendRawTransaction")({serializedTransaction:g})}const m=t.chain?.formatters?.transactionRequest?.format,g=(m||rs.tG)({...(0,es.K)(p,{format:m}),accessList:s,data:i,from:f.address,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:h,to:u,value:d});return await t.request({method:"eth_sendTransaction",params:[g]})}catch(t){throw function(t,{docsPath:e,...r}){const n=(()=>{const e=(0,ts.k)(t,r);return e instanceof Zn.cj?t:e})();return new Xn.mk(n,{docsPath:e,...r})}(t,{...e,account:f,chain:e.chain||void 0})}}var As=r(8426),Ps=r(305),_s=r(31),Ss=r(151),Cs=r(9402);const Ts=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Is=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ms({domain:t,message:e,primaryType:r,types:n}){const s=n,i=(t,e)=>{for(const r of t){const{name:t,type:n}=r,a=n,o=e[t],l=a.match(Is);if(l&&("number"==typeof o||"bigint"==typeof o)){const[t,e,r]=l;(0,zn.eC)(o,{signed:"int"===e,size:parseInt(r)/8})}if("address"===a&&"string"==typeof o&&!(0,Ss.U)(o))throw new _s.b({address:o});const c=a.match(Ts);if(c){const[t,e]=c;if(e&&(0,Cs.d)(o)!==parseInt(e))throw new $n.KY({expectedSize:parseInt(e),givenSize:(0,Cs.d)(o)})}const h=s[a];h&&i(h,o)}};if(s.EIP712Domain&&t&&i(s.EIP712Domain,t),"EIP712Domain"!==r){const t=s[r];i(t,e)}}function Os({domain:t}){return["string"==typeof t?.name&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},"number"==typeof t?.chainId&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}var Ds=r(1106);function Fs(t){return{addChain:e=>async function(t,{chain:e}){const{id:r,name:n,nativeCurrency:s,rpcUrls:i,blockExplorers:a}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:(0,zn.eC)(r),chainName:n,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:a?Object.values(a).map((({url:t})=>t)):void 0}]})}(t,e),deployContract:e=>function(t,{abi:e,args:r,bytecode:n,...s}){return ks(t,{...s,data:Kn({abi:e,args:r,bytecode:n})})}(t,e),getAddresses:()=>async function(t){return"local"===t.account?.type?[t.account.address]:(await t.request({method:"eth_accounts"})).map((t=>(0,un.x)(t)))}(t),getChainId:()=>Vn(t),getPermissions:()=>async function(t){return await t.request({method:"wallet_getPermissions"})}(t),prepareTransactionRequest:e=>Es(t,e),requestAddresses:()=>async function(t){return(await t.request({method:"eth_requestAccounts"})).map((t=>(0,un.K)(t)))}(t),requestPermissions:e=>async function(t,e){return t.request({method:"wallet_requestPermissions",params:[e]})}(t,e),sendRawTransaction:e=>xs(t,e),sendTransaction:e=>ks(t,e),signMessage:e=>async function(t,{account:e=t.account,message:r}){if(!e)throw new Jn({docsPath:"/docs/actions/wallet/signMessage"});const n=(0,Nn.T)(e);if("local"===n.type)return n.signMessage({message:r});const s="string"==typeof r?(0,zn.$G)(r):r.raw instanceof Uint8Array?(0,zn.NC)(r.raw):r.raw;return t.request({method:"personal_sign",params:[s,n.address]})}(t,e),signTransaction:e=>async function(t,e){const{account:r=t.account,chain:n=t.chain,...s}=e;if(!r)throw new Jn({docsPath:"/docs/actions/wallet/signTransaction"});const i=(0,Nn.T)(r);(0,ss.F)({account:i,...e});const a=await ns(t,Vn,"getChainId")({});null!==n&&Yn({currentChainId:a,chain:n});const o=n?.formatters||t.chain?.formatters,l=o?.transactionRequest?.format||rs.tG;return"local"===i.type?i.signTransaction({...s,chainId:a},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...l(s),chainId:(0,zn.eC)(a),from:i.address}]})}(t,e),signTypedData:e=>async function(t,{account:e=t.account,domain:r,message:n,primaryType:s,types:i}){if(!e)throw new Jn({docsPath:"/docs/actions/wallet/signTypedData"});const a=(0,Nn.T)(e),o={EIP712Domain:Os({domain:r}),...i};if(Ms({domain:r,message:n,primaryType:s,types:o}),"local"===a.type)return a.signTypedData({domain:r,primaryType:s,types:o,message:n});const l=(0,Ps.P)({domain:r??{},primaryType:s,types:o,message:n},((t,e)=>(0,As.v)(e)?e.toLowerCase():e));return t.request({method:"eth_signTypedData_v4",params:[a.address,l]})}(t,e),switchChain:e=>async function(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,zn.eC)(e)}]})}(t,e),watchAsset:e=>async function(t,e){return await t.request({method:"wallet_watchAsset",params:e})}(t,e),writeContract:e=>async function(t,{abi:e,address:r,args:n,dataSuffix:s,functionName:i,...a}){const o=(0,Ds.R)({abi:e,args:n,functionName:i});return await ns(t,ks,"sendTransaction")({data:`${o}${s?s.replace("0x",""):""}`,to:r,...a})}(t,e)}}function Ns(t){const{key:e="wallet",name:r="Wallet Client",transport:n}=t;return Un({...t,key:e,name:r,transport:t=>n({...t,retryCount:0}),type:"walletClient"}).extend(Fs)}async function Rs(t){return new Promise((e=>setTimeout(e,t)))}function Bs(t,{delay:e=100,retryCount:r=2,shouldRetry:n=(()=>!0)}={}){return new Promise(((s,i)=>{const a=async({count:o=0}={})=>{try{const e=await t();s(e)}catch(t){if(o<r&&await n({count:o,error:t}))return(async({error:t})=>{const r="function"==typeof e?e({count:o,error:t}):e;r&&await Rs(r),a({count:o+1})})({error:t});i(t)}};a()}))}const Ls=t=>"code"in t?-1!==t.code&&-32004!==t.code&&-32005!==t.code&&-32042!==t.code&&-32603!==t.code:!!(t instanceof pn.Gg&&t.status)&&(403!==t.status&&408!==t.status&&413!==t.status&&429!==t.status&&500!==t.status&&502!==t.status&&503!==t.status&&504!==t.status);function js(t,{retryDelay:e=150,retryCount:r=3}={}){return async n=>Bs((async()=>{try{return await t(n)}catch(t){const e=t;switch(e.code){case gn.code:throw new gn(e);case yn.code:throw new yn(e);case bn.code:throw new bn(e);case vn.code:throw new vn(e);case wn.code:throw new wn(e);case En.code:throw new En(e);case xn.code:throw new xn(e);case kn.code:throw new kn(e);case An.code:throw new An(e);case Pn.code:throw new Pn(e);case _n.code:throw new _n(e);case Sn.code:throw new Sn(e);case Cn.code:throw new Cn(e);case Tn.code:throw new Tn(e);case In.code:throw new In(e);case Mn.code:throw new Mn(e);case On.code:throw new On(e);case Dn.code:throw new Dn(e);case 5e3:throw new Cn(e);default:if(t instanceof dn.G)throw t;throw new Fn(e)}}}),{delay:({count:t,error:r})=>{if(r&&r instanceof pn.Gg){const t=r?.headers?.get("Retry-After");if(t?.match(/\d/))return 1e3*parseInt(t)}return~~(1<<t)*e},retryCount:r,shouldRetry:({error:t})=>!Ls(t)})}function Us({key:t,name:e,request:r,retryCount:n=3,retryDelay:s=150,timeout:i,type:a},o){return{config:{key:t,name:e,request:r,retryCount:n,retryDelay:s,timeout:i,type:a},request:js(r,{retryCount:n,retryDelay:s}),value:o}}function Gs(t,e={}){const{key:r="custom",name:n="Custom Provider",retryDelay:s}=e;return({retryCount:i})=>Us({key:r,name:n,request:t.request.bind(t),retryCount:e.retryCount??i,retryDelay:s,type:"custom"})}var Vs,zs=class extends hn{constructor({chains:t,options:e}={}){const r={shimDisconnect:!0,getProvider(){if("undefined"==typeof window)return;const t=window.ethereum;return t?.providers&&t.providers.length>0?t.providers[0]:t},...e};super({chains:t,options:r}),this.id="injected",on(this,Vs,void 0),this.shimDisconnectKey=`${this.id}.shimDisconnect`,this.onAccountsChanged=t=>{0===t.length?this.emit("disconnect"):this.emit("change",{account:(0,un.K)(t[0])})},this.onChainChanged=t=>{const e=Xr(t),r=this.isChainUnsupported(e);this.emit("change",{chain:{id:e,unsupported:r}})},this.onDisconnect=async t=>{if(1013===t.code){if(await this.getProvider()){if(await this.getAccount())return}}this.emit("disconnect"),this.options.shimDisconnect&&this.storage?.removeItem(this.shimDisconnectKey)};const n=r.getProvider();if("string"==typeof r.name)this.name=r.name;else if(n){const t=function(t){if(!t)return"Injected";const e=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOktoWallet?"Okto Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0;if(t.providers?.length){const r=new Set;let n=1;for(const s of t.providers){let t=e(s);t||(t=`Unknown Wallet #${n}`,n+=1),r.add(t)}const s=[...r];return s.length?s:s[0]??"Injected"}return e(t)??"Injected"}(n);r.name?this.name=r.name(t):this.name="string"==typeof t?t:t[0]}else this.name="Injected";this.ready=!!n}async connect({chainId:t}={}){try{const e=await this.getProvider();if(!e)throw new Zr;e.on&&(e.on("accountsChanged",this.onAccountsChanged),e.on("chainChanged",this.onChainChanged),e.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});const r=await e.request({method:"eth_requestAccounts"}),n=(0,un.K)(r[0]);let s=await this.getChainId(),i=this.isChainUnsupported(s);if(t&&s!==t){s=(await this.switchChain(t)).id,i=this.isChainUnsupported(s)}return this.options.shimDisconnect&&this.storage?.setItem(this.shimDisconnectKey,!0),{account:n,chain:{id:s,unsupported:i}}}catch(t){if(this.isUserRejectedRequestError(t))throw new Cn(t);if(-32002===t.code)throw new kn(t);throw t}}async disconnect(){const t=await this.getProvider();t?.removeListener&&(t.removeListener("accountsChanged",this.onAccountsChanged),t.removeListener("chainChanged",this.onChainChanged),t.removeListener("disconnect",this.onDisconnect),this.options.shimDisconnect&&this.storage?.removeItem(this.shimDisconnectKey))}async getAccount(){const t=await this.getProvider();if(!t)throw new Zr;const e=await t.request({method:"eth_accounts"});return(0,un.K)(e[0])}async getChainId(){const t=await this.getProvider();if(!t)throw new Zr;return t.request({method:"eth_chainId"}).then(Xr)}async getProvider(){const t=this.options.getProvider();return t&&ln(this,Vs,t),an(this,Vs)}async getWalletClient({chainId:t}={}){const[e,r]=await Promise.all([this.getProvider(),this.getAccount()]),n=this.chains.find((e=>e.id===t));if(!e)throw new Error("provider is required.");return Ns({account:r,chain:n,transport:Gs(e)})}async isAuthorized(){try{if(this.options.shimDisconnect&&!this.storage?.getItem(this.shimDisconnectKey))return!1;if(!await this.getProvider())throw new Zr;return!!await this.getAccount()}catch{return!1}}async switchChain(t){const e=await this.getProvider();if(!e)throw new Zr;const r=(0,zn.eC)(t);try{return await Promise.all([e.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),new Promise((e=>this.on("change",(({chain:r})=>{r?.id===t&&e()}))))]),this.chains.find((e=>e.id===t))??{id:t,name:`Chain ${r}`,network:`${r}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch(n){const s=this.chains.find((e=>e.id===t));if(!s)throw new Yr({chainId:t,connectorId:this.id});if(4902===n.code||4902===n?.data?.originalError?.code)try{await e.request({method:"wallet_addEthereumChain",params:[{chainId:r,chainName:s.name,nativeCurrency:s.nativeCurrency,rpcUrls:[s.rpcUrls.public?.http[0]??""],blockExplorerUrls:this.getBlockExplorerUrls(s)}]});if(await this.getChainId()!==t)throw new Cn(new Error("User rejected switch after adding network."));return s}catch(t){throw new Cn(t)}if(this.isUserRejectedRequestError(n))throw new Cn(n);throw new Dn(n)}}async watchAsset({address:t,decimals:e=18,image:r,symbol:n}){const s=await this.getProvider();if(!s)throw new Zr;return s.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:t,decimals:e,image:r,symbol:n}}})}isUserRejectedRequestError(t){return 4001===t.code}};Vs=new WeakMap;var $s=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Hs=(t,e,r)=>($s(t,e,"read from private field"),r?r.call(t):e.get(t)),qs=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Ws=(t,e,r,n)=>($s(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ks=r(6597),Js=r(1982),Qs=r(6137),Ys=r(2050),Zs=r(1151),Xs=r(935);function ti(t,e){if(!(t instanceof dn.G))return!1;const r=t.walk((t=>t instanceof Xs.Lu));return r instanceof Xs.Lu&&("ResolverNotFound"===r.data?.errorName||("ResolverWildcardNotSupported"===r.data?.errorName||(!!r.reason?.includes("Wildcard on non-extended resolvers is not supported")||"reverse"===e&&r.reason===Zs.$[50])))}var ei=r(860),ri=r(5031);function ni(t){if(66!==t.length)return null;if(0!==t.indexOf("["))return null;if(65!==t.indexOf("]"))return null;const e=`0x${t.slice(1,65)}`;return(0,As.v)(e)?e:null}function si(t){let e=new Uint8Array(32).fill(0);if(!t)return(0,zn.ci)(e);const r=t.split(".");for(let t=r.length-1;t>=0;t-=1){const n=ni(r[t]),s=n?(0,ei.O0)(n):(0,ri.w)((0,ei.qX)(r[t]),"bytes");e=(0,ri.w)((0,Hn.zo)([e,s]),"bytes")}return(0,zn.ci)(e)}function ii(t){const e=new Uint8Array(32).fill(0);return t?ni(t)||(0,ri.w)((0,ei.qX)(t)):(0,zn.ci)(e)}function ai(t){const e=t.replace(/^\.|\.$/gm,"");if(0===e.length)return new Uint8Array(1);const r=new Uint8Array((0,ei.qX)(e).byteLength+2);let n=0;const s=e.split(".");for(let t=0;t<s.length;t++){let e=(0,ei.qX)(s[t]);e.byteLength>255&&(e=(0,ei.qX)(`[${ii(s[t]).slice(2)}]`)),r[n]=e.length,r.set(e,n+1),n+=e.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}const oi=3;function li(t,{abi:e,address:r,args:n,docsPath:s,functionName:i,sender:a}){const{code:o,data:l,message:c,shortMessage:h}=t instanceof Xs.VQ?t:t instanceof dn.G?t.walk((t=>"data"in t))||t.walk():{},u=t instanceof $n.wb?new Xs.Dk({functionName:i}):[oi,wn.code].includes(o)&&(l||c||h)?new Xs.Lu({abi:e,data:"object"==typeof l?l.data:l,functionName:i,message:h??c}):t;return new Xs.uq(u,{abi:e,args:n,contractAddress:r,docsPath:s,functionName:i,sender:a})}var ci=r(8411);async function hi(t,{abi:e,address:r,args:n,functionName:s,...i}){const a=(0,Ds.R)({abi:e,args:n,functionName:s});try{const{data:o}=await ns(t,ci.R,"call")({data:a,to:r,...i});return(0,Js.k)({abi:e,args:n,functionName:s,data:o||"0x"})}catch(t){throw li(t,{abi:e,address:r,args:n,docsPath:"/docs/contract/readContract",functionName:s})}}class ui extends dn.G{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class di extends dn.G{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class pi extends dn.G{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class fi extends dn.G{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const mi=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,gi=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,yi=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,bi=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function vi(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function wi({uri:t,gatewayUrls:e}){const r=yi.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};const n=vi(e?.ipfs,"https://ipfs.io"),s=vi(e?.arweave,"https://arweave.net"),i=t.match(mi),{protocol:a,subpath:o,target:l,subtarget:c=""}=i?.groups||{},h="ipns:/"===a||"ipns/"===o,u="ipfs:/"===a||"ipfs/"===o||gi.test(t);if(t.startsWith("http")&&!h&&!u){let r=t;return e?.arweave&&(r=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:r,isOnChain:!1,isEncoded:!1}}if((h||u)&&l)return{uri:`${n}/${h?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if("ar:/"===a&&l)return{uri:`${s}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let d=t.replace(bi,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new pi({uri:t})}function Ei(t){if("object"!=typeof t||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new ui({data:t});return t.image||t.image_url||t.image_data}async function xi({gatewayUrls:t,uri:e}){const{uri:r,isOnChain:n}=wi({uri:e,gatewayUrls:t});if(n)return r;const s=await async function(t){try{const e=await fetch(t,{method:"HEAD"});if(200===e.status){const t=e.headers.get("content-type");return t?.startsWith("image/")}return!1}catch(e){return("object"!=typeof e||void 0===e.response)&&!!globalThis.hasOwnProperty("Image")&&new Promise((e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t}))}}(r);if(s)return r;throw new pi({uri:e})}async function ki(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?async function(t,{gatewayUrls:e,record:r}){const n=function(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[r,n,s]=e.split("/"),[i,a]=r.split(":"),[o,l]=n.split(":");if(!i||"eip155"!==i.toLowerCase())throw new di({reason:"Only EIP-155 supported"});if(!a)throw new di({reason:"Chain ID not found"});if(!l)throw new di({reason:"Contract address not found"});if(!s)throw new di({reason:"Token ID not found"});if(!o)throw new di({reason:"ERC namespace not found"});return{chainID:parseInt(a),namespace:o.toLowerCase(),contractAddress:l,tokenID:s}}(r),s=await async function(t,{nft:e}){if("erc721"===e.namespace)return hi(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if("erc1155"===e.namespace)return hi(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new fi({namespace:e.namespace})}(t,{nft:n}),{uri:i,isOnChain:a,isEncoded:o}=wi({uri:s,gatewayUrls:e});if(a&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const t=o?atob(i.replace("data:application/json;base64,","")):i;return xi({uri:Ei(JSON.parse(t)),gatewayUrls:e})}let l=n.tokenID;"erc1155"===n.namespace&&(l=l.replace("0x","").padStart(64,"0"));return async function({gatewayUrls:t,uri:e}){try{const r=await fetch(e).then((t=>t.json()));return await xi({gatewayUrls:t,uri:Ei(r)})}catch{throw new pi({uri:e})}}({gatewayUrls:e,uri:i.replace(/(?:0x)?{id}/,l)})}(t,{gatewayUrls:e,record:r}):xi({uri:r,gatewayUrls:e})}async function Ai(t,{blockNumber:e,blockTag:r,name:n,key:s,universalResolverAddress:i}){let a=i;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=(0,Qs.L)({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}try{const i=await ns(t,hi,"readContract")({address:a,abi:Ks.k3,functionName:"resolve",args:[(0,zn.NC)(ai(n)),(0,Ds.R)({abi:Ks.nZ,functionName:"text",args:[si(n),s]})],blockNumber:e,blockTag:r});if("0x"===i[0])return null;const o=(0,Js.k)({abi:Ks.nZ,functionName:"text",data:i[0]});return""===o?null:o}catch(t){if(ti(t,"resolve"))return null;throw t}}function Pi(t,{method:e}){const r={};return"fallback"===t.transport.type&&t.transport.onResponse?.((({method:t,response:n,status:s,transport:i})=>{"success"===s&&e===t&&(r[n]=i.request)})),e=>r[e]||t.request}class _i extends dn.G{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}var Si=r(4664),Ci=r(1909),Ti=r(3058);function Ii({abi:t,eventName:e,args:r}){let n=t[0];if(e&&(n=(0,Ti.mE)({abi:t,args:r,name:e}),!n))throw new $n.mv(e,{docsPath:"/docs/contract/encodeEventTopics"});if("event"!==n.type)throw new $n.mv(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const s=(0,Ci.t)(n),i=(0,Si.e)(s);let a=[];if(r&&"inputs"in n){const t=n.inputs?.filter((t=>"indexed"in t&&t.indexed)),e=Array.isArray(r)?r:Object.values(r).length>0?t?.map((t=>r[t.name]))??[]:[];e.length>0&&(a=t?.map(((t,r)=>Array.isArray(e[r])?e[r].map(((n,s)=>Mi({param:t,value:e[r][s]}))):e[r]?Mi({param:t,value:e[r]}):null))??[])}return[i,...a]}function Mi({param:t,value:e}){if("string"===t.type||"bytes"===t.type)return(0,ri.w)((0,ei.O0)(e));if("tuple"===t.type||t.type.match(/^(.*)\[(\d+)?\]$/))throw new _i(t.type);return(0,qn.E)([t],[e])}async function Oi(t,{address:e,abi:r,args:n,eventName:s,fromBlock:i,strict:a,toBlock:o}){const l=Pi(t,{method:"eth_newFilter"}),c=s?Ii({abi:r,args:n,eventName:s}):void 0,h=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:"bigint"==typeof i?(0,zn.eC)(i):i,toBlock:"bigint"==typeof o?(0,zn.eC)(o):o,topics:c}]});return{abi:r,args:n,eventName:s,id:h,request:l(h),strict:a,type:"event"}}async function Di(t,{address:e,args:r,event:n,events:s,fromBlock:i,strict:a,toBlock:o}={}){const l=s??(n?[n]:void 0),c=Pi(t,{method:"eth_newFilter"});let h=[];l&&(h=[l.flatMap((t=>Ii({abi:[t],eventName:t.name,args:r})))],n&&(h=h[0]));const u=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:"bigint"==typeof i?(0,zn.eC)(i):i,toBlock:"bigint"==typeof o?(0,zn.eC)(o):o,...h.length?{topics:h}:{}}]});return{abi:l,args:r,eventName:n?n.name:void 0,fromBlock:i,id:u,request:c(u),strict:a,toBlock:o,type:"event"}}async function Fi(t){const e=Pi(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}const Ni=new Map,Ri=new Map;async function Bi(t,{cacheKey:e,cacheTime:r=1/0}){const n=function(t){const e=(t,e)=>({clear:()=>e.delete(t),get:()=>e.get(t),set:r=>e.set(t,r)}),r=e(t,Ni),n=e(t,Ri);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}(e),s=n.response.get();if(s&&r>0){if((new Date).getTime()-s.created.getTime()<r)return s.data}let i=n.promise.get();i||(i=t(),n.promise.set(i));try{const t=await i;return n.response.set({created:new Date,data:t}),t}finally{n.promise.clear()}}const Li=t=>`blockNumber.${t}`;async function ji(t,{cacheTime:e=t.cacheTime,maxAge:r}={}){const n=await Bi((()=>t.request({method:"eth_blockNumber"})),{cacheKey:Li(t.uid),cacheTime:r??e});return BigInt(n)}var Ui=r(2549);const Gi="/docs/contract/decodeEventLog";function Vi({abi:t,data:e,strict:r,topics:n}){const s=r??!0,[i,...a]=n;if(!i)throw new $n.FM({docsPath:Gi});const o=t.find((t=>"event"===t.type&&i===(0,Si.e)((0,Ci.t)(t))));if(!o||!("name"in o)||"event"!==o.type)throw new $n.lC(i,{docsPath:Gi});const{name:l,inputs:c}=o,h=c?.some((t=>!("name"in t&&t.name)));let u=h?[]:{};const d=c.filter((t=>"indexed"in t&&t.indexed));for(let t=0;t<d.length;t++){const e=d[t],r=a[t];if(!r)throw new $n.Gy({abiItem:o,param:e});u[e.name||t]=zi({param:e,value:r})}const p=c.filter((t=>!("indexed"in t&&t.indexed)));if(p.length>0)if(e&&"0x"!==e)try{const t=(0,Ui.r)(p,e);if(t)if(h)u=[...u,...t];else for(let e=0;e<p.length;e++)u[p[e].name]=t[e]}catch(t){if(s){if(t instanceof $n.xB)throw new $n.SM({abiItem:o,data:t.data,params:t.params,size:t.size});throw t}}else if(s)throw new $n.SM({abiItem:o,data:"0x",params:p,size:0});return{eventName:l,args:Object.values(u).length>0?u:void 0}}function zi({param:t,value:e}){if("string"===t.type||"bytes"===t.type||"tuple"===t.type||t.type.match(/^(.*)\[(\d+)?\]$/))return e;return((0,Ui.r)([t],e)||[])[0]}function $i(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}async function Hi(t,{address:e,blockHash:r,fromBlock:n,toBlock:s,event:i,events:a,args:o,strict:l}={}){const c=l??!1,h=a??(i?[i]:void 0);let u,d=[];return h&&(d=[h.flatMap((t=>Ii({abi:[t],eventName:t.name,args:o})))],i&&(d=d[0])),u=r?await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:r}]}):await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:"bigint"==typeof n?(0,zn.eC)(n):n,toBlock:"bigint"==typeof s?(0,zn.eC)(s):s}]}),u.map((t=>{try{const{eventName:e,args:r}=h?Vi({abi:h,data:t.data,topics:t.topics,strict:c}):{eventName:void 0,args:void 0};return $i(t,{args:r,eventName:e})}catch(e){let r,n;if(e instanceof $n.SM||e instanceof $n.Gy){if(c)return;r=e.abiItem.name,n=e.abiItem.inputs?.some((t=>!("name"in t&&t.name)))}return $i(t,{args:n?[]:{},eventName:r})}})).filter(Boolean)}async function qi(t,{abi:e,address:r,args:n,blockHash:s,eventName:i,fromBlock:a,toBlock:o,strict:l}){const c=i?(0,Ti.mE)({abi:e,name:i}):void 0,h=c?void 0:e.filter((t=>"event"===t.type));return ns(t,Hi,"getLogs")({address:r,args:n,blockHash:s,event:c,events:h,fromBlock:a,toBlock:o,strict:l})}async function Wi(t,{blockCount:e,blockNumber:r,blockTag:n="latest",rewardPercentiles:s}){const i=r?(0,zn.eC)(r):void 0;return function(t){return{baseFeePerGas:t.baseFeePerGas.map((t=>BigInt(t))),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map((t=>t.map((t=>BigInt(t)))))}}(await t.request({method:"eth_feeHistory",params:[(0,zn.eC)(e),i||n,s]}))}async function Ki(t,{filter:e}){const r="strict"in e&&e.strict;return(await e.request({method:"eth_getFilterChanges",params:[e.id]})).map((t=>{if("string"==typeof t)return t;try{const{eventName:n,args:s}="abi"in e&&e.abi?Vi({abi:e.abi,data:t.data,topics:t.topics,strict:r}):{eventName:void 0,args:void 0};return $i(t,{args:s,eventName:n})}catch(r){let n,s;if(r instanceof $n.SM||r instanceof $n.Gy){if("strict"in e&&e.strict)return;n=r.abiItem.name,s=r.abiItem.inputs?.some((t=>!("name"in t&&t.name)))}return $i(t,{args:s?[]:{},eventName:n})}})).filter(Boolean)}async function Ji(t,{address:e,blockNumber:r,blockTag:n,storageKeys:s}){const i=n??"latest",a=void 0!==r?(0,zn.eC)(r):void 0;return function(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?(0,Gn.ly)(t.nonce):void 0,storageProof:t.storageProof?(e=t.storageProof,e.map((t=>({...t,value:BigInt(t.value)})))):void 0};var e}(await t.request({method:"eth_getProof",params:[e,s,a||i]}))}async function Qi(t,{blockHash:e,blockNumber:r,blockTag:n,hash:s,index:i}){const a=n||"latest",o=void 0!==r?(0,zn.eC)(r):void 0;let l=null;if(s?l=await t.request({method:"eth_getTransactionByHash",params:[s]}):e?l=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,(0,zn.eC)(i)]}):(o||a)&&(l=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[o||a,(0,zn.eC)(i)]})),!l)throw new Xn.Bh({blockHash:e,blockNumber:r,blockTag:a,hash:s,index:i});return(t.chain?.formatters?.transaction?.format||us)(l)}const Yi={"0x0":"reverted","0x1":"success"};function Zi(t){return{...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map((t=>$i(t))):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?(0,Gn.ly)(t.transactionIndex):null,status:t.status?Yi[t.status]:null,type:t.type?hs[t.type]||t.type:null}}async function Xi(t,{hash:e}){const r=await t.request({method:"eth_getTransactionReceipt",params:[e]});if(!r)throw new Xn.Yb({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||Zi)(r)}async function ta(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}const ea="Ethereum Signed Message:\n";const ra="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";BigInt(0),BigInt(1),BigInt(2);async function na(t,{address:e,hash:r,signature:n,...s}){const i=(0,As.v)(n)?n:(0,zn.NC)(n);try{const{data:n}=await ns(t,ci.R,"call")({data:Kn({abi:Ks.$o,args:[e,r,i],bytecode:ra}),...s});return a=n??"0x0",o="0x1",function(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}((0,As.v)(a)?(0,ei.O0)(a):a,(0,As.v)(o)?(0,ei.O0)(o):o)}catch(t){if(t instanceof Xs.cg)return!1;throw t}var a,o}async function sa(t,{address:e,message:r,signature:n,...s}){const i=function(t,e){const r="string"==typeof t?(0,ei.qX)(t):t.raw instanceof Uint8Array?t.raw:(0,ei.O0)(t.raw),n=(0,ei.qX)(`${ea}${r.length}`);return(0,ri.w)((0,Hn.zo)([n,r]),e)}(r);return na(t,{address:e,hash:i,signature:n,...s})}function ia({domain:t,message:e,primaryType:r,types:n}){const s=void 0===t?{}:t,i={EIP712Domain:Os({domain:s}),...n};Ms({domain:s,message:e,primaryType:r,types:i});const a=["0x1901"];return s&&a.push(function({domain:t,types:e}){return aa({data:t,primaryType:"EIP712Domain",types:e})}({domain:s,types:i})),"EIP712Domain"!==r&&a.push(aa({data:e,primaryType:r,types:i})),(0,ri.w)((0,Hn.zo)(a))}function aa({data:t,primaryType:e,types:r}){const n=oa({data:t,primaryType:e,types:r});return(0,ri.w)(n)}function oa({data:t,primaryType:e,types:r}){const n=[{type:"bytes32"}],s=[la({primaryType:e,types:r})];for(const i of r[e]){const[e,a]=ha({types:r,name:i.name,type:i.type,value:t[i.name]});n.push(e),s.push(a)}return(0,qn.E)(n,s)}function la({primaryType:t,types:e}){const r=(0,zn.NC)(function({primaryType:t,types:e}){let r="";const n=ca({primaryType:t,types:e});n.delete(t);const s=[t,...Array.from(n).sort()];for(const t of s)r+=`${t}(${e[t].map((({name:t,type:e})=>`${e} ${t}`)).join(",")})`;return r}({primaryType:t,types:e}));return(0,ri.w)(r)}function ca({primaryType:t,types:e},r=new Set){const n=t.match(/^\w*/u),s=n?.[0];if(r.has(s)||void 0===e[s])return r;r.add(s);for(const t of e[s])ca({primaryType:t.type,types:e},r);return r}function ha({types:t,name:e,type:r,value:n}){if(void 0!==t[r])return[{type:"bytes32"},(0,ri.w)(oa({data:n,primaryType:r,types:t}))];if("bytes"===r){return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},(0,ri.w)(n)]}if("string"===r)return[{type:"bytes32"},(0,ri.w)((0,zn.NC)(n))];if(r.lastIndexOf("]")===r.length-1){const s=r.slice(0,r.lastIndexOf("[")),i=n.map((r=>ha({name:e,type:s,types:t,value:r})));return[{type:"bytes32"},(0,ri.w)((0,qn.E)(i.map((([t])=>t)),i.map((([,t])=>t))))]}return[{type:r},n]}const ua=new Map,da=new Map;let pa=0;function fa(t,e,r){const n=++pa,s=()=>ua.get(t)||[],i=()=>{const e=da.get(t);1===s().length&&e&&e(),(()=>{const e=s();ua.set(t,e.filter((t=>t.id!==n)))})()},a=s();if(ua.set(t,[...a,{id:n,fns:e}]),a&&a.length>0)return i;const o={};for(const t in e)o[t]=(...e)=>{const r=s();if(0!==r.length)for(const n of r)n.fns[t]?.(...e)};const l=r(o);return"function"==typeof l&&da.set(t,l),i}function ma(t,{emitOnBegin:e,initialWaitTime:r,interval:n}){let s=!0;const i=()=>s=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));const o=await(r?.(a))??n;await Rs(o);const l=async()=>{s&&(await t({unpoll:i}),await Rs(n),l())};l()})(),i}function ga(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:n,onError:s,poll:i,pollingInterval:a=t.pollingInterval}){let o;return(void 0!==i?i:"webSocket"!==t.transport.type)?fa((0,Ps.P)(["watchBlockNumber",t.uid,e,r,a]),{onBlockNumber:n,onError:s},(n=>ma((async()=>{try{const e=await ns(t,ji,"getBlockNumber")({cacheTime:0});if(o){if(e===o)return;if(e-o>1&&r)for(let t=o+1n;t<e;t++)n.onBlockNumber(t,o),o=t}(!o||e>o)&&(n.onBlockNumber(e,o),o=e)}catch(t){n.onError?.(t)}}),{emitOnBegin:e,interval:a}))):(()=>{let e=!0,r=()=>e=!1;return(async()=>{try{const{unsubscribe:i}=await t.transport.subscribe({params:["newHeads"],onData(t){if(!e)return;const r=(0,Gn.y_)(t.result?.number);n(r,o),o=r},onError(t){s?.(t)}});r=i,e||r()}catch(t){s?.(t)}})(),r})()}function ya(t){return{call:e=>(0,ci.R)(t,e),createBlockFilter:()=>async function(t){const e=Pi(t,{method:"eth_newBlockFilter"}),r=await t.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}(t),createContractEventFilter:e=>Oi(t,e),createEventFilter:e=>Di(t,e),createPendingTransactionFilter:()=>Fi(t),estimateContractGas:e=>async function(t,{abi:e,address:r,args:n,functionName:s,...i}){const a=(0,Ds.R)({abi:e,args:n,functionName:s});try{return await ns(t,vs,"estimateGas")({data:a,to:r,...i})}catch(t){const a=i.account?(0,Nn.T)(i.account):void 0;throw li(t,{abi:e,address:r,args:n,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:a?.address})}}(t,e),estimateGas:e=>vs(t,e),getBalance:e=>async function(t,{address:e,blockNumber:r,blockTag:n="latest"}){const s=r?(0,zn.eC)(r):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||n]});return BigInt(i)}(t,e),getBlock:e=>ps(t,e),getBlockNumber:e=>ji(t,e),getBlockTransactionCount:e=>async function(t,{blockHash:e,blockNumber:r,blockTag:n="latest"}={}){const s=void 0!==r?(0,zn.eC)(r):void 0;let i;return i=e?await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]}):await t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||n]}),(0,Gn.ly)(i)}(t,e),getBytecode:e=>async function(t,{address:e,blockNumber:r,blockTag:n="latest"}){const s=void 0!==r?(0,zn.eC)(r):void 0,i=await t.request({method:"eth_getCode",params:[e,s||n]});if("0x"!==i)return i}(t,e),getChainId:()=>Vn(t),getContractEvents:e=>qi(t,e),getEnsAddress:e=>async function(t,{blockNumber:e,blockTag:r,coinType:n,name:s,universalResolverAddress:i}){let a=i;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=(0,Qs.L)({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}try{const i=(0,Ds.R)({abi:Ks.X$,functionName:"addr",...null!=n?{args:[si(s),BigInt(n)]}:{args:[si(s)]}}),o=await ns(t,hi,"readContract")({address:a,abi:Ks.k3,functionName:"resolve",args:[(0,zn.NC)(ai(s)),i],blockNumber:e,blockTag:r});if("0x"===o[0])return null;const l=(0,Js.k)({abi:Ks.X$,args:null!=n?[si(s),BigInt(n)]:void 0,functionName:"addr",data:o[0]});return"0x"===l||"0x00"===(0,Ys.f)(l)?null:l}catch(t){if(ti(t,"resolve"))return null;throw t}}(t,e),getEnsAvatar:e=>async function(t,{blockNumber:e,blockTag:r,gatewayUrls:n,name:s,universalResolverAddress:i}){const a=await ns(t,Ai,"getEnsText")({blockNumber:e,blockTag:r,key:"avatar",name:s,universalResolverAddress:i});if(!a)return null;try{return await ki(t,{record:a,gatewayUrls:n})}catch{return null}}(t,e),getEnsName:e=>async function(t,{address:e,blockNumber:r,blockTag:n,universalResolverAddress:s}){let i=s;if(!i){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=(0,Qs.L)({blockNumber:r,chain:t.chain,contract:"ensUniversalResolver"})}const a=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const[s,o]=await ns(t,hi,"readContract")({address:i,abi:Ks.du,functionName:"reverse",args:[(0,zn.NC)(ai(a))],blockNumber:r,blockTag:n});return e.toLowerCase()!==o.toLowerCase()?null:s}catch(t){if(ti(t,"reverse"))return null;throw t}}(t,e),getEnsResolver:e=>async function(t,{blockNumber:e,blockTag:r,name:n,universalResolverAddress:s}){let i=s;if(!i){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=(0,Qs.L)({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const[a]=await ns(t,hi,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,zn.NC)(ai(n))],blockNumber:e,blockTag:r});return a}(t,e),getEnsText:e=>Ai(t,e),getFeeHistory:e=>Wi(t,e),estimateFeesPerGas:e=>async function(t,e){return gs(t,e)}(t,e),getFilterChanges:t=>Ki(0,t),getFilterLogs:t=>async function(t,{filter:e}){const r=e.strict??!1;return(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map((t=>{try{const{eventName:n,args:s}="abi"in e&&e.abi?Vi({abi:e.abi,data:t.data,topics:t.topics,strict:r}):{eventName:void 0,args:void 0};return $i(t,{args:s,eventName:n})}catch(r){let n,s;if(r instanceof $n.SM||r instanceof $n.Gy){if("strict"in e&&e.strict)return;n=r.abiItem.name,s=r.abiItem.inputs?.some((t=>!("name"in t&&t.name)))}return $i(t,{args:s?[]:{},eventName:n})}})).filter(Boolean)}(0,t),getGasPrice:()=>fs(t),getLogs:e=>Hi(t,e),getProof:e=>Ji(t,e),estimateMaxPriorityFeePerGas:e=>async function(t,e){return ms(t,e)}(t,e),getStorageAt:e=>async function(t,{address:e,blockNumber:r,blockTag:n="latest",slot:s}){const i=void 0!==r?(0,zn.eC)(r):void 0;return await t.request({method:"eth_getStorageAt",params:[e,s,i||n]})}(t,e),getTransaction:e=>Qi(t,e),getTransactionConfirmations:e=>async function(t,{hash:e,transactionReceipt:r}){const[n,s]=await Promise.all([ns(t,ji,"getBlockNumber")({}),e?ns(t,Qi,"getBlockNumber")({hash:e}):void 0]),i=r?.blockNumber||s?.blockNumber;return i?n-i+1n:0n}(t,e),getTransactionCount:e=>ws(t,e),getTransactionReceipt:e=>Xi(t,e),multicall:e=>async function(t,e){const{allowFailure:r=!0,batchSize:n,blockNumber:s,blockTag:i,contracts:a,multicallAddress:o}=e,l=n??("object"==typeof t.batch?.multicall&&t.batch.multicall.batchSize||1024);let c=o;if(!c){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");c=(0,Qs.L)({blockNumber:s,chain:t.chain,contract:"multicall3"})}const h=[[]];let u=0,d=0;for(let t=0;t<a.length;t++){const{abi:e,address:n,args:s,functionName:i}=a[t];try{const t=(0,Ds.R)({abi:e,args:s,functionName:i});d+=(t.length-2)/2,l>0&&d>l&&h[u].length>0&&(u++,d=(t.length-2)/2,h[u]=[]),h[u]=[...h[u],{allowFailure:!0,callData:t,target:n}]}catch(t){const a=li(t,{abi:e,address:n,args:s,docsPath:"/docs/contract/multicall",functionName:i});if(!r)throw a;h[u]=[...h[u],{allowFailure:!0,callData:"0x",target:n}]}}const p=await Promise.allSettled(h.map((e=>ns(t,hi,"readContract")({abi:Ks.F8,address:c,args:[e],blockNumber:s,blockTag:i,functionName:"aggregate3"})))),f=[];for(let t=0;t<p.length;t++){const e=p[t];if("rejected"===e.status){if(!r)throw e.reason;for(let r=0;r<h[t].length;r++)f.push({status:"failure",error:e.reason,result:void 0});continue}const n=e.value;for(let e=0;e<n.length;e++){const{returnData:s,success:i}=n[e],{callData:o}=h[t][e],{abi:l,address:c,functionName:u,args:d}=a[f.length];try{if("0x"===o)throw new $n.wb;if(!i)throw new Xs.VQ({data:s});const t=(0,Js.k)({abi:l,args:d,data:s,functionName:u});f.push(r?{result:t,status:"success"}:t)}catch(t){const e=li(t,{abi:l,address:c,args:d,docsPath:"/docs/contract/multicall",functionName:u});if(!r)throw e;f.push({error:e,result:void 0,status:"failure"})}}}if(f.length!==a.length)throw new dn.G("multicall results mismatch");return f}(t,e),prepareTransactionRequest:e=>Es(t,e),readContract:e=>hi(t,e),sendRawTransaction:e=>xs(t,e),simulateContract:e=>async function(t,{abi:e,address:r,args:n,dataSuffix:s,functionName:i,...a}){const o=a.account?(0,Nn.T)(a.account):void 0,l=(0,Ds.R)({abi:e,args:n,functionName:i});try{const{data:o}=await ns(t,ci.R,"call")({batch:!1,data:`${l}${s?s.replace("0x",""):""}`,to:r,...a});return{result:(0,Js.k)({abi:e,args:n,functionName:i,data:o||"0x"}),request:{abi:e,address:r,args:n,dataSuffix:s,functionName:i,...a}}}catch(t){throw li(t,{abi:e,address:r,args:n,docsPath:"/docs/contract/simulateContract",functionName:i,sender:o?.address})}}(t,e),verifyMessage:e=>sa(t,e),verifyTypedData:e=>async function(t,{address:e,signature:r,message:n,primaryType:s,types:i,domain:a,...o}){return na(t,{address:e,hash:ia({message:n,primaryType:s,types:i,domain:a}),signature:r,...o})}(t,e),uninstallFilter:t=>ta(0,t),waitForTransactionReceipt:e=>async function(t,{confirmations:e=1,hash:r,onReplaced:n,pollingInterval:s=t.pollingInterval,timeout:i}){const a=(0,Ps.P)(["waitForTransactionReceipt",t.uid,r]);let o,l,c,h=!1;return new Promise(((u,d)=>{i&&setTimeout((()=>d(new Xn.mc({hash:r}))),i);const p=fa(a,{onReplaced:n,resolve:u,reject:d},(n=>{const i=ns(t,ga,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(s){if(h)return;let a=s;const u=t=>{i(),t(),p()};try{if(c){if(e>1&&(!c.blockNumber||a-c.blockNumber+1n<e))return;return void u((()=>n.resolve(c)))}if(o||(h=!0,await Bs((async()=>{o=await ns(t,Qi,"getTransaction")({hash:r}),o.blockNumber&&(a=o.blockNumber)}),{delay:({count:t})=>200*~~(1<<t),retryCount:6}),h=!1),c=await ns(t,Xi,"getTransactionReceipt")({hash:r}),e>1&&(!c.blockNumber||a-c.blockNumber+1n<e))return;u((()=>n.resolve(c)))}catch(r){if(o&&(r instanceof Xn.Bh||r instanceof Xn.Yb))try{l=o,h=!0;const r=await Bs((()=>ns(t,ps,"getBlock")({blockNumber:a,includeTransactions:!0})),{delay:({count:t})=>200*~~(1<<t),retryCount:6,shouldRetry:({error:t})=>t instanceof cs});h=!1;const s=r.transactions.find((({from:t,nonce:e})=>t===l.from&&e===l.nonce));if(!s)return;if(c=await ns(t,Xi,"getTransactionReceipt")({hash:s.hash}),e>1&&(!c.blockNumber||a-c.blockNumber+1n<e))return;let i="replaced";s.to===l.to&&s.value===l.value?i="repriced":s.from===s.to&&0n===s.value&&(i="cancelled"),u((()=>{n.onReplaced?.({reason:i,replacedTransaction:l,transaction:s,transactionReceipt:c}),n.resolve(c)}))}catch(t){u((()=>n.reject(t)))}else u((()=>n.reject(r)))}}})}))}))}(t,e),watchBlocks:e=>function(t,{blockTag:e="latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:s,onError:i,includeTransactions:a,poll:o,pollingInterval:l=t.pollingInterval}){const c=void 0!==o?o:"webSocket"!==t.transport.type,h=a??!1;let u;return c?fa((0,Ps.P)(["watchBlocks",t.uid,r,n,h,l]),{onBlock:s,onError:i},(s=>ma((async()=>{try{const n=await ns(t,ps,"getBlock")({blockTag:e,includeTransactions:h});if(n.number&&u?.number){if(n.number===u.number)return;if(n.number-u.number>1&&r)for(let e=u?.number+1n;e<n.number;e++){const r=await ns(t,ps,"getBlock")({blockNumber:e,includeTransactions:h});s.onBlock(r,u),u=r}}(!u?.number||"pending"===e&&!n?.number||n.number&&n.number>u.number)&&(s.onBlock(n,u),u=n)}catch(t){s.onError?.(t)}}),{emitOnBegin:n,interval:l}))):(()=>{let e=!0,r=()=>e=!1;return(async()=>{try{const{unsubscribe:n}=await t.transport.subscribe({params:["newHeads"],onData(r){if(!e)return;const n=(t.chain?.formatters?.block?.format||ds)(r.result);s(n,u),u=n},onError(t){i?.(t)}});r=n,e||r()}catch(t){i?.(t)}})(),r})()}(t,e),watchBlockNumber:e=>ga(t,e),watchContractEvent:e=>function(t,{abi:e,address:r,args:n,batch:s=!0,eventName:i,onError:a,onLogs:o,poll:l,pollingInterval:c=t.pollingInterval,strict:h}){return(void 0!==l?l:"webSocket"!==t.transport.type)?(()=>{const l=(0,Ps.P)(["watchContractEvent",r,n,s,t.uid,i,c]),u=h??!1;return fa(l,{onLogs:o,onError:a},(a=>{let o,l,h=!1;const d=ma((async()=>{if(h)try{let c;if(l)c=await ns(t,Ki,"getFilterChanges")({filter:l});else{const s=await ns(t,ji,"getBlockNumber")({});c=o&&o!==s?await ns(t,qi,"getContractEvents")({abi:e,address:r,args:n,eventName:i,fromBlock:o+1n,toBlock:s,strict:u}):[],o=s}if(0===c.length)return;if(s)a.onLogs(c);else for(const t of c)a.onLogs([t])}catch(t){l&&t instanceof En&&(h=!1),a.onError?.(t)}else{try{l=await ns(t,Oi,"createContractEventFilter")({abi:e,address:r,args:n,eventName:i,strict:u})}catch{}h=!0}}),{emitOnBegin:!0,interval:c});return async()=>{l&&await ns(t,ta,"uninstallFilter")({filter:l}),d()}}))})():(()=>{let s=!0,l=()=>s=!1;return(async()=>{try{const c=i?Ii({abi:e,eventName:i,args:n}):[],{unsubscribe:u}=await t.transport.subscribe({params:["logs",{address:r,topics:c}],onData(t){if(!s)return;const r=t.result;try{const{eventName:t,args:n}=Vi({abi:e,data:r.data,topics:r.topics,strict:h}),s=$i(r,{args:n,eventName:t});o([s])}catch(t){let e,n;if(t instanceof $n.SM||t instanceof $n.Gy){if(h)return;e=t.abiItem.name,n=t.abiItem.inputs?.some((t=>!("name"in t&&t.name)))}const s=$i(r,{args:n?[]:{},eventName:e});o([s])}},onError(t){a?.(t)}});l=u,s||l()}catch(t){a?.(t)}})(),l})()}(t,e),watchEvent:e=>function(t,{address:e,args:r,batch:n=!0,event:s,events:i,onError:a,onLogs:o,poll:l,pollingInterval:c=t.pollingInterval,strict:h}){const u=void 0!==l?l:"webSocket"!==t.transport.type,d=h??!1;return u?fa((0,Ps.P)(["watchEvent",e,r,n,t.uid,s,c]),{onLogs:o,onError:a},(a=>{let o,l,h=!1;const u=ma((async()=>{if(h)try{let c;if(l)c=await ns(t,Ki,"getFilterChanges")({filter:l});else{const n=await ns(t,ji,"getBlockNumber")({});c=o&&o!==n?await ns(t,Hi,"getLogs")({address:e,args:r,event:s,events:i,fromBlock:o+1n,toBlock:n}):[],o=n}if(0===c.length)return;if(n)a.onLogs(c);else for(const t of c)a.onLogs([t])}catch(t){l&&t instanceof En&&(h=!1),a.onError?.(t)}else{try{l=await ns(t,Di,"createEventFilter")({address:e,args:r,event:s,events:i,strict:d})}catch{}h=!0}}),{emitOnBegin:!0,interval:c});return async()=>{l&&await ns(t,ta,"uninstallFilter")({filter:l}),u()}})):(()=>{let n=!0,l=()=>n=!1;return(async()=>{try{const c=i??(s?[s]:void 0);let u=[];c&&(u=[c.flatMap((t=>Ii({abi:[t],eventName:t.name,args:r})))],s&&(u=u[0]));const{unsubscribe:p}=await t.transport.subscribe({params:["logs",{address:e,topics:u}],onData(t){if(!n)return;const e=t.result;try{const{eventName:t,args:r}=Vi({abi:c,data:e.data,topics:e.topics,strict:d}),n=$i(e,{args:r,eventName:t});o([n])}catch(t){let r,n;if(t instanceof $n.SM||t instanceof $n.Gy){if(h)return;r=t.abiItem.name,n=t.abiItem.inputs?.some((t=>!("name"in t&&t.name)))}const s=$i(e,{args:n?[]:{},eventName:r});o([s])}},onError(t){a?.(t)}});l=p,n||l()}catch(t){a?.(t)}})(),l})()}(t,e),watchPendingTransactions:e=>function(t,{batch:e=!0,onError:r,onTransactions:n,poll:s,pollingInterval:i=t.pollingInterval}){return(void 0!==s?s:"webSocket"!==t.transport.type)?fa((0,Ps.P)(["watchPendingTransactions",t.uid,e,i]),{onTransactions:n,onError:r},(r=>{let n;const s=ma((async()=>{try{if(!n)try{return void(n=await ns(t,Fi,"createPendingTransactionFilter")({}))}catch(t){throw s(),t}const i=await ns(t,Ki,"getFilterChanges")({filter:n});if(0===i.length)return;if(e)r.onTransactions(i);else for(const t of i)r.onTransactions([t])}catch(t){r.onError?.(t)}}),{emitOnBegin:!0,interval:i});return async()=>{n&&await ns(t,ta,"uninstallFilter")({filter:n}),s()}})):(()=>{let e=!0,s=()=>e=!1;return(async()=>{try{const{unsubscribe:i}=await t.transport.subscribe({params:["newPendingTransactions"],onData(t){if(!e)return;const r=t.result;n([r])},onError(t){r?.(t)}});s=i,e||s()}catch(t){r?.(t)}})(),s})()}(t,e)}}function ba(t){const{key:e="public",name:r="Public Client"}=t;return Un({...t,key:e,name:r,type:"publicClient"}).extend(ya)}function va(t,e={}){const{key:r="fallback",name:n="Fallback",rank:s=!1,retryCount:i,retryDelay:a}=e;return({chain:e,pollingInterval:o=4e3,timeout:l})=>{let c=t,h=()=>{};const u=Us({key:r,name:n,async request({method:t,params:r}){const n=async(s=0)=>{const i=c[s]({chain:e,retryCount:0,timeout:l});try{const e=await i.request({method:t,params:r});return h({method:t,params:r,response:e,transport:i,status:"success"}),e}catch(e){if(h({error:e,method:t,params:r,transport:i,status:"error"}),Ls(e))throw e;if(s===c.length-1)throw e;return n(s+1)}};return n()},retryCount:i,retryDelay:a,type:"fallback"},{onResponse:t=>h=t,transports:c.map((t=>t({chain:e,retryCount:0})))});if(s){const t="object"==typeof s?s:{};!function({chain:t,interval:e=4e3,onTransports:r,sampleCount:n=10,timeout:s=1e3,transports:i,weights:a={}}){const{stability:o=.7,latency:l=.3}=a,c=[],h=async()=>{const a=await Promise.all(i.map((async e=>{const r=e({chain:t,retryCount:0,timeout:s}),n=Date.now();let i,a;try{await r.request({method:"net_listening"}),a=1}catch{a=0}finally{i=Date.now()}return{latency:i-n,success:a}})));c.push(a),c.length>n&&c.shift();const u=Math.max(...c.map((t=>Math.max(...t.map((({latency:t})=>t)))))),d=i.map(((t,e)=>{const r=c.map((t=>t[e].latency)),n=1-r.reduce(((t,e)=>t+e),0)/r.length/u,s=c.map((t=>t[e].success)),i=s.reduce(((t,e)=>t+e),0)/s.length;return 0===i?[0,e]:[l*n+o*i,e]})).sort(((t,e)=>e[0]-t[0]));r(d.map((([,t])=>i[t]))),await Rs(e),h()};h()}({chain:e,interval:t.interval??o,onTransports:t=>c=t,sampleCount:t.sampleCount,timeout:t.timeout,transports:c,weights:t.weights})}return u}}class wa extends dn.G{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}var Ea=r(4426);const xa=function(){if("undefined"!=typeof WebSocket)return WebSocket;if(void 0!==global.WebSocket)return global.WebSocket;if(void 0!==window.WebSocket)return window.WebSocket;if(void 0!==self.WebSocket)return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}();function ka(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise(((s,i)=>{(async()=>{let a;try{const o=new AbortController;r>0&&(a=setTimeout((()=>{n?o.abort():i(e)}),r)),s(await t({signal:o?.signal}))}catch(t){"AbortError"===t.name&&i(e),i(t)}finally{clearTimeout(a)}})()}))}let Aa=0;const Pa=new Map;async function _a(t){let e=Pa.get(t);if(e)return e;const{schedule:r}=(0,Ea.S)({id:t,fn:async()=>{const r=new xa(t),n=new Map,s=new Map,i=({data:t})=>{const e=JSON.parse(t),r="eth_subscription"===e.method,i=r?e.params.subscription:e.id,a=r?s:n,o=a.get(i);o&&o({data:t}),r||a.delete(i)},a=()=>{Pa.delete(t),r.removeEventListener("close",a),r.removeEventListener("message",i)};return r.addEventListener("close",a),r.addEventListener("message",i),r.readyState===xa.CONNECTING&&await new Promise(((t,e)=>{r&&(r.onopen=t,r.onerror=e)})),e=Object.assign(r,{requests:n,subscriptions:s}),Pa.set(t,e),[e]}}),[n,[s]]=await r();return s}const Sa={http:async function(t,{body:e,fetchOptions:r={},timeout:n=1e4}){const{headers:s,method:i,signal:a}=r;try{const o=await ka((async({signal:o})=>await fetch(t,{...r,body:Array.isArray(e)?(0,Ps.P)(e.map((t=>({jsonrpc:"2.0",id:t.id??Aa++,...t})))):(0,Ps.P)({jsonrpc:"2.0",id:e.id??Aa++,...e}),headers:{...s,"Content-Type":"application/json"},method:i||"POST",signal:a||(n>0?o:void 0)})),{errorInstance:new pn.W5({body:e,url:t}),timeout:n,signal:!0});let l;if(l=o.headers.get("Content-Type")?.startsWith("application/json")?await o.json():await o.text(),!o.ok)throw new pn.Gg({body:e,details:(0,Ps.P)(l.error)||o.statusText,headers:o.headers,status:o.status,url:t});return l}catch(r){if(r instanceof pn.Gg)throw r;if(r instanceof pn.W5)throw r;throw new pn.Gg({body:e,details:r.message,url:t})}},webSocket:function(t,{body:e,onResponse:r}){if(t.readyState===t.CLOSED||t.readyState===t.CLOSING)throw new pn.c9({body:e,url:t.url,details:"Socket is closed."});const n=Aa++,s=({data:i})=>{const a=JSON.parse(i);"number"==typeof a.id&&n!==a.id||(r?.(a),"eth_subscribe"===e.method&&"string"==typeof a.result&&t.subscriptions.set(a.result,s),"eth_unsubscribe"===e.method&&t.subscriptions.delete(e.params?.[0]))};return t.requests.set(n,s),t.send(JSON.stringify({jsonrpc:"2.0",...e,id:n})),t},webSocketAsync:async function(t,{body:e,timeout:r=1e4}){return ka((()=>new Promise((r=>Sa.webSocket(t,{body:e,onResponse:r})))),{errorInstance:new pn.W5({body:e,url:t.url}),timeout:r})}};var Ca=r(3339);const Ta=t=>(e,r,n)=>{const s=n.subscribe;n.subscribe=(t,e,r)=>{let i=t;if(e){const s=(null==r?void 0:r.equalityFn)||Object.is;let a=t(n.getState());i=r=>{const n=t(r);if(!s(a,n)){const t=a;e(a=n,t)}},(null==r?void 0:r.fireImmediately)&&e(a,a)}return s(i)};return t(e,r,n)};function Ia(t,e){let r;try{r=t()}catch(t){return}return{getItem:t=>{var n;const s=t=>null===t?null:JSON.parse(t,null==e?void 0:e.reviver),i=null!=(n=r.getItem(t))?n:null;return i instanceof Promise?i.then(s):s(i)},setItem:(t,n)=>r.setItem(t,JSON.stringify(n,null==e?void 0:e.replacer)),removeItem:t=>r.removeItem(t)}}const Ma=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then:t=>Ma(t)(r),catch(t){return this}}}catch(t){return{then(t){return this},catch:e=>Ma(e)(t)}}},Oa=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),((t,e)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:t=>t,version:0,merge:(t,e)=>({...e,...t}),...e},a=!1;const o=new Set,l=new Set;let c;try{c=i.getStorage()}catch(t){}if(!c)return t(((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...t)}),n,s);const h=Ma(i.serialize),u=()=>{const t=i.partialize({...n()});let e;const r=h({state:t,version:i.version}).then((t=>c.setItem(i.name,t))).catch((t=>{e=t}));if(e)throw e;return r},d=s.setState;s.setState=(t,e)=>{d(t,e),u()};const p=t(((...t)=>{r(...t),u()}),n,s);let f;const m=()=>{var t;if(!c)return;a=!1,o.forEach((t=>t(n())));const e=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,n()))||void 0;return Ma(c.getItem.bind(c))(i.name).then((t=>{if(t)return i.deserialize(t)})).then((t=>{if(t){if("number"!=typeof t.version||t.version===i.version)return t.state;if(i.migrate)return i.migrate(t.state,t.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((t=>{var e;return f=i.merge(t,null!=(e=n())?e:p),r(f,!0),u()})).then((()=>{null==e||e(f,void 0),a=!0,l.forEach((t=>t(f)))})).catch((t=>{null==e||e(void 0,t)}))};return s.persist={setOptions:t=>{i={...i,...t},t.getStorage&&(c=t.getStorage())},clearStorage:()=>{null==c||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:t=>(o.add(t),()=>{o.delete(t)}),onFinishHydration:t=>(l.add(t),()=>{l.delete(t)})},m(),f||p})(t,e)):((t,e)=>(r,n,s)=>{let i={storage:Ia((()=>localStorage)),partialize:t=>t,version:0,merge:(t,e)=>({...e,...t}),...e},a=!1;const o=new Set,l=new Set;let c=i.storage;if(!c)return t(((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...t)}),n,s);const h=()=>{const t=i.partialize({...n()});return c.setItem(i.name,{state:t,version:i.version})},u=s.setState;s.setState=(t,e)=>{u(t,e),h()};const d=t(((...t)=>{r(...t),h()}),n,s);let p;s.getInitialState=()=>d;const f=()=>{var t,e;if(!c)return;a=!1,o.forEach((t=>{var e;return t(null!=(e=n())?e:d)}));const s=(null==(e=i.onRehydrateStorage)?void 0:e.call(i,null!=(t=n())?t:d))||void 0;return Ma(c.getItem.bind(c))(i.name).then((t=>{if(t){if("number"!=typeof t.version||t.version===i.version)return t.state;if(i.migrate)return i.migrate(t.state,t.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((t=>{var e;return p=i.merge(t,null!=(e=n())?e:d),r(p,!0),h()})).then((()=>{null==s||s(p,void 0),p=n(),a=!0,l.forEach((t=>t(p)))})).catch((t=>{null==s||s(void 0,t)}))};return s.persist={setOptions:t=>{i={...i,...t},t.storage&&(c=t.storage)},clearStorage:()=>{null==c||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>a,onHydrate:t=>(o.add(t),()=>{o.delete(t)}),onFinishHydration:t=>(l.add(t),()=>{l.delete(t)})},i.skipHydration||f(),p||d})(t,e),Da=t=>{let e;const r=new Set,n=(t,n)=>{const s="function"==typeof t?t(e):t;if(!Object.is(s,e)){const t=e;e=(null!=n?n:"object"!=typeof s||null===s)?s:Object.assign({},e,s),r.forEach((r=>r(e,t)))}},s=()=>e,i={setState:n,getState:s,getInitialState:()=>a,subscribe:t=>(r.add(t),()=>r.delete(t)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},a=e=t(n,s,i);return i},Fa=t=>t?Da(t):Da;var Na=r(6613);function Ra(t,e){if(Object.is(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,n]of t)if(!Object.is(n,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(e,r[n])||!Object.is(t[r[n]],e[r[n]]))return!1;return!0}function Ba(t,e,{batch:r={multicall:{wait:32}},pollingInterval:n=4e3,rank:s,retryCount:i,retryDelay:a,stallTimeout:o}={}){if(!t.length)throw new Error("must have at least one chain");let l=[];const c={},h={};for(const r of t){let t=!1;for(const n of e){const e=n(r);e&&(t=!0,l.some((({id:t})=>t===r.id))||(l=[...l,e.chain]),c[r.id]=[...c[r.id]||[],...e.rpcUrls.http],e.rpcUrls.webSocket&&(h[r.id]=[...h[r.id]||[],...e.rpcUrls.webSocket]))}if(!t)throw new Error([`Could not find valid provider configuration for chain "${r.name}".\n`,"You may need to add `jsonRpcProvider` to `configureChains` with the chain's RPC URLs.","Read more: https://wagmi.sh/core/providers/jsonRpc"].join("\n"))}return{chains:l,publicClient:({chainId:e})=>{const h=l.find((t=>t.id===e))??t[0],u=c[h.id];if(!u||!u[0])throw new Error(`No providers configured for chain "${h.id}"`);const d=ba({batch:r,chain:h,transport:va(u.map((t=>function(t,e={}){const{batch:r,fetchOptions:n,key:s="http",name:i="HTTP JSON-RPC",retryDelay:a}=e;return({chain:o,retryCount:l,timeout:c})=>{const{batchSize:h=1e3,wait:u=0}="object"==typeof r?r:{},d=e.retryCount??l,p=c??e.timeout??1e4,f=t||o?.rpcUrls.default.http[0];if(!f)throw new wa;return Us({key:s,name:i,async request({method:e,params:s}){const i={method:e,params:s},{schedule:a}=(0,Ea.S)({id:`${t}`,wait:u,shouldSplitBatch:t=>t.length>h,fn:t=>Sa.http(f,{body:t,fetchOptions:n,timeout:p}),sort:(t,e)=>t.id-e.id}),[{error:o,result:l}]=await(async t=>r?a(t):[await Sa.http(f,{body:t,fetchOptions:n,timeout:p})])(i);if(o)throw new pn.bs({body:i,error:o,url:f});return l},retryCount:d,retryDelay:a,timeout:p,type:"http"},{fetchOptions:n,url:t})}}(t,{timeout:o}))),{rank:s,retryCount:i,retryDelay:a}),pollingInterval:n});return Object.assign(d,{chains:l})},webSocketPublicClient:({chainId:e})=>{const c=l.find((t=>t.id===e))??t[0],u=h[c.id];if(!u||!u[0])return;const d=ba({batch:r,chain:c,transport:va(u.map((t=>function(t,e={}){const{key:r="webSocket",name:n="WebSocket JSON-RPC",retryDelay:s}=e;return({chain:i,retryCount:a,timeout:o})=>{const l=e.retryCount??a,c=o??e.timeout??1e4,h=t||i?.rpcUrls.default.webSocket?.[0];if(!h)throw new wa;return Us({key:r,name:n,async request({method:t,params:e}){const r={method:t,params:e},n=await _a(h),{error:s,result:i}=await Sa.webSocketAsync(n,{body:r,timeout:c});if(s)throw new pn.bs({body:r,error:s,url:h});return i},retryCount:l,retryDelay:s,timeout:c,type:"webSocket"},{getSocket:()=>_a(h),async subscribe({params:t,onData:e,onError:r}){const n=await _a(h),{result:s}=await new Promise(((s,i)=>Sa.webSocket(n,{body:{method:"eth_subscribe",params:t},onResponse(t){if(t.error)return i(t.error),void r?.(t.error);"number"!=typeof t.id?"eth_subscription"===t.method&&e(t.params):s(t)}})));return{subscriptionId:s,unsubscribe:async()=>new Promise((t=>Sa.webSocket(n,{body:{method:"eth_unsubscribe",params:[s]},onResponse:t})))}}})}}(t,{timeout:o}))),{rank:s,retryCount:i,retryDelay:a}),pollingInterval:n});return Object.assign(d,{chains:l})}}}Error;var La=class extends Error{constructor({chainId:t,connectorId:e}){super(`Chain "${t}" not configured${e?` for connector "${e}"`:""}.`),this.name="ChainNotConfigured"}},ja=class extends Error{constructor(){super(...arguments),this.name="ConnectorAlreadyConnectedError",this.message="Connector already connected"}},Ua=class extends Error{constructor(){super(...arguments),this.name="ConfigChainsNotFound",this.message="No chains were found on the wagmi config. Some functions that require a chain may not work."}},Ga=class extends Error{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),this.name="SwitchChainNotSupportedError"}};var Va=(t,{find:e,replace:r})=>t&&e(t)?r(t):"object"!=typeof t?t:Array.isArray(t)?t.map((t=>Va(t,{find:e,replace:r}))):t instanceof Object?Object.entries(t).reduce(((t,[n,s])=>({...t,[n]:Va(s,{find:e,replace:r})})),{}):t;function za(t){const e=JSON.parse(t),r=Va(e,{find:t=>"string"==typeof t&&t.startsWith("#bigint."),replace:t=>BigInt(t.replace("#bigint.",""))});return r}function $a(t){return"number"==typeof t?t:"wei"===t?0:Math.abs(Ca.Bd[t])}function Ha(t,e){return t.slice(0,e).join(".")||"."}function qa(t,e){const{length:r}=t;for(let n=0;n<r;++n)if(t[n]===e)return n+1;return 0}function Wa(t,e,r,n){return JSON.stringify(t,function(t,e){const r="function"==typeof t,n="function"==typeof e,s=[],i=[];return function(a,o){if("object"==typeof o)if(s.length){const t=qa(s,this);0===t?s[s.length]=this:(s.splice(t),i.splice(t)),i[i.length]=a;const r=qa(s,o);if(0!==r)return n?e.call(this,a,o,Ha(i,r)):`[ref=${Ha(i,r)}]`}else s[0]=o,i[0]=a;return r?t.call(this,a,o):o}}(((t,r)=>{const n="bigint"==typeof r?`#bigint.${r.toString()}`:r;return e?.(t,n)||n}),n),r??void 0)}var Ka={getItem:t=>"",setItem:(t,e)=>null,removeItem:t=>null};function Ja({deserialize:t=za,key:e="wagmi",serialize:r=Wa,storage:n}){return{...n,getItem:(r,s=null)=>{const i=n.getItem(`${e}.${r}`);try{return i?t(i):s}catch(t){return console.warn(t),s}},setItem:(t,s)=>{if(null===s)n.removeItem(`${e}.${t}`);else try{n.setItem(`${e}.${t}`,r(s))}catch(t){console.error(t)}},removeItem:t=>n.removeItem(`${e}.${t}`)}}var Qa,Ya,Za,Xa,to,eo="store",ro=class{constructor({autoConnect:t=!1,connectors:e=[new zs],publicClient:r,storage:n=Ja({storage:"undefined"!=typeof window?window.localStorage:Ka}),logger:s={warn:console.warn},webSocketPublicClient:i}){qs(this,Za),this.publicClients=new Map,this.webSocketPublicClients=new Map,qs(this,Qa,void 0),qs(this,Ya,void 0),this.args={autoConnect:t,connectors:e,logger:s,publicClient:r,storage:n,webSocketPublicClient:i};let a,o="disconnected";if(t)try{const t=n.getItem(eo),e=t?.state?.data;o=e?.account?"reconnecting":"connecting",a=e?.chain?.id}catch(t){}const l="function"==typeof e?e():e;var c,h,u;l.forEach((t=>t.setStorage(n))),this.store=Fa(Ta(Oa((()=>({connectors:l,publicClient:this.getPublicClient({chainId:a}),status:o,webSocketPublicClient:this.getWebSocketPublicClient({chainId:a})})),{name:eo,storage:n,partialize:e=>({...t&&{data:{account:e?.data?.account,chain:e?.data?.chain}},chains:e?.chains}),version:2}))),this.storage=n,Ws(this,Ya,n?.getItem("wallet")),(c=this,h=Za,u=Xa,$s(c,h,"access private method"),u).call(this),t&&"undefined"!=typeof window&&setTimeout((async()=>await this.autoConnect()),0)}get chains(){return this.store.getState().chains}get connectors(){return this.store.getState().connectors}get connector(){return this.store.getState().connector}get data(){return this.store.getState().data}get error(){return this.store.getState().error}get lastUsedChainId(){return this.data?.chain?.id}get publicClient(){return this.store.getState().publicClient}get status(){return this.store.getState().status}get subscribe(){return this.store.subscribe}get webSocketPublicClient(){return this.store.getState().webSocketPublicClient}setState(t){const e="function"==typeof t?t(this.store.getState()):t;this.store.setState(e,!0)}clearState(){this.setState((t=>({...t,chains:void 0,connector:void 0,data:void 0,error:void 0,status:"disconnected"})))}async destroy(){this.connector&&await(this.connector.disconnect?.()),Ws(this,Qa,!1),this.clearState(),this.store.destroy()}async autoConnect(){if(Hs(this,Qa))return;Ws(this,Qa,!0),this.setState((t=>({...t,status:t.data?.account?"reconnecting":"connecting"})));const t=Hs(this,Ya)?[...this.connectors].sort((t=>t.id===Hs(this,Ya)?-1:1)):this.connectors;let e=!1;for(const r of t){if(!r.ready||!r.isAuthorized)continue;if(!await r.isAuthorized())continue;const t=await r.connect();this.setState((e=>({...e,connector:r,chains:r?.chains,data:t,status:"connected"}))),e=!0;break}return e||this.setState((t=>({...t,data:void 0,status:"disconnected"}))),Ws(this,Qa,!1),this.data}setConnectors(t){this.args={...this.args,connectors:t};const e="function"==typeof t?t():t;e.forEach((t=>t.setStorage(this.args.storage))),this.setState((t=>({...t,connectors:e})))}getPublicClient({chainId:t}={}){let e=this.publicClients.get(-1);if(e&&e?.chain.id===t)return e;if(e=this.publicClients.get(t??-1),e)return e;const{publicClient:r}=this.args;return e="function"==typeof r?r({chainId:t}):r,this.publicClients.set(t??-1,e),e}setPublicClient(t){const e=this.data?.chain?.id;this.args={...this.args,publicClient:t},this.publicClients.clear(),this.setState((t=>({...t,publicClient:this.getPublicClient({chainId:e})})))}getWebSocketPublicClient({chainId:t}={}){let e=this.webSocketPublicClients.get(-1);if(e&&e?.chain.id===t)return e;if(e=this.webSocketPublicClients.get(t??-1),e)return e;const{webSocketPublicClient:r}=this.args;return e="function"==typeof r?r({chainId:t}):r,e&&this.webSocketPublicClients.set(t??-1,e),e}setWebSocketPublicClient(t){const e=this.data?.chain?.id;this.args={...this.args,webSocketPublicClient:t},this.webSocketPublicClients.clear(),this.setState((t=>({...t,webSocketPublicClient:this.getWebSocketPublicClient({chainId:e})})))}setLastUsedConnector(t=null){this.storage?.setItem("wallet",t)}};function no(){if(!to)throw new Error("No wagmi config found. Ensure you have set up a config: https://wagmi.sh/react/config");return to}async function so({chainId:t,connector:e}){const r=no(),n=r.connector;if(n&&e.id===n.id)throw new ja;try{r.setState((t=>({...t,status:"connecting"})));const n=await e.connect({chainId:t});return r.setLastUsedConnector(e.id),r.setState((t=>({...t,connector:e,chains:e?.chains,data:n,status:"connected"}))),r.storage.setItem("connected",!0),{...n,connector:e}}catch(t){throw r.setState((t=>({...t,status:t.connector?"connected":"disconnected"}))),t}}async function io(){const t=no();t.connector&&await t.connector.disconnect(),t.clearState(),t.storage.removeItem("connected")}Qa=new WeakMap,Ya=new WeakMap,Za=new WeakSet,Xa=function(){const t=t=>{this.setState((e=>({...e,data:{...e.data,...t}})))},e=()=>{this.clearState()},r=t=>{this.setState((e=>({...e,error:t})))};this.store.subscribe((({connector:t})=>t),((n,s)=>{s?.off?.("change",t),s?.off?.("disconnect",e),s?.off?.("error",r),n&&(n.on?.("change",t),n.on?.("disconnect",e),n.on?.("error",r))}));const{publicClient:n,webSocketPublicClient:s}=this.args;("function"==typeof n||"function"==typeof s)&&this.store.subscribe((({data:t})=>t?.chain?.id),(t=>{this.setState((e=>({...e,publicClient:this.getPublicClient({chainId:t}),webSocketPublicClient:this.getWebSocketPublicClient({chainId:t})})))}))};var ao=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],oo=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];function lo({chainId:t}={}){const e=no();return t&&e.getPublicClient({chainId:t})||e.publicClient}async function co({chainId:t}={}){const e=no();return await(e.connector?.getWalletClient?.({chainId:t}))||null}async function ho({chainId:t,contracts:e,blockNumber:r,blockTag:n,...s}){const i=lo({chainId:t});if(!i.chains)throw new Ua;if(t&&i.chain.id!==t)throw new La({chainId:t});return i.multicall({allowFailure:s.allowFailure??!0,blockNumber:r,blockTag:n,contracts:e})}async function uo({address:t,account:e,chainId:r,abi:n,args:s,functionName:i,blockNumber:a,blockTag:o}){return lo({chainId:r}).readContract({abi:n,address:t,account:e,functionName:i,args:s,blockNumber:a,blockTag:o})}async function po({contracts:t,blockNumber:e,blockTag:r,...n}){const{allowFailure:s=!0}=n;try{const n=lo(),i=t.reduce(((t,e,r)=>{const s=e.chainId??n.chain.id;return{...t,[s]:[...t[s]||[],{contract:e,index:r}]}}),{}),a=()=>Object.entries(i).map((([t,n])=>ho({allowFailure:s,chainId:parseInt(t),contracts:n.map((({contract:t})=>t)),blockNumber:e,blockTag:r}))),o=(await Promise.all(a())).flat(),l=Object.values(i).flatMap((t=>t.map((({index:t})=>t))));return o.reduce(((t,e,r)=>(t&&(t[l[r]]=e),t)),[])}catch(n){if(n instanceof Xs.uq)throw n;const i=()=>t.map((t=>uo({...t,blockNumber:e,blockTag:r})));return s?(await Promise.allSettled(i())).map((t=>"fulfilled"===t.status?{result:t.value,status:"success"}:{error:t.reason,result:void 0,status:"failure"})):await Promise.all(i())}}async function fo({address:t,chainId:e,formatUnits:r,token:n}){const s=no(),i=lo({chainId:e});if(n){const s=async({abi:s})=>{const i={abi:s,address:n,chainId:e},[a,o,l]=await po({allowFailure:!1,contracts:[{...i,functionName:"balanceOf",args:[t]},{...i,functionName:"decimals"},{...i,functionName:"symbol"}]});return{decimals:o,formatted:(0,Na.b)(a??"0",$a(r??o)),symbol:l,value:a}};try{return await s({abi:ao})}catch(t){if(t instanceof Xs.uq){const{symbol:t,...e}=await s({abi:oo});return{symbol:(0,Gn.rR)((0,Ys.f)(t,{dir:"right"})),...e}}throw t}}const a=[...s.publicClient.chains||[],...s.chains??[]],o=await i.getBalance({address:t}),l=a.find((t=>t.id===i.chain.id));return{decimals:l?.nativeCurrency.decimals??18,formatted:(0,Na.b)(o??"0",$a(r??18)),symbol:l?.nativeCurrency.symbol??"ETH",value:o}}function mo(){const{data:t,connector:e,status:r}=no();switch(r){case"connected":return{address:t?.account,connector:e,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:r};case"reconnecting":return{address:t?.account,connector:e,isConnected:!!t?.account,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:r};case"connecting":return{address:t?.account,connector:e,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:r};case"disconnected":return{address:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:r}}}function go(){const t=no(),e=t.data?.chain?.id,r=t.chains??[],n=[...t.publicClient?.chains||[],...r].find((t=>t.id===e))??{id:e,name:`Chain ${e}`,network:`${e}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}};return{chain:e?{...n,...t.data?.chain,id:e}:void 0,chains:r}}async function yo({chainId:t}){const{connector:e}=no();if(!e)throw new Zr;if(!e.switchChain)throw new Ga({connector:e});return e.switchChain(t)}function bo(t,{selector:e=(t=>t)}={}){const r=no().subscribe((({data:t,connector:r,status:n})=>e({address:t?.account,connector:r,status:n})),(()=>t(mo())),{equalityFn:Ra});return r}function vo(t,{selector:e=(t=>t)}={}){const r=no().subscribe((({data:t,chains:r})=>e({chainId:t?.chain?.id,chains:r})),(()=>t(go())),{equalityFn:Ra});return r}async function wo({name:t,chainId:e}){const{normalize:n}=await r.e(528).then(r.bind(r,1528)),s=lo({chainId:e});return await s.getEnsAvatar({name:n(t)})}async function Eo({address:t,chainId:e}){return lo({chainId:e}).getEnsName({address:(0,un.K)(t)})}const xo="6.10.0";function ko(t,e,r){const n=e.split("|").map((t=>t.trim()));for(let r=0;r<n.length;r++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${r}`,s.value=t,s}async function Ao(t){const e=Object.keys(t);return(await Promise.all(e.map((e=>Promise.resolve(t[e]))))).reduce(((t,r,n)=>(t[e[n]]=r,t)),{})}function Po(t,e,r){for(let n in e){let s=e[n];const i=r?r[n]:null;i&&ko(s,i,n),Object.defineProperty(t,n,{enumerable:!0,value:s,writable:!1})}}function _o(t){if(null==t)return"null";if(Array.isArray(t))return"[ "+t.map(_o).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[15&t[n]];return r}if("object"==typeof t&&"function"==typeof t.toJSON)return _o(t.toJSON());switch(typeof t){case"boolean":case"symbol":case"number":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map((e=>`${_o(e)}: ${_o(t[e])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function So(t,e){return t&&t.code===e}function Co(t){return So(t,"CALL_EXCEPTION")}function To(t,e,r){let n,s=t;{const n=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${_o(r)}`);for(const t in r){if("shortMessage"===t)continue;const e=r[t];n.push(t+"="+_o(e))}}n.push(`code=${e}`),n.push(`version=${xo}`),n.length&&(t+=" ("+n.join(", ")+")")}switch(e){case"INVALID_ARGUMENT":n=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=new RangeError(t);break;default:n=new Error(t)}return Po(n,{code:e}),r&&Object.assign(n,r),null==n.shortMessage&&Po(n,{shortMessage:s}),n}function Io(t,e,r,n){if(!t)throw To(e,r,n)}function Mo(t,e,r,n){Io(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function Oo(t,e,r){null==r&&(r=""),r&&(r=": "+r),Io(t>=e,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Io(t<=e,"too many arguemnts"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const Do=["NFD","NFC","NFKD","NFKC"].reduce(((t,e)=>{try{if("test"!=="test".normalize(e))throw new Error("bad");if("NFD"===e){const t=String.fromCharCode(233).normalize("NFD");if(t!==String.fromCharCode(101,769))throw new Error("broken")}t.push(e)}catch(t){}return t}),[]);function Fo(t,e,r){if(null==r&&(r=""),t!==e){let t=r,e="new";r&&(t+=".",e+=" "+r),Io(!1,`private constructor; use ${t}from* methods`,"UNSUPPORTED_OPERATION",{operation:e})}}function No(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if("string"==typeof t&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){const e=new Uint8Array((t.length-2)/2);let r=2;for(let n=0;n<e.length;n++)e[n]=parseInt(t.substring(r,r+2),16),r+=2;return e}Mo(!1,"invalid BytesLike value",e||"value",t)}function Ro(t,e){return No(t,e,!1)}function Bo(t,e){return No(t,e,!0)}function Lo(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!=typeof e||t.length===2+2*e)&&(!0!==e||t.length%2==0))}const jo="0123456789abcdef";function Uo(t){const e=Ro(t);let r="0x";for(let t=0;t<e.length;t++){const n=e[t];r+=jo[(240&n)>>4]+jo[15&n]}return r}function Go(t){return"0x"+t.map((t=>Uo(t).substring(2))).join("")}function Vo(t){return Lo(t,!0)?(t.length-2)/2:Ro(t).length}function zo(t,e,r){const n=Ro(t);return null!=r&&r>n.length&&Io(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),Uo(n.slice(null==e?0:e,null==r?n.length:r))}function $o(t,e,r){const n=Ro(t);Io(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),r?s.set(n,e-n.length):s.set(n,0),Uo(s)}function Ho(t,e){return $o(t,e,!0)}const qo=BigInt(0),Wo=BigInt(1),Ko=9007199254740991;function Jo(t,e){const r=Xo(t,"value"),n=BigInt(rl(e,"width"));if(Io(r>>n===qo,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-Wo){return-((~r&(Wo<<n)-Wo)+Wo)}return r}function Qo(t,e){let r=Zo(t,"value");const n=BigInt(rl(e,"width")),s=Wo<<n-Wo;if(r<qo){r=-r,Io(r<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return(~r&(Wo<<n)-Wo)+Wo}return Io(r<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t}),r}function Yo(t,e){const r=Xo(t,"value"),n=BigInt(rl(e,"bits"));return r&(Wo<<n)-Wo}function Zo(t,e){switch(typeof t){case"bigint":return t;case"number":return Mo(Number.isInteger(t),"underflow",e||"value",t),Mo(t>=-Ko&&t<=Ko,"overflow",e||"value",t),BigInt(t);case"string":try{if(""===t)throw new Error("empty string");return"-"===t[0]&&"-"!==t[1]?-BigInt(t.substring(1)):BigInt(t)}catch(r){Mo(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}Mo(!1,"invalid BigNumberish value",e||"value",t)}function Xo(t,e){const r=Zo(t,e);return Io(r>=qo,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const tl="0123456789abcdef";function el(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=tl[r>>4],e+=tl[15&r];return BigInt(e)}return Zo(t)}function rl(t,e){switch(typeof t){case"bigint":return Mo(t>=-Ko&&t<=Ko,"overflow",e||"value",t),Number(t);case"number":return Mo(Number.isInteger(t),"underflow",e||"value",t),Mo(t>=-Ko&&t<=Ko,"overflow",e||"value",t),t;case"string":try{if(""===t)throw new Error("empty string");return rl(BigInt(t),e)}catch(r){Mo(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}Mo(!1,"invalid numeric value",e||"value",t)}function nl(t,e){let r=Xo(t,"value").toString(16);if(null==e)r.length%2&&(r="0"+r);else{const n=rl(e,"width");for(Io(2*n>=r.length,`value exceeds width (${n} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<2*n;)r="0"+r}return"0x"+r}function sl(t){const e=Xo(t,"value");if(e===qo)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let t=0;t<n.length;t++){const e=2*t;n[t]=parseInt(r.substring(e,e+2),16)}return n}function il(t){let e=Uo(function(t){return Lo(t,!0)||t instanceof Uint8Array}(t)?t:sl(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return""===e&&(e="0"),"0x"+e}const al=32,ol=new Uint8Array(al),ll=["then"],cl={};function hl(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}class ul extends Array{#t;constructor(...t){const e=t[0];let r=t[1],n=(t[2]||[]).slice(),s=!0;e!==cl&&(r=t,n=[],s=!1),super(r.length),r.forEach(((t,e)=>{this[e]=t}));const i=n.reduce(((t,e)=>("string"==typeof e&&t.set(e,(t.get(e)||0)+1),t)),new Map);if(this.#t=Object.freeze(r.map(((t,e)=>{const r=n[e];return null!=r&&1===i.get(r)?r:null}))),s)return Object.freeze(this),new Proxy(this,{get:(t,e,r)=>{if("string"==typeof e){if(e.match(/^[0-9]+$/)){const r=rl(e,"%index");if(r<0||r>=this.length)throw new RangeError("out of result range");const n=t[r];return n instanceof Error&&hl(`index ${r}`,n),n}if(ll.indexOf(e)>=0)return Reflect.get(t,e,r);const n=t[e];if(n instanceof Function)return function(...e){return n.apply(this===r?t:this,e)};if(!(e in t))return t.getValue.apply(this===r?t:this,[e])}return Reflect.get(t,e,r)}})}toArray(){const t=[];return this.forEach(((e,r)=>{e instanceof Error&&hl(`index ${r}`,e),t.push(e)})),t}toObject(){return this.#t.reduce(((t,e,r)=>(Io(null!=e,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),e in t||(t[e]=this.getValue(e)),t)),{})}slice(t,e){null==t&&(t=0),t<0&&(t+=this.length)<0&&(t=0),null==e&&(e=this.length),e<0&&(e+=this.length)<0&&(e=0),e>this.length&&(e=this.length);const r=[],n=[];for(let s=t;s<e;s++)r.push(this[s]),n.push(this.#t[s]);return new ul(cl,r,n)}filter(t,e){const r=[],n=[];for(let s=0;s<this.length;s++){const i=this[s];i instanceof Error&&hl(`index ${s}`,i),t.call(e,i,s,this)&&(r.push(i),n.push(this.#t[s]))}return new ul(cl,r,n)}map(t,e){const r=[];for(let n=0;n<this.length;n++){const s=this[n];s instanceof Error&&hl(`index ${n}`,s),r.push(t.call(e,s,n,this))}return r}getValue(t){const e=this.#t.indexOf(t);if(-1===e)return;const r=this[e];return r instanceof Error&&hl(`property ${JSON.stringify(t)}`,r.error),r}static fromItems(t,e){return new ul(cl,t,e)}}function dl(t){let e=sl(t);return Io(e.length<=al,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:al,offset:e.length}),e.length!==al&&(e=Bo(Go([ol.slice(e.length%al),e]))),e}class pl{name;type;localName;dynamic;constructor(t,e,r,n){Po(this,{name:t,type:e,localName:r,dynamic:n},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){Mo(!1,t,this.localName,e)}}class fl{#e;#r;constructor(){this.#e=[],this.#r=0}get data(){return Go(this.#e)}get length(){return this.#r}#n(t){return this.#e.push(t),this.#r+=t.length,t.length}appendWriter(t){return this.#n(Bo(t.data))}writeBytes(t){let e=Bo(t);const r=e.length%al;return r&&(e=Bo(Go([e,ol.slice(r)]))),this.#n(e)}writeValue(t){return this.#n(dl(t))}writeUpdatableValue(){const t=this.#e.length;return this.#e.push(ol),this.#r+=al,e=>{this.#e[t]=dl(e)}}}class ml{allowLoose;#e;#s;#i;#a;#o;constructor(t,e,r){Po(this,{allowLoose:!!e}),this.#e=Bo(t),this.#i=0,this.#a=null,this.#o=null!=r?r:1024,this.#s=0}get data(){return Uo(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#s}get bytes(){return new Uint8Array(this.#e)}#l(t){if(this.#a)return this.#a.#l(t);this.#i+=t,Io(this.#o<1||this.#i<=this.#o*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#o} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Bo(this.#e),offset:this.#s,length:t,info:{bytesRead:this.#i,dataLength:this.dataLength}})}#c(t,e,r){let n=Math.ceil(e/al)*al;return this.#s+n>this.#e.length&&(this.allowLoose&&r&&this.#s+e<=this.#e.length?n=e:Io(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Bo(this.#e),length:this.#e.length,offset:this.#s+n})),this.#e.slice(this.#s,this.#s+n)}subReader(t){const e=new ml(this.#e.slice(this.#s+t),this.allowLoose,this.#o);return e.#a=this,e}readBytes(t,e){let r=this.#c(0,t,!!e);return this.#l(t),this.#s+=r.length,r.slice(0,t)}readValue(){return el(this.readBytes(al))}readIndex(){return rl(el(this.readBytes(al)))}}function gl(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function yl(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function bl(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");gl(t.outputLen),gl(t.blockLen)}function vl(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function wl(t,e){yl(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const El=BigInt(2**32-1),xl=BigInt(32);function kl(t,e=!1){return e?{h:Number(t&El),l:Number(t>>xl&El)}:{h:0|Number(t>>xl&El),l:0|Number(t&El)}}function Al(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:a}=kl(t[s],e);[r[s],n[s]]=[i,a]}return[r,n]}const Pl=(t,e,r)=>t<<r|e>>>32-r,_l=(t,e,r)=>e<<r|t>>>32-r,Sl=(t,e,r)=>e<<r-32|t>>>64-r,Cl=(t,e,r)=>t<<r-32|e>>>64-r;const Tl="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Il=t=>t instanceof Uint8Array,Ml=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Ol=(t,e)=>t<<32-e|t>>>e;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function Dl(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),!Il(t))throw new Error("expected Uint8Array, got "+typeof t);return t}class Fl{clone(){return this._cloneInto()}}function Nl(t){const e=e=>t().update(Dl(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Rl(t=32){if(Tl&&"function"==typeof Tl.getRandomValues)return Tl.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const[Bl,Ll,jl]=[[],[],[]],Ul=BigInt(0),Gl=BigInt(1),Vl=BigInt(2),zl=BigInt(7),$l=BigInt(256),Hl=BigInt(113);for(let t=0,e=Gl,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Bl.push(2*(5*n+r)),Ll.push((t+1)*(t+2)/2%64);let s=Ul;for(let t=0;t<7;t++)e=(e<<Gl^(e>>zl)*Hl)%$l,e&Vl&&(s^=Gl<<(Gl<<BigInt(t))-Gl);jl.push(s)}const[ql,Wl]=Al(jl,!0),Kl=(t,e,r)=>r>32?Sl(t,e,r):Pl(t,e,r),Jl=(t,e,r)=>r>32?Cl(t,e,r):_l(t,e,r);class Ql extends Fl{constructor(t,e,r,n=!1,s=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,gl(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}keccak(){!function(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const n=(e+8)%10,s=(e+2)%10,i=r[s],a=r[s+1],o=Kl(i,a,1)^r[n],l=Jl(i,a,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=o,t[e+r+1]^=l}let e=t[2],s=t[3];for(let r=0;r<24;r++){const n=Ll[r],i=Kl(e,s,n),a=Jl(e,s,n),o=Bl[r];e=t[o],s=t[o+1],t[o]=i,t[o+1]=a}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=ql[n],t[1]^=Wl[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){vl(this);const{blockLen:e,state:r}=this,n=(t=Dl(t)).length;for(let s=0;s<n;){const i=Math.min(e-this.pos,n-s);for(let e=0;e<i;e++)r[this.pos++]^=t[s++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,0!=(128&e)&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){vl(this,!1),yl(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,s=t.length;n<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-n);t.set(e.subarray(this.posOut,this.posOut+i),n),this.posOut+=i,n+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return gl(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(wl(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:s,enableXOF:i}=this;return t||(t=new Ql(e,r,n,i,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=n,t.enableXOF=i,t.destroyed=this.destroyed,t}}const Yl=(t,e,r)=>Nl((()=>new Ql(e,t,r))),Zl=Yl(1,136,32);let Xl=!1;const tc=function(t){return Zl(t)};let ec=tc;function rc(t){const e=Ro(t,"data");return Uo(ec(e))}rc._=tc,rc.lock=function(){Xl=!0},rc.register=function(t){if(Xl)throw new TypeError("keccak256 is locked");ec=t},Object.freeze(rc);const nc=BigInt(0),sc=BigInt(36);function ic(t){const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=Ro(rc(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const ac={};for(let t=0;t<10;t++)ac[String(t)]=String(t);for(let t=0;t<26;t++)ac[String.fromCharCode(65+t)]=String(10+t);const oc=15;function lc(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>ac[t])).join("");for(;e.length>=oc;){let t=e.substring(0,oc);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const cc=function(){const t={};for(let e=0;e<36;e++){t["0123456789abcdefghijklmnopqrstuvwxyz"[e]]=BigInt(e)}return t}();function hc(t){if(Mo("string"==typeof t,"invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=ic(t);return Mo(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Mo(t.substring(2,4)===lc(t),"bad icap checksum","address",t);let e=function(t){t=t.toLowerCase();let e=nc;for(let r=0;r<t.length;r++)e=e*sc+cc[t[r]];return e}(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return ic("0x"+e)}Mo(!1,"invalid address","address",t)}const uc={};function dc(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new mc(uc,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function pc(t,e){return new mc(uc,`bytes${e||""}`,t,{size:e})}const fc=Symbol.for("_ethers_typed");class mc{type;value;#h;_typedSymbol;constructor(t,e,r,n){null==n&&(n=null),Fo(uc,t,"Typed"),Po(this,{_typedSymbol:fc,type:e,value:r}),this.#h=n,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((t=>t.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#h}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#h?-1:!1===this.#h?this.value.length:null}static from(t,e){return new mc(uc,t,e)}static uint8(t){return dc(t,8)}static uint16(t){return dc(t,16)}static uint24(t){return dc(t,24)}static uint32(t){return dc(t,32)}static uint40(t){return dc(t,40)}static uint48(t){return dc(t,48)}static uint56(t){return dc(t,56)}static uint64(t){return dc(t,64)}static uint72(t){return dc(t,72)}static uint80(t){return dc(t,80)}static uint88(t){return dc(t,88)}static uint96(t){return dc(t,96)}static uint104(t){return dc(t,104)}static uint112(t){return dc(t,112)}static uint120(t){return dc(t,120)}static uint128(t){return dc(t,128)}static uint136(t){return dc(t,136)}static uint144(t){return dc(t,144)}static uint152(t){return dc(t,152)}static uint160(t){return dc(t,160)}static uint168(t){return dc(t,168)}static uint176(t){return dc(t,176)}static uint184(t){return dc(t,184)}static uint192(t){return dc(t,192)}static uint200(t){return dc(t,200)}static uint208(t){return dc(t,208)}static uint216(t){return dc(t,216)}static uint224(t){return dc(t,224)}static uint232(t){return dc(t,232)}static uint240(t){return dc(t,240)}static uint248(t){return dc(t,248)}static uint256(t){return dc(t,256)}static uint(t){return dc(t,256)}static int8(t){return dc(t,-8)}static int16(t){return dc(t,-16)}static int24(t){return dc(t,-24)}static int32(t){return dc(t,-32)}static int40(t){return dc(t,-40)}static int48(t){return dc(t,-48)}static int56(t){return dc(t,-56)}static int64(t){return dc(t,-64)}static int72(t){return dc(t,-72)}static int80(t){return dc(t,-80)}static int88(t){return dc(t,-88)}static int96(t){return dc(t,-96)}static int104(t){return dc(t,-104)}static int112(t){return dc(t,-112)}static int120(t){return dc(t,-120)}static int128(t){return dc(t,-128)}static int136(t){return dc(t,-136)}static int144(t){return dc(t,-144)}static int152(t){return dc(t,-152)}static int160(t){return dc(t,-160)}static int168(t){return dc(t,-168)}static int176(t){return dc(t,-176)}static int184(t){return dc(t,-184)}static int192(t){return dc(t,-192)}static int200(t){return dc(t,-200)}static int208(t){return dc(t,-208)}static int216(t){return dc(t,-216)}static int224(t){return dc(t,-224)}static int232(t){return dc(t,-232)}static int240(t){return dc(t,-240)}static int248(t){return dc(t,-248)}static int256(t){return dc(t,-256)}static int(t){return dc(t,-256)}static bytes1(t){return pc(t,1)}static bytes2(t){return pc(t,2)}static bytes3(t){return pc(t,3)}static bytes4(t){return pc(t,4)}static bytes5(t){return pc(t,5)}static bytes6(t){return pc(t,6)}static bytes7(t){return pc(t,7)}static bytes8(t){return pc(t,8)}static bytes9(t){return pc(t,9)}static bytes10(t){return pc(t,10)}static bytes11(t){return pc(t,11)}static bytes12(t){return pc(t,12)}static bytes13(t){return pc(t,13)}static bytes14(t){return pc(t,14)}static bytes15(t){return pc(t,15)}static bytes16(t){return pc(t,16)}static bytes17(t){return pc(t,17)}static bytes18(t){return pc(t,18)}static bytes19(t){return pc(t,19)}static bytes20(t){return pc(t,20)}static bytes21(t){return pc(t,21)}static bytes22(t){return pc(t,22)}static bytes23(t){return pc(t,23)}static bytes24(t){return pc(t,24)}static bytes25(t){return pc(t,25)}static bytes26(t){return pc(t,26)}static bytes27(t){return pc(t,27)}static bytes28(t){return pc(t,28)}static bytes29(t){return pc(t,29)}static bytes30(t){return pc(t,30)}static bytes31(t){return pc(t,31)}static bytes32(t){return pc(t,32)}static address(t){return new mc(uc,"address",t)}static bool(t){return new mc(uc,"bool",!!t)}static bytes(t){return new mc(uc,"bytes",t)}static string(t){return new mc(uc,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new mc(uc,"overrides",Object.assign({},t))}static isTyped(t){return t&&"object"==typeof t&&"_typedSymbol"in t&&t._typedSymbol===fc}static dereference(t,e){if(mc.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}}class gc extends pl{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let r=mc.dereference(e,"string");try{r=hc(r)}catch(t){return this._throwError(t.message,e)}return t.writeValue(r)}decode(t){return hc(nl(t.readValue(),20))}}class yc extends pl{coder;constructor(t){super(t.name,t.type,"_",t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}function bc(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let t={};n=e.map((e=>{const n=e.localName;return Io(n,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:r}),Io(!t[n],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:r}),t[n]=!0,r[n]}))}else Mo(!1,"invalid tuple value","tuple",r);Mo(e.length===n.length,"types/value length mismatch","tuple",r);let s=new fl,i=new fl,a=[];e.forEach(((t,e)=>{let r=n[e];if(t.dynamic){let e=i.length;t.encode(i,r);let n=s.writeUpdatableValue();a.push((t=>{n(t+e)}))}else t.encode(s,r)})),a.forEach((t=>{t(s.length)}));let o=t.appendWriter(s);return o+=t.appendWriter(i),o}function vc(t,e){let r=[],n=[],s=t.subReader(0);return e.forEach((e=>{let i=null;if(e.dynamic){let r=t.readIndex(),n=s.subReader(r);try{i=e.decode(n)}catch(t){if(So(t,"BUFFER_OVERRUN"))throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch(t){if(So(t,"BUFFER_OVERRUN"))throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}if(null==i)throw new Error("investigate");r.push(i),n.push(e.localName||null)})),ul.fromItems(r,n)}class wc extends pl{coder;length;constructor(t,e,r){super("array",t.type+"["+(e>=0?e:"")+"]",r,-1===e||t.dynamic),Po(this,{coder:t,length:e})}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){const r=mc.dereference(e,"array");Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;-1===n&&(n=r.length,t.writeValue(r.length)),Oo(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let t=0;t<r.length;t++)s.push(this.coder);return bc(t,s,r)}decode(t){let e=this.length;-1===e&&(e=t.readIndex(),Io(e*al<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:e*al,length:t.dataLength}));let r=[];for(let t=0;t<e;t++)r.push(new yc(this.coder));return vc(t,r)}}class Ec extends pl{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const r=mc.dereference(e,"bool");return t.writeValue(r?1:0)}decode(t){return!!t.readValue()}}class xc extends pl{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=Bo(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readIndex(),!0)}}class kc extends xc{constructor(t){super("bytes",t)}decode(t){return Uo(super.decode(t))}}class Ac extends pl{size;constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1),Po(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=Bo(mc.dereference(e,this.type));return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return Uo(t.readBytes(this.size))}}const Pc=new Uint8Array([]);class _c extends pl{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes(Pc)}decode(t){return t.readBytes(0),null}}const Sc=BigInt(0),Cc=BigInt(1),Tc=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Ic extends pl{size;signed;constructor(t,e,r){const n=(e?"int":"uint")+8*t;super(n,n,r,!1),Po(this,{size:t,signed:e},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,e){let r=Zo(mc.dereference(e,this.type)),n=Yo(Tc,256);if(this.signed){let t=Yo(n,8*this.size-1);(r>t||r<-(t+Cc))&&this._throwError("value out-of-bounds",e),r=Qo(r,256)}else(r<Sc||r>Yo(n,8*this.size))&&this._throwError("value out-of-bounds",e);return t.writeValue(r)}decode(t){let e=Yo(t.readValue(),8*this.size);return this.signed&&(e=Jo(e,8*this.size)),e}}function Mc(t,e,r,n,s){if("BAD_PREFIX"===t||"UNEXPECTED_CONTINUE"===t){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return"OVERRUN"===t?r.length-e-1:0}const Oc=Object.freeze({error:function(t,e,r,n,s){Mo(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:Mc,replace:function(t,e,r,n,s){return"OVERLONG"===t?(Mo("number"==typeof s,"invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),Mc(t,e,r))}});function Dc(t,e){null==e&&(e=Oc.error);const r=Ro(t,"bytes"),n=[];let s=0;for(;s<r.length;){const t=r[s++];if(t>>7==0){n.push(t);continue}let i=null,a=null;if(192==(224&t))i=1,a=127;else if(224==(240&t))i=2,a=2047;else{if(240!=(248&t)){s+=e(128==(192&t)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",s-1,r,n);continue}i=3,a=65535}if(s-1+i>=r.length){s+=e("OVERRUN",s-1,r,n);continue}let o=t&(1<<8-i-1)-1;for(let t=0;t<i;t++){let t=r[s];if(128!=(192&t)){s+=e("MISSING_CONTINUE",s,r,n),o=null;break}o=o<<6|63&t,s++}null!==o&&(o>1114111?s+=e("OUT_OF_RANGE",s-1-i,r,n,o):o>=55296&&o<=57343?s+=e("UTF16_SURROGATE",s-1-i,r,n,o):o<=a?s+=e("OVERLONG",s-1-i,r,n,o):n.push(o))}return n}function Fc(t,e){null!=e&&(!function(t){Io(Do.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}(e),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const s=t.charCodeAt(e);Mo(e<t.length&&56320==(64512&s),"invalid surrogate pair","str",t);const i=65536+((1023&n)<<10)+(1023&s);r.push(i>>18|240),r.push(i>>12&63|128),r.push(i>>6&63|128),r.push(63&i|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return new Uint8Array(r)}function Nc(t,e){return Dc(t,e).map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}class Rc extends xc{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,Fc(mc.dereference(e,"string")))}decode(t){return Nc(super.decode(t))}}class Bc extends pl{coders;constructor(t,e){let r=!1;const n=[];t.forEach((t=>{t.dynamic&&(r=!0),n.push(t.type)}));super("tuple","tuple("+n.join(",")+")",e,r),Po(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach(((r,n)=>{let s=r.localName;s&&1===e[s]&&("length"===s&&(s="_length"),null==t[s]&&(t[s]=t[n]))})),Object.freeze(t)}encode(t,e){const r=mc.dereference(e,"tuple");return bc(t,this.coders,r)}decode(t){return vc(t,this.coders)}}function Lc(t){return rc(Fc(t))}function jc(t){const e=new Set;return t.forEach((t=>e.add(t))),Object.freeze(e)}const Uc=jc("external public payable".split(" ")),Gc="constant external internal payable private public pure view",Vc=jc(Gc.split(" ")),zc="constructor error event fallback function receive struct",$c=jc(zc.split(" ")),Hc="calldata memory storage payable indexed",qc=jc(Hc.split(" ")),Wc=jc([zc,Hc,"tuple returns",Gc].join(" ").split(" ")),Kc={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Jc=new RegExp("^(\\s*)"),Qc=new RegExp("^([0-9]+)"),Yc=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Zc=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Xc=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class th{#s;#u;get offset(){return this.#s}get length(){return this.#u.length-this.#s}constructor(t){this.#s=0,this.#u=t.slice()}clone(){return new th(this.#u)}reset(){this.#s=0}#d(t=0,e=0){return new th(this.#u.slice(t,e).map((e=>Object.freeze(Object.assign({},e,{match:e.match-t,linkBack:e.linkBack-t,linkNext:e.linkNext-t})))))}popKeyword(t){const e=this.peek();if("KEYWORD"!==e.type||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t)throw new Error(`expected ${t}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const t=this.peek();if("OPEN_PAREN"!==t.type)throw new Error("bad start");const e=this.#d(this.#s+1,t.match+1);return this.#s=t.match+1,e}popParams(){const t=this.peek();if("OPEN_PAREN"!==t.type)throw new Error("bad start");const e=[];for(;this.#s<t.match-1;){const t=this.peek().linkNext;e.push(this.#d(this.#s+1,t)),this.#s=t}return this.#s=t.match+1,e}peek(){if(this.#s>=this.#u.length)throw new Error("out-of-bounds");return this.#u[this.#s]}peekKeyword(t){const e=this.peekType("KEYWORD");return null!=e&&t.has(e)?e:null}peekType(t){if(0===this.length)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return this.#s++,t}toString(){const t=[];for(let e=this.#s;e<this.#u.length;e++){const r=this.#u[e];t.push(`${r.type}:${r.text}`)}return`<TokenString ${t.join(" ")}>`}}function eh(t){const e=[],r=e=>{const r=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${r} at ${i}: ${e}`)};let n=[],s=[],i=0;for(;i<t.length;){let a=t.substring(i),o=a.match(Jc);o&&(i+=o[1].length,a=t.substring(i));const l={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(l);let c=Kc[a[0]]||"";if(c){if(l.type=c,l.text=a[0],i++,"OPEN_PAREN"===c)n.push(e.length-1),s.push(e.length-1);else if("CLOSE_PAREN"==c)0===n.length&&r("no matching open bracket"),l.match=n.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=s.pop(),e[l.linkBack].linkNext=e.length-1;else if("COMMA"===c)l.linkBack=s.pop(),e[l.linkBack].linkNext=e.length-1,s.push(e.length-1);else if("OPEN_BRACKET"===c)l.type="BRACKET";else if("CLOSE_BRACKET"===c){let t=e.pop().text;if(e.length>0&&"NUMBER"===e[e.length-1].type){const r=e.pop().text;t=r+t,e[e.length-1].value=rl(r)}if(0===e.length||"BRACKET"!==e[e.length-1].type)throw new Error("missing opening bracket");e[e.length-1].text+=t}}else if(o=a.match(Yc),o){if(l.text=o[1],i+=l.text.length,Wc.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(Xc)){l.type="TYPE";continue}l.type="ID"}else{if(o=a.match(Qc),!o)throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${i}`);l.text=o[1],l.type="NUMBER",i+=l.text.length}}return new th(e.map((t=>Object.freeze(t))))}function rh(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function nh(t,e){if(e.peekKeyword($c)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function sh(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(null==n||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function ih(t){let e=sh(t,Vc);return rh(e,jc("constant payable nonpayable".split(" "))),rh(e,jc("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function ah(t,e){return t.popParams().map((t=>wh.from(t,e)))}function oh(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Zo(t.pop().text);throw new Error("invalid gas")}return null}function lh(t){if(t.length)throw new Error(`unexpected tokens: ${t.toString()}`)}const ch=new RegExp(/^(.*)\[([0-9]*)\]$/);function hh(t){const e=t.match(Xc);if(Mo(e,"invalid type","type",t),"uint"===t)return"uint256";if("int"===t)return"int256";if(e[2]){const r=parseInt(e[2]);Mo(0!==r&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);Mo(0!==r&&r<=256&&r%8==0,"invalid numeric width","type",t)}return t}const uh={},dh=Symbol.for("_ethers_internal"),ph="_ParamTypeInternal",fh="_ErrorInternal",mh="_EventInternal",gh="_ConstructorInternal",yh="_FallbackInternal",bh="_FunctionInternal",vh="_StructInternal";class wh{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(t,e,r,n,s,i,a,o){if(Fo(t,uh,"ParamType"),Object.defineProperty(this,dh,{value:ph}),i&&(i=Object.freeze(i.slice())),"array"===n){if(null==a||null==o)throw new Error("")}else if(null!=a||null!=o)throw new Error("");if("tuple"===n){if(null==i)throw new Error("")}else if(null!=i)throw new Error("");Po(this,{name:e,type:r,baseType:n,indexed:s,components:i,arrayLength:a,arrayChildren:o})}format(t){if(null==t&&(t="sighash"),"json"===t){const e=this.name||"";if(this.isArray()){const t=JSON.parse(this.arrayChildren.format("json"));return t.name=e,t.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(t)}const r={type:"tuple"===this.baseType?"tuple":this.type,name:e};return"boolean"==typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(r)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?e+="("+this.components.map((e=>e.format(t))).join("full"===t?", ":",")+")":e+=this.type,"sighash"!==t&&(!0===this.indexed&&(e+=" indexed"),"full"===t&&this.name&&(e+=" "+this.name)),e}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return t.map((t=>r.arrayChildren.walk(t,e)))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const r=this;return t.map(((t,n)=>r.components[n].walk(t,e)))}return e(this.type,t)}#p(t,e,r,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const s=this.arrayChildren,i=e.slice();return i.forEach(((e,n)=>{s.#p(t,e,r,(t=>{i[n]=t}))})),void n(i)}if(this.isTuple()){const s=this.components;let i;if(Array.isArray(e))i=e.slice();else{if(null==e||"object"!=typeof e)throw new Error("invalid tuple value");i=s.map((t=>{if(!t.name)throw new Error("cannot use object value with unnamed components");if(!(t.name in e))throw new Error(`missing value for component ${t.name}`);return e[t.name]}))}if(i.length!==this.components.length)throw new Error("array is wrong length");return i.forEach(((e,n)=>{s[n].#p(t,e,r,(t=>{i[n]=t}))})),void n(i)}const s=r(this.type,e);s.then?t.push(async function(){n(await s)}()):n(s)}async walkAsync(t,e){const r=[],n=[t];return this.#p(r,t,e,(t=>{n[0]=t})),r.length&&await Promise.all(r),n[0]}static from(t,e){if(wh.isParamType(t))return t;if("string"==typeof t)try{return wh.from(eh(t),e)}catch(e){Mo(!1,"invalid param type","obj",t)}else if(t instanceof th){let r="",n="",s=null;sh(t,jc(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(n="tuple",s=t.popParams().map((t=>wh.from(t))),r=`tuple(${s.map((t=>t.format())).join(",")})`):(r=hh(t.popType("TYPE")),n=r);let i=null,a=null;for(;t.length&&t.peekType("BRACKET");){const e=t.pop();i=new wh(uh,"",r,n,null,s,a,i),a=e.value,r+=e.text,n="array",s=null}let o=null;if(sh(t,qc).has("indexed")){if(!e)throw new Error("");o=!0}const l=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new wh(uh,l,r,n,o,s,a,i)}const r=t.name;Mo(!r||"string"==typeof r&&r.match(Zc),"invalid name","obj.name",r);let n=t.indexed;null!=n&&(Mo(e,"parameter cannot be indexed","obj.indexed",t.indexed),n=!!n);let s=t.type,i=s.match(ch);if(i){const e=parseInt(i[2]||"-1"),a=wh.from({type:i[1],components:t.components});return new wh(uh,r||"",s,"array",n,null,e,a)}if("tuple"===s||s.startsWith("tuple(")||s.startsWith("(")){const e=null!=t.components?t.components.map((t=>wh.from(t))):null;return new wh(uh,r||"",s,"tuple",n,e,null,null)}return s=hh(t.type),new wh(uh,r||"",s,s,n,null,null,null)}static isParamType(t){return t&&t[dh]===ph}}class Eh{type;inputs;constructor(t,e,r){Fo(t,uh,"Fragment"),Po(this,{type:e,inputs:r=Object.freeze(r.slice())})}static from(t){if("string"==typeof t){try{Eh.from(JSON.parse(t))}catch(t){}return Eh.from(eh(t))}if(t instanceof th){switch(t.peekKeyword($c)){case"constructor":return _h.from(t);case"error":return Ah.from(t);case"event":return Ph.from(t);case"fallback":case"receive":return Sh.from(t);case"function":return Ch.from(t);case"struct":return Th.from(t)}}else if("object"==typeof t){switch(t.type){case"constructor":return _h.from(t);case"error":return Ah.from(t);case"event":return Ph.from(t);case"fallback":case"receive":return Sh.from(t);case"function":return Ch.from(t);case"struct":return Th.from(t)}Io(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Mo(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return _h.isFragment(t)}static isError(t){return Ah.isFragment(t)}static isEvent(t){return Ph.isFragment(t)}static isFunction(t){return Ch.isFragment(t)}static isStruct(t){return Th.isFragment(t)}}class xh extends Eh{name;constructor(t,e,r,n){super(t,e,n),Mo("string"==typeof r&&r.match(Zc),"invalid identifier","name",r),n=Object.freeze(n.slice()),Po(this,{name:r})}}function kh(t,e){return"("+e.map((e=>e.format(t))).join("full"===t?", ":",")+")"}class Ah extends xh{constructor(t,e,r){super(t,"error",e,r),Object.defineProperty(this,dh,{value:fh})}get selector(){return Lc(this.format("sighash")).substring(0,10)}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("error"),e.push(this.name+kh(t,this.inputs)),e.join(" ")}static from(t){if(Ah.isFragment(t))return t;if("string"==typeof t)return Ah.from(eh(t));if(t instanceof th){const e=nh("error",t),r=ah(t);return lh(t),new Ah(uh,e,r)}return new Ah(uh,t.name,t.inputs?t.inputs.map(wh.from):[])}static isFragment(t){return t&&t[dh]===fh}}class Ph extends xh{anonymous;constructor(t,e,r,n){super(t,"event",e,r),Object.defineProperty(this,dh,{value:mh}),Po(this,{anonymous:n})}get topicHash(){return Lc(this.format("sighash"))}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("event"),e.push(this.name+kh(t,this.inputs)),"sighash"!==t&&this.anonymous&&e.push("anonymous"),e.join(" ")}static getTopicHash(t,e){e=(e||[]).map((t=>wh.from(t)));return new Ph(uh,t,e,!1).topicHash}static from(t){if(Ph.isFragment(t))return t;if("string"==typeof t)try{return Ph.from(eh(t))}catch(e){Mo(!1,"invalid event fragment","obj",t)}else if(t instanceof th){const e=nh("event",t),r=ah(t,!0),n=!!sh(t,jc(["anonymous"])).has("anonymous");return lh(t),new Ph(uh,e,r,n)}return new Ph(uh,t.name,t.inputs?t.inputs.map((t=>wh.from(t,!0))):[],!!t.anonymous)}static isFragment(t){return t&&t[dh]===mh}}class _h extends Eh{payable;gas;constructor(t,e,r,n,s){super(t,e,r),Object.defineProperty(this,dh,{value:gh}),Po(this,{payable:n,gas:s})}format(t){if(Io(null!=t&&"sighash"!==t,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===t)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[`constructor${kh(t,this.inputs)}`];return this.payable&&e.push("payable"),null!=this.gas&&e.push(`@${this.gas.toString()}`),e.join(" ")}static from(t){if(_h.isFragment(t))return t;if("string"==typeof t)try{return _h.from(eh(t))}catch(e){Mo(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof th){sh(t,jc(["constructor"]));const e=ah(t),r=!!sh(t,Uc).has("payable"),n=oh(t);return lh(t),new _h(uh,"constructor",e,r,n)}return new _h(uh,"constructor",t.inputs?t.inputs.map(wh.from):[],!!t.payable,null!=t.gas?t.gas:null)}static isFragment(t){return t&&t[dh]===gh}}class Sh extends Eh{payable;constructor(t,e,r){super(t,"fallback",e),Object.defineProperty(this,dh,{value:yh}),Po(this,{payable:r})}format(t){const e=0===this.inputs.length?"receive":"fallback";if("json"===t){const t=this.payable?"payable":"nonpayable";return JSON.stringify({type:e,stateMutability:t})}return`${e}()${this.payable?" payable":""}`}static from(t){if(Sh.isFragment(t))return t;if("string"==typeof t)try{return Sh.from(eh(t))}catch(e){Mo(!1,"invalid fallback fragment","obj",t)}else if(t instanceof th){const e=t.toString();Mo(t.peekKeyword(jc(["fallback","receive"])),"type must be fallback or receive","obj",e);if("receive"===t.popKeyword(jc(["fallback","receive"]))){const e=ah(t);return Mo(0===e.length,"receive cannot have arguments","obj.inputs",e),sh(t,jc(["payable"])),lh(t),new Sh(uh,[],!0)}let r=ah(t);r.length?Mo(1===r.length&&"bytes"===r[0].type,"invalid fallback inputs","obj.inputs",r.map((t=>t.format("minimal"))).join(", ")):r=[wh.from("bytes")];const n=ih(t);if(Mo("nonpayable"===n||"payable"===n,"fallback cannot be constants","obj.stateMutability",n),sh(t,jc(["returns"])).has("returns")){const e=ah(t);Mo(1===e.length&&"bytes"===e[0].type,"invalid fallback outputs","obj.outputs",e.map((t=>t.format("minimal"))).join(", "))}return lh(t),new Sh(uh,r,"payable"===n)}if("receive"===t.type)return new Sh(uh,[],!0);if("fallback"===t.type){const e=[wh.from("bytes")],r="payable"===t.stateMutability;return new Sh(uh,e,r)}Mo(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[dh]===yh}}class Ch extends xh{constant;outputs;stateMutability;payable;gas;constructor(t,e,r,n,s,i){super(t,"function",e,n),Object.defineProperty(this,dh,{value:bh});Po(this,{constant:"view"===r||"pure"===r,gas:i,outputs:s=Object.freeze(s.slice()),payable:"payable"===r,stateMutability:r})}get selector(){return Lc(this.format("sighash")).substring(0,10)}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("function"),e.push(this.name+kh(t,this.inputs)),"sighash"!==t&&("nonpayable"!==this.stateMutability&&e.push(this.stateMutability),this.outputs&&this.outputs.length&&(e.push("returns"),e.push(kh(t,this.outputs))),null!=this.gas&&e.push(`@${this.gas.toString()}`)),e.join(" ")}static getSelector(t,e){e=(e||[]).map((t=>wh.from(t)));return new Ch(uh,t,"view",e,[],null).selector}static from(t){if(Ch.isFragment(t))return t;if("string"==typeof t)try{return Ch.from(eh(t))}catch(e){Mo(!1,"invalid function fragment","obj",t)}else if(t instanceof th){const e=nh("function",t),r=ah(t),n=ih(t);let s=[];sh(t,jc(["returns"])).has("returns")&&(s=ah(t));const i=oh(t);return lh(t),new Ch(uh,e,n,r,s,i)}let e=t.stateMutability;return null==e&&(e="payable","boolean"==typeof t.constant?(e="view",t.constant||(e="payable","boolean"!=typeof t.payable||t.payable||(e="nonpayable"))):"boolean"!=typeof t.payable||t.payable||(e="nonpayable")),new Ch(uh,t.name,e,t.inputs?t.inputs.map(wh.from):[],t.outputs?t.outputs.map(wh.from):[],null!=t.gas?t.gas:null)}static isFragment(t){return t&&t[dh]===bh}}class Th extends xh{constructor(t,e,r){super(t,"struct",e,r),Object.defineProperty(this,dh,{value:vh})}format(){throw new Error("@TODO")}static from(t){if("string"==typeof t)try{return Th.from(eh(t))}catch(e){Mo(!1,"invalid struct fragment","obj",t)}else if(t instanceof th){const e=nh("struct",t),r=ah(t);return lh(t),new Th(uh,e,r)}return new Th(uh,t.name,t.inputs?t.inputs.map(wh.from):[])}static isFragment(t){return t&&t[dh]===vh}}const Ih=new Map;Ih.set(0,"GENERIC_PANIC"),Ih.set(1,"ASSERT_FALSE"),Ih.set(17,"OVERFLOW"),Ih.set(18,"DIVIDE_BY_ZERO"),Ih.set(33,"ENUM_RANGE_ERROR"),Ih.set(34,"BAD_STORAGE_DATA"),Ih.set(49,"STACK_UNDERFLOW"),Ih.set(50,"ARRAY_RANGE_ERROR"),Ih.set(65,"OUT_OF_MEMORY"),Ih.set(81,"UNINITIALIZED_FUNCTION_CALL");const Mh=new RegExp(/^bytes([0-9]*)$/),Oh=new RegExp(/^(u?int)([0-9]*)$/);let Dh=null,Fh=1024;class Nh{#f(t){if(t.isArray())return new wc(this.#f(t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new Bc(t.components.map((t=>this.#f(t))),t.name);switch(t.baseType){case"address":return new gc(t.name);case"bool":return new Ec(t.name);case"string":return new Rc(t.name);case"bytes":return new kc(t.name);case"":return new _c(t.name)}let e=t.type.match(Oh);if(e){let r=parseInt(e[2]||"256");return Mo(0!==r&&r<=256&&r%8==0,"invalid "+e[1]+" bit length","param",t),new Ic(r/8,"int"===e[1],t.name)}if(e=t.type.match(Mh),e){let r=parseInt(e[1]);return Mo(0!==r&&r<=32,"invalid bytes length","param",t),new Ac(r,t.name)}Mo(!1,"invalid type","type",t.type)}getDefaultValue(t){const e=t.map((t=>this.#f(wh.from(t))));return new Bc(e,"_").defaultValue()}encode(t,e){Oo(e.length,t.length,"types/values length mismatch");const r=t.map((t=>this.#f(wh.from(t)))),n=new Bc(r,"_"),s=new fl;return n.encode(s,e),s.data}decode(t,e,r){const n=t.map((t=>this.#f(wh.from(t))));return new Bc(n,"_").decode(new ml(e,r,Fh))}static _setDefaultMaxInflation(t){Mo("number"==typeof t&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),Fh=t}static defaultAbiCoder(){return null==Dh&&(Dh=new Nh),Dh}static getBuiltinCallException(t,e,r){return function(t,e,r,n){let s="missing revert data",i=null,a=null;if(r){s="execution reverted";const t=Ro(r);if(r=Uo(r),0===t.length)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(t.length%32!=4)s+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===Uo(t.slice(0,4)))try{i=n.decode(["string"],t.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch(t){s+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===Uo(t.slice(0,4)))try{const e=Number(n.decode(["uint256"],t.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[e]},i=`Panic due to ${Ih.get(e)||"UNKNOWN"}(${e})`,s+=`: ${i}`}catch(t){s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const o={to:e.to?hc(e.to):null,data:e.data||"0x"};return e.from&&(o.from=hc(e.from)),To(s,"CALL_EXCEPTION",{action:t,data:r,reason:i,transaction:o,invocation:null,revert:a})}(t,e,r,Nh.defaultAbiCoder())}}function Rh(t){return t&&"function"==typeof t.getAddress}async function Bh(t,e){const r=await e;return null!=r&&"0x0000000000000000000000000000000000000000"!==r||(Io("string"!=typeof t,"unconfigured name","UNCONFIGURED_NAME",{value:t}),Mo(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),hc(r)}function Lh(t,e){return"string"==typeof t?t.match(/^0x[0-9a-f]{40}$/i)?hc(t):(Io(null!=e,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Bh(t,e.resolveName(t))):Rh(t)?Bh(t,t.getAddress()):t&&"function"==typeof t.then?Bh(t,t):void Mo(!1,"unsupported addressable value","target",t)}const jh=new Uint8Array(32);jh.fill(0);const Uh=BigInt(-1),Gh=BigInt(0),Vh=BigInt(1),zh=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const $h=nl(Vh,32),Hh=nl(Gh,32),qh={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Wh=["name","version","chainId","verifyingContract","salt"];function Kh(t){return function(e){return Mo("string"==typeof e,`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Jh={name:Kh("name"),version:Kh("version"),chainId:function(t){const e=Zo(t,"domain.chainId");return Mo(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):il(e)},verifyingContract:function(t){try{return hc(t).toLowerCase()}catch(t){}Mo(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Ro(t,"domain.salt");return Mo(32===e.length,'invalid domain value "salt"',"domain.salt",t),Uo(e)}};function Qh(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],n=parseInt(e[2]||"256");Mo(n%8==0&&0!==n&&n<=256&&(null==e[2]||e[2]===String(n)),"invalid numeric width","type",t);const s=Yo(zh,r?n-1:n),i=r?(s+Vh)*Uh:Gh;return function(e){const n=Zo(e,"value");return Mo(n>=i&&n<=s,`value out-of-bounds for ${t}`,"value",n),nl(r?Qo(n,256):n,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return Mo(0!==r&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(e){return Mo(Ro(e).length===r,`invalid length for ${t}`,"value",e),function(t){const e=Ro(t),r=e.length%32;return r?Go([e,jh.slice(r)]):Uo(e)}(e)}}}switch(t){case"address":return function(t){return Ho(hc(t),32)};case"bool":return function(t){return t?$h:Hh};case"bytes":return function(t){return rc(t)};case"string":return function(t){return Lc(t)}}return null}function Yh(t,e){return`${t}(${e.map((({name:t,type:e})=>e+" "+t)).join(",")})`}class Zh{primaryType;#m;get types(){return JSON.parse(this.#m)}#g;#y;constructor(t){this.#m=JSON.stringify(t),this.#g=new Map,this.#y=new Map;const e=new Map,r=new Map,n=new Map;Object.keys(t).forEach((t=>{e.set(t,new Set),r.set(t,[]),n.set(t,new Set)}));for(const n in t){const s=new Set;for(const i of t[n]){Mo(!s.has(i.name),`duplicate variable name ${JSON.stringify(i.name)} in ${JSON.stringify(n)}`,"types",t),s.add(i.name);const a=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;Mo(a!==n,`circular type reference to ${JSON.stringify(a)}`,"types",t);Qh(a)||(Mo(r.has(a),`unknown type ${JSON.stringify(a)}`,"types",t),r.get(a).push(n),e.get(n).add(a))}}const s=Array.from(r.keys()).filter((t=>0===r.get(t).length));Mo(0!==s.length,"missing primary type","types",t),Mo(1===s.length,`ambiguous primary types or unused types: ${s.map((t=>JSON.stringify(t))).join(", ")}`,"types",t),Po(this,{primaryType:s[0]}),function s(i,a){Mo(!a.has(i),`circular type reference to ${JSON.stringify(i)}`,"types",t),a.add(i);for(const t of e.get(i))if(r.has(t)){s(t,a);for(const e of a)n.get(e).add(t)}a.delete(i)}(this.primaryType,new Set);for(const[e,r]of n){const n=Array.from(r);n.sort(),this.#g.set(e,Yh(e,t[e])+n.map((e=>Yh(e,t[e]))).join(""))}}getEncoder(t){let e=this.#y.get(t);return e||(e=this.#b(t),this.#y.set(t,e)),e}#b(t){{const e=Qh(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t);return n=>{Mo(!e[3]||parseInt(e[3])===n.length,`array length mismatch; expected length ${parseInt(e[3])}`,"value",n);let s=n.map(r);return this.#g.has(t)&&(s=s.map(rc)),rc(Go(s))}}const r=this.types[t];if(r){const e=Lc(this.#g.get(t));return t=>{const n=r.map((({name:e,type:r})=>{const n=this.getEncoder(r)(t[e]);return this.#g.has(r)?rc(n):n}));return n.unshift(e),Go(n)}}Mo(!1,`unknown type: ${t}`,"type",t)}encodeType(t){const e=this.#g.get(t);return Mo(e,`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return rc(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(Qh(t))return r(t,e);const n=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n)return Mo(!n[3]||parseInt(n[3])===e.length,`array length mismatch; expected length ${parseInt(n[3])}`,"value",e),e.map((t=>this._visit(n[1],t,r)));const s=this.types[t];if(s)return s.reduce(((t,{name:n,type:s})=>(t[n]=this._visit(s,e[n],r),t)),{});Mo(!1,`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new Zh(t)}static getPrimaryType(t){return Zh.from(t).primaryType}static hashStruct(t,e,r){return Zh.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){if(null==t[r])continue;const n=qh[r];Mo(n,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:n})}return e.sort(((t,e)=>Wh.indexOf(t.name)-Wh.indexOf(e.name))),Zh.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return Go(["0x1901",Zh.hashDomain(t),Zh.from(e).hash(r)])}static hash(t,e,r){return rc(Zh.encode(t,e,r))}static async resolveNames(t,e,r,n){t=Object.assign({},t);for(const e in t)null==t[e]&&delete t[e];const s={};t.verifyingContract&&!Lo(t.verifyingContract,20)&&(s[t.verifyingContract]="0x");const i=Zh.from(e);i.visit(r,((t,e)=>("address"!==t||Lo(e,20)||(s[e]="0x"),e)));for(const t in s)s[t]=await n(t);return t.verifyingContract&&s[t.verifyingContract]&&(t.verifyingContract=s[t.verifyingContract]),{domain:t,value:r=i.visit(r,((t,e)=>"address"===t&&s[e]?s[e]:e))}}static getPayload(t,e,r){Zh.hashDomain(t);const n={},s=[];Wh.forEach((e=>{const r=t[e];null!=r&&(n[e]=Jh[e](r),s.push({name:e,type:qh[e]}))}));const i=Zh.from(e),a=Object.assign({},e);return Mo(null==a.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",e),a.EIP712Domain=s,i.encode(r),{types:a,domain:n,primaryType:i.primaryType,message:i.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return Uo(Ro(e));if(t.match(/^u?int/))return Zo(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return Mo("string"==typeof e,"invalid string","value",e),e}Mo(!1,"unsupported type","type",t)}))}}}function Xh(t,e){return{address:hc(t),storageKeys:e.map(((t,e)=>(Mo(Lo(t,32),"invalid slot",`storageKeys[${e}]`,t),t.toLowerCase())))}}function tu(t){if(Array.isArray(t))return t.map(((e,r)=>Array.isArray(e)?(Mo(2===e.length,"invalid slot set",`value[${r}]`,e),Xh(e[0],e[1])):(Mo(null!=e&&"object"==typeof e,"invalid address-slot set","value",t),Xh(e.address,e.storageKeys))));Mo(null!=t&&"object"==typeof t,"invalid access list","value",t);const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return Xh(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function eu(t){return async function(t,e){const r=t.url.split(":")[0].toLowerCase();let n;if(Io("http"===r||"https"===r,`unsupported protocol ${r}`,"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),Io("https"===r||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"}),e){const t=new AbortController;n=t.signal,e.addListener((()=>{t.abort()}))}const s={method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:n},i=await fetch(t.url,s),a={};i.headers.forEach(((t,e)=>{a[e.toLowerCase()]=t}));const o=await i.arrayBuffer(),l=null==o?null:new Uint8Array(o);return{statusCode:i.status,statusMessage:i.statusText,headers:a,body:l}}}eu();let ru=eu();const nu=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),su=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let iu=!1;async function au(t,e){try{const e=t.match(nu);if(!e)throw new Error("invalid data");return new pu(200,"OK",{"content-type":e[1]||"text/plain"},e[2]?function(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return Ro(e)}(e[3]):Fc(e[3].replace(/%([0-9a-f][0-9a-f])/gi,((t,e)=>String.fromCharCode(parseInt(e,16))))))}catch(e){return new pu(599,"BAD REQUEST (invalid data: URI)",{},null,new du(t))}}function ou(t){return async function(e,r){try{const r=e.match(su);if(!r)throw new Error("invalid link");return new du(`${t}${r[2]}`)}catch(t){return new pu(599,"BAD REQUEST (invalid IPFS URI)",{},null,new du(e))}}}const lu={data:au,ipfs:ou("https://gateway.ipfs.io/ipfs/")},cu=new WeakMap;class hu{#v;#w;constructor(t){this.#v=[],this.#w=!1,cu.set(t,(()=>{if(!this.#w){this.#w=!0;for(const t of this.#v)setTimeout((()=>{t()}),0);this.#v=[]}}))}addListener(t){Io(!this.#w,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#v.push(t)}get cancelled(){return this.#w}checkSignal(){Io(!this.cancelled,"cancelled","CANCELLED",{})}}function uu(t){if(null==t)throw new Error("missing signal; should not happen");return t.checkSignal(),t}class du{#E;#x;#k;#A;#P;#_;#S;#C;#T;#I;#M;#O;#D;#F;#N;get url(){return this.#_}set url(t){this.#_=String(t)}get body(){return null==this.#S?null:new Uint8Array(this.#S)}set body(t){if(null==t)this.#S=void 0,this.#C=void 0;else if("string"==typeof t)this.#S=Fc(t),this.#C="text/plain";else if(t instanceof Uint8Array)this.#S=t,this.#C="application/octet-stream";else{if("object"!=typeof t)throw new Error("invalid body");this.#S=Fc(JSON.stringify(t)),this.#C="application/json"}}hasBody(){return null!=this.#S}get method(){return this.#A?this.#A:this.hasBody()?"POST":"GET"}set method(t){null==t&&(t=""),this.#A=String(t).toUpperCase()}get headers(){const t=Object.assign({},this.#k);return this.#T&&(t.authorization=`Basic ${function(t){const e=Ro(t);let r="";for(let t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return btoa(r)}(Fc(this.#T))}`),this.allowGzip&&(t["accept-encoding"]="gzip"),null==t["content-type"]&&this.#C&&(t["content-type"]=this.#C),this.body&&(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){this.#k[String(t).toLowerCase()]=String(e)}clearHeaders(){this.#k={}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let r=0;return{next:()=>{if(r<e.length){const n=e[r++];return{value:[n,t[n]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#T||null}setCredentials(t,e){Mo(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#T=`${t}:${e}`}get allowGzip(){return this.#x}set allowGzip(t){this.#x=!!t}get allowInsecureAuthentication(){return!!this.#E}set allowInsecureAuthentication(t){this.#E=!!t}get timeout(){return this.#P}set timeout(t){Mo(t>=0,"timeout must be non-zero","timeout",t),this.#P=t}get preflightFunc(){return this.#I||null}set preflightFunc(t){this.#I=t}get processFunc(){return this.#M||null}set processFunc(t){this.#M=t}get retryFunc(){return this.#O||null}set retryFunc(t){this.#O=t}get getUrlFunc(){return this.#N||ru}set getUrlFunc(t){this.#N=t}constructor(t){this.#_=String(t),this.#E=!1,this.#x=!0,this.#k={},this.#A="",this.#P=3e5,this.#F={slotInterval:250,maxAttempts:12},this.#N=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#S?Uo(this.#S):"null"}>`}setThrottleParams(t){null!=t.slotInterval&&(this.#F.slotInterval=t.slotInterval),null!=t.maxAttempts&&(this.#F.maxAttempts=t.maxAttempts)}async#R(t,e,r,n,s){if(t>=this.#F.maxAttempts)return s.makeServerError("exceeded maximum retry limit");Io(fu()<=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:n}),r>0&&await function(t){return new Promise((e=>setTimeout(e,t)))}(r);let i=this.clone();const a=(i.url.split(":")[0]||"").toLowerCase();if(a in lu){const t=await lu[a](i.url,uu(n.#D));if(t instanceof pu){let e=t;if(this.processFunc){uu(n.#D);try{e=await this.processFunc(i,e)}catch(t){null!=t.throttle&&"number"==typeof t.stall||e.makeServerError("error in post-processing function",t).assertOk()}}return e}i=t}this.preflightFunc&&(i=await this.preflightFunc(i));const o=await this.getUrlFunc(i,uu(n.#D));let l=new pu(o.statusCode,o.statusMessage,o.headers,o.body,n);if(301===l.statusCode||302===l.statusCode){try{const r=l.headers.location||"";return i.redirect(r).#R(t+1,e,0,n,l)}catch(t){}return l}if(429===l.statusCode&&(null==this.retryFunc||await this.retryFunc(i,l,t))){const r=l.headers["retry-after"];let s=this.#F.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return"string"==typeof r&&r.match(/^[1-9][0-9]*$/)&&(s=parseInt(r)),i.clone().#R(t+1,e,s,n,l)}if(this.processFunc){uu(n.#D);try{l=await this.processFunc(i,l)}catch(r){null!=r.throttle&&"number"==typeof r.stall||l.makeServerError("error in post-processing function",r).assertOk();let s=this.#F.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return r.stall>=0&&(s=r.stall),i.clone().#R(t+1,e,s,n,l)}}return l}send(){return Io(null==this.#D,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#D=new hu(this),this.#R(0,fu()+this.timeout,0,this,new pu(0,"",{},null,this))}cancel(){Io(null!=this.#D,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=cu.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const e=this.url.split(":")[0].toLowerCase(),r=t.split(":")[0].toLowerCase();Io("GET"===this.method&&("https"!==e||"http"!==r)&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});const n=new du(t);return n.method="GET",n.allowGzip=this.allowGzip,n.timeout=this.timeout,n.#k=Object.assign({},this.#k),this.#S&&(n.#S=new Uint8Array(this.#S)),n.#C=this.#C,n}clone(){const t=new du(this.url);return t.#A=this.#A,this.#S&&(t.#S=this.#S),t.#C=this.#C,t.#k=Object.assign({},this.#k),t.#T=this.#T,this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),t.#I=this.#I,t.#M=this.#M,t.#O=this.#O,t.#N=this.#N,t}static lockConfig(){iu=!0}static getGateway(t){return lu[t.toLowerCase()]||null}static registerGateway(t,e){if("http"===(t=t.toLowerCase())||"https"===t)throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(iu)throw new Error("gateways locked");lu[t]=e}static registerGetUrl(t){if(iu)throw new Error("gateways locked");ru=t}static createGetUrlFunc(t){return eu()}static createDataGateway(){return au}static createIpfsGatewayFunc(t){return ou(t)}}class pu{#B;#L;#k;#S;#j;#U;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#S?Uo(this.#S):"null"}>`}get statusCode(){return this.#B}get statusMessage(){return this.#L}get headers(){return Object.assign({},this.#k)}get body(){return null==this.#S?null:new Uint8Array(this.#S)}get bodyText(){try{return null==this.#S?"":Nc(this.#S)}catch(t){Io(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(t){Io(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let r=0;return{next:()=>{if(r<e.length){const n=e[r++];return{value:[n,t[n]],done:!1}}return{value:void 0,done:!0}}}}constructor(t,e,r,n,s){this.#B=t,this.#L=e,this.#k=Object.keys(r).reduce(((t,e)=>(t[e.toLowerCase()]=String(r[e]),t)),{}),this.#S=null==n?null:new Uint8Array(n),this.#j=s||null,this.#U={message:""}}makeServerError(t,e){let r;r=t?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:`CLIENT ESCALATED SERVER ERROR (${t=`${this.statusCode} ${this.statusMessage}`})`;const n=new pu(599,r,this.headers,this.body,this.#j||void 0);return n.#U={message:t,error:e},n}throwThrottleError(t,e){null==e?e=-1:Mo(Number.isInteger(e)&&e>=0,"invalid stall timeout","stall",e);const r=new Error(t||"throttling requests");throw Po(r,{stall:e,throttle:!0}),r}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return null!=this.#S}get request(){return this.#j}ok(){return""===this.#U.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:e}=this.#U;""===t&&(t=`server response ${this.statusCode} ${this.statusMessage}`),Io(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:e})}}function fu(){return(new Date).getTime()}const mu="0x0000000000000000000000000000000000000000";class gu{fragment;name;signature;topic;args;constructor(t,e,r){const n=t.name,s=t.format();Po(this,{fragment:t,name:n,signature:s,topic:e,args:r})}}class yu{fragment;name;args;signature;selector;value;constructor(t,e,r,n){const s=t.name,i=t.format();Po(this,{fragment:t,name:s,args:r,signature:i,selector:e,value:n})}}class bu{fragment;name;args;signature;selector;constructor(t,e,r){const n=t.name,s=t.format();Po(this,{fragment:t,name:n,args:r,signature:s,selector:e})}}class vu{hash;_isIndexed;static isIndexed(t){return!(!t||!t._isIndexed)}constructor(t){Po(this,{hash:t,_isIndexed:!0})}}const wu={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Eu={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&wu[t.toString()]&&(e=wu[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class xu{fragments;deploy;fallback;receive;#G;#V;#z;#$;constructor(t){let e=[];e="string"==typeof t?JSON.parse(t):t,this.#z=new Map,this.#G=new Map,this.#V=new Map;const r=[];for(const t of e)try{r.push(Eh.from(t))}catch(t){console.log("EE",t)}Po(this,{fragments:Object.freeze(r)});let n=null,s=!1;this.#$=this.getAbiCoder(),this.fragments.forEach(((t,e)=>{let r;switch(t.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void Po(this,{deploy:t});case"fallback":return void(0===t.inputs.length?s=!0:(Mo(!n||t.payable!==n.payable,"conflicting fallback fragments",`fragments[${e}]`,t),n=t,s=n.payable));case"function":r=this.#z;break;case"event":r=this.#V;break;case"error":r=this.#G;break;default:return}const i=t.format();r.has(i)||r.set(i,t)})),this.deploy||Po(this,{deploy:_h.from("constructor()")}),Po(this,{fallback:n,receive:s})}format(t){const e=t?"minimal":"full";return this.fragments.map((t=>t.format(e)))}formatJson(){const t=this.fragments.map((t=>t.format("json")));return JSON.stringify(t.map((t=>JSON.parse(t))))}getAbiCoder(){return Nh.defaultAbiCoder()}#H(t,e,r){if(Lo(t)){const e=t.toLowerCase();for(const t of this.#z.values())if(e===t.selector)return t;return null}if(-1===t.indexOf("(")){const n=[];for(const[e,r]of this.#z)e.split("(")[0]===t&&n.push(r);if(e){const t=e.length>0?e[e.length-1]:null;let r=e.length,s=!0;mc.isTyped(t)&&"overrides"===t.type&&(s=!1,r--);for(let t=n.length-1;t>=0;t--){const e=n[t].inputs.length;e===r||s&&e===r-1||n.splice(t,1)}for(let t=n.length-1;t>=0;t--){const r=n[t].inputs;for(let s=0;s<e.length;s++)if(mc.isTyped(e[s])){if(s>=r.length){if("overrides"===e[s].type)continue;n.splice(t,1);break}if(e[s].type!==r[s].baseType){n.splice(t,1);break}}}}if(1===n.length&&e&&e.length!==n[0].inputs.length){const t=e[e.length-1];(null==t||Array.isArray(t)||"object"!=typeof t)&&n.splice(0,1)}if(0===n.length)return null;if(n.length>1&&r){Mo(!1,`ambiguous function description (i.e. matches ${n.map((t=>JSON.stringify(t.format()))).join(", ")})`,"key",t)}return n[0]}const n=this.#z.get(Ch.from(t).format());return n||null}getFunctionName(t){const e=this.#H(t,null,!1);return Mo(e,"no matching function","key",t),e.name}hasFunction(t){return!!this.#H(t,null,!1)}getFunction(t,e){return this.#H(t,e||null,!0)}forEachFunction(t){const e=Array.from(this.#z.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let r=0;r<e.length;r++){const n=e[r];t(this.#z.get(n),r)}}#q(t,e,r){if(Lo(t)){const e=t.toLowerCase();for(const t of this.#V.values())if(e===t.topicHash)return t;return null}if(-1===t.indexOf("(")){const n=[];for(const[e,r]of this.#V)e.split("(")[0]===t&&n.push(r);if(e){for(let t=n.length-1;t>=0;t--)n[t].inputs.length<e.length&&n.splice(t,1);for(let t=n.length-1;t>=0;t--){const r=n[t].inputs;for(let s=0;s<e.length;s++)if(mc.isTyped(e[s])&&e[s].type!==r[s].baseType){n.splice(t,1);break}}}if(0===n.length)return null;if(n.length>1&&r){Mo(!1,`ambiguous event description (i.e. matches ${n.map((t=>JSON.stringify(t.format()))).join(", ")})`,"key",t)}return n[0]}const n=this.#V.get(Ph.from(t).format());return n||null}getEventName(t){const e=this.#q(t,null,!1);return Mo(e,"no matching event","key",t),e.name}hasEvent(t){return!!this.#q(t,null,!1)}getEvent(t,e){return this.#q(t,e||null,!0)}forEachEvent(t){const e=Array.from(this.#V.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let r=0;r<e.length;r++){const n=e[r];t(this.#V.get(n),r)}}getError(t,e){if(Lo(t)){const e=t.toLowerCase();if(Eu[e])return Ah.from(Eu[e].signature);for(const t of this.#G.values())if(e===t.selector)return t;return null}if(-1===t.indexOf("(")){const e=[];for(const[r,n]of this.#G)r.split("(")[0]===t&&e.push(n);if(0===e.length)return"Error"===t?Ah.from("error Error(string)"):"Panic"===t?Ah.from("error Panic(uint256)"):null;if(e.length>1){Mo(!1,`ambiguous error description (i.e. ${e.map((t=>JSON.stringify(t.format()))).join(", ")})`,"name",t)}return e[0]}if("Error(string)"===(t=Ah.from(t).format()))return Ah.from("error Error(string)");if("Panic(uint256)"===t)return Ah.from("error Panic(uint256)");const r=this.#G.get(t);return r||null}forEachError(t){const e=Array.from(this.#G.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let r=0;r<e.length;r++){const n=e[r];t(this.#G.get(n),r)}}_decodeParams(t,e){return this.#$.decode(t,e)}_encodeParams(t,e){return this.#$.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if("string"==typeof t){const e=this.getError(t);Mo(e,"unknown error","fragment",t),t=e}return Mo(zo(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,zo(e,4))}encodeErrorResult(t,e){if("string"==typeof t){const e=this.getError(t);Mo(e,"unknown error","fragment",t),t=e}return Go([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if("string"==typeof t){const e=this.getFunction(t);Mo(e,"unknown function","fragment",t),t=e}return Mo(zo(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,zo(e,4))}encodeFunctionData(t,e){if("string"==typeof t){const e=this.getFunction(t);Mo(e,"unknown function","fragment",t),t=e}return Go([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if("string"==typeof t){const e=this.getFunction(t);Mo(e,"unknown function","fragment",t),t=e}let r="invalid length for result data";const n=Bo(e);if(n.length%32==0)try{return this.#$.decode(t.outputs,n)}catch(t){r="could not decode result data"}Io(!1,r,"BAD_DATA",{value:Uo(n),info:{method:t.name,signature:t.format()}})}makeError(t,e){const r=Ro(t,"data"),n=Nh.getBuiltinCallException("call",e,r);if(n.message.startsWith("execution reverted (unknown custom error)")){const t=Uo(r.slice(0,4)),e=this.getError(t);if(e)try{const t=this.#$.decode(e.inputs,r.slice(4));n.revert={name:e.name,signature:e.format(),args:t},n.reason=n.revert.signature,n.message=`execution reverted: ${n.reason}`}catch(t){n.message="execution reverted (coult not decode custom error)"}}const s=this.parseTransaction(e);return s&&(n.invocation={method:s.name,signature:s.signature,args:s.args}),n}encodeFunctionResult(t,e){if("string"==typeof t){const e=this.getFunction(t);Mo(e,"unknown function","fragment",t),t=e}return Uo(this.#$.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if("string"==typeof t){const e=this.getEvent(t);Mo(e,"unknown event","eventFragment",t),t=e}Io(e.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const r=[];t.anonymous||r.push(t.topicHash);const n=(t,e)=>"string"===t.type?Lc(e):"bytes"===t.type?rc(Uo(e)):("bool"===t.type&&"boolean"==typeof e?e=e?"0x01":"0x00":t.type.match(/^u?int/)?e=nl(e):t.type.match(/^bytes/)?e=function(t,e){return $o(t,e,!1)}(e,32):"address"===t.type&&this.#$.encode(["address"],[e]),Ho(Uo(e),32));for(e.forEach(((e,s)=>{const i=t.inputs[s];i.indexed?null==e?r.push(null):"array"===i.baseType||"tuple"===i.baseType?Mo(!1,"filtering with tuples or arrays not supported","contract."+i.name,e):Array.isArray(e)?r.push(e.map((t=>n(i,t)))):r.push(n(i,e)):Mo(null==e,"cannot filter non-indexed parameters; must be null","contract."+i.name,e)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(t,e){if("string"==typeof t){const e=this.getEvent(t);Mo(e,"unknown event","eventFragment",t),t=e}const r=[],n=[],s=[];return t.anonymous||r.push(t.topicHash),Mo(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach(((t,i)=>{const a=e[i];if(t.indexed)if("string"===t.type)r.push(Lc(a));else if("bytes"===t.type)r.push(rc(a));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");r.push(this.#$.encode([t.type],[a]))}else n.push(t),s.push(a)})),{data:this.#$.encode(n,s),topics:r}}decodeEventLog(t,e,r){if("string"==typeof t){const e=this.getEvent(t);Mo(e,"unknown event","eventFragment",t),t=e}if(null!=r&&!t.anonymous){const e=t.topicHash;Mo(Lo(r[0],32)&&r[0].toLowerCase()===e,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const n=[],s=[],i=[];t.inputs.forEach(((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(n.push(wh.from({type:"bytes32",name:t.name})),i.push(!0)):(n.push(t),i.push(!1)):(s.push(t),i.push(!1))}));const a=null!=r?this.#$.decode(n,Go(r)):null,o=this.#$.decode(s,e,!0),l=[],c=[];let h=0,u=0;return t.inputs.forEach(((t,e)=>{let r=null;if(t.indexed)if(null==a)r=new vu(null);else if(i[e])r=new vu(a[u++]);else try{r=a[u++]}catch(t){r=t}else try{r=o[h++]}catch(t){r=t}l.push(r),c.push(t.name||null)})),ul.fromItems(l,c)}parseTransaction(t){const e=Ro(t.data,"tx.data"),r=Zo(null!=t.value?t.value:0,"tx.value"),n=this.getFunction(Uo(e.slice(0,4)));if(!n)return null;const s=this.#$.decode(n.inputs,e.slice(4));return new yu(n,n.selector,s,r)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new gu(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=Uo(t),r=this.getError(zo(e,0,4));if(!r)return null;const n=this.#$.decode(r.inputs,zo(e,4));return new bu(r,r.selector,n)}static from(t){return t instanceof xu?t:"string"==typeof t?new xu(JSON.parse(t)):"function"==typeof t.format?new xu(t.format("json")):new xu(t)}}const ku=BigInt(0);function Au(t){return null==t?null:t}function Pu(t){return null==t?null:t.toString()}class _u{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(t,e,r){Po(this,{gasPrice:Au(t),maxFeePerGas:Au(e),maxPriorityFeePerGas:Au(r)})}toJSON(){const{gasPrice:t,maxFeePerGas:e,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Pu(t),maxFeePerGas:Pu(e),maxPriorityFeePerGas:Pu(r)}}}function Su(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Uo(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const n of r)n in t&&null!=t[n]&&(e[n]=Zo(t[n],`request.${n}`));const n="type,nonce".split(/,/);for(const r of n)r in t&&null!=t[r]&&(e[r]=rl(t[r],`request.${r}`));return t.accessList&&(e.accessList=tu(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),e}class Cu{provider;number;hash;timestamp;parentHash;nonce;difficulty;gasLimit;gasUsed;miner;extraData;baseFeePerGas;#W;constructor(t,e){this.#W=t.transactions.map((t=>"string"!=typeof t?new Mu(t,e):t)),Po(this,{provider:e,hash:Au(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,miner:t.miner,extraData:t.extraData,baseFeePerGas:Au(t.baseFeePerGas)})}get transactions(){return this.#W.map((t=>"string"==typeof t?t:t.hash))}get prefetchedTransactions(){const t=this.#W.slice();return 0===t.length?[]:(Io("object"==typeof t[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:e,extraData:r,gasLimit:n,gasUsed:s,hash:i,miner:a,nonce:o,number:l,parentHash:c,timestamp:h,transactions:u}=this;return{_type:"Block",baseFeePerGas:Pu(t),difficulty:Pu(e),extraData:r,gasLimit:Pu(n),gasUsed:Pu(s),hash:i,miner:a,nonce:o,number:l,parentHash:c,timestamp:h,transactions:u}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=>t<this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#W.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(t){let e;if("number"==typeof t)e=this.#W[t];else{const r=t.toLowerCase();for(const t of this.#W){if("string"==typeof t){if(t!==r)continue;e=t;break}if(t.hash!==r){e=t;break}}}if(null==e)throw new Error("no such tx");return"string"==typeof e?await this.provider.getTransaction(e):e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if("number"==typeof t)return e[t];t=t.toLowerCase();for(const r of e)if(r.hash===t)return r;Mo(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(t=this).hash,number:t.number};var t}}class Tu{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(t,e){this.provider=e;const r=Object.freeze(t.topics.slice());Po(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:r,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:r,data:n,index:s,removed:i,topics:a,transactionHash:o,transactionIndex:l}=this;return{_type:"log",address:t,blockHash:e,blockNumber:r,data:n,index:s,removed:i,topics:a,transactionHash:o,transactionIndex:l}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return Io(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return Io(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return Io(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(t=this).transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}};var t}}class Iu{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;cumulativeGasUsed;gasPrice;type;status;root;#K;constructor(t,e){this.#K=Object.freeze(t.logs.map((t=>new Tu(t,e))));let r=ku;null!=t.effectiveGasPrice?r=t.effectiveGasPrice:null!=t.gasPrice&&(r=t.gasPrice),Po(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,gasPrice:r,type:t.type,status:t.status,root:t.root})}get logs(){return this.#K}toJSON(){const{to:t,from:e,contractAddress:r,hash:n,index:s,blockHash:i,blockNumber:a,logsBloom:o,logs:l,status:c,root:h}=this;return{_type:"TransactionReceipt",blockHash:i,blockNumber:a,contractAddress:r,cumulativeGasUsed:Pu(this.cumulativeGasUsed),from:e,gasPrice:Pu(this.gasPrice),gasUsed:Pu(this.gasUsed),hash:n,index:s,logs:l,logsBloom:o,root:h,status:c,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(null==t)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(null==t)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Du(this)}reorderedEvent(t){return Io(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Ou(this,t)}}class Mu{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;data;value;chainId;signature;accessList;#J;constructor(t,e){this.provider=e,this.blockNumber=null!=t.blockNumber?t.blockNumber:null,this.blockHash=null!=t.blockHash?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=null!=t.maxPriorityFeePerGas?t.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=t.maxFeePerGas?t.maxFeePerGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=null!=t.accessList?t.accessList:null,this.#J=-1}toJSON(){const{blockNumber:t,blockHash:e,index:r,hash:n,type:s,to:i,from:a,nonce:o,data:l,signature:c,accessList:h}=this;return{_type:"TransactionReceipt",accessList:h,blockNumber:t,blockHash:e,chainId:Pu(this.chainId),data:l,from:a,gasLimit:Pu(this.gasLimit),gasPrice:Pu(this.gasPrice),hash:n,maxFeePerGas:Pu(this.maxFeePerGas),maxPriorityFeePerGas:Pu(this.maxPriorityFeePerGas),nonce:o,signature:c,to:i,index:r,type:s,value:Pu(this.value)}}async getBlock(){let t=this.blockNumber;if(null==t){const e=await this.getTransaction();e&&(t=e.blockNumber)}if(null==t)return null;const e=this.provider.getBlock(t);if(null==e)throw new Error("TODO");return e}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:t,blockNumber:e}=await Ao({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==t||null==t.blockNumber?0:e-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,e){const r=null==t?1:t,n=null==e?0:e;let s=this.#J,i=-1,a=-1===s;const o=async()=>{if(a)return null;const{blockNumber:t,nonce:e}=await Ao({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(e<this.nonce)return void(s=t);if(a)return null;const n=await this.getTransaction();if(!n||null==n.blockNumber)for(-1===i&&(i=s-3,i<this.#J&&(i=this.#J));i<=t;){if(a)return null;const e=await this.provider.getBlock(i,!0);if(null==e)return;for(const t of e)if(t===this.hash)return;for(let n=0;n<e.length;n++){const i=await e.getTransaction(n);if(i.from===this.from&&i.nonce===this.nonce){if(a)return null;const e=await this.provider.getTransactionReceipt(i.hash);if(null==e)return;if(t-e.blockNumber+1<r)return;let n="replaced";i.data===this.data&&i.to===this.to&&i.value===this.value?n="repriced":"0x"===i.data&&i.from===i.to&&i.value===ku&&(n="cancelled"),Io(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===n||"cancelled"===n,reason:n,replacement:i.replaceableTransaction(s),hash:i.hash,receipt:e})}}i++}},l=t=>{if(null==t||0!==t.status)return t;Io(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:t.to,from:t.from,data:""},receipt:t})},c=await this.provider.getTransactionReceipt(this.hash);if(0===r)return l(c);if(c){if(await c.confirmations()>=r)return l(c)}else if(await o(),0===r)return null;const h=new Promise(((t,e)=>{const i=[],c=()=>{i.forEach((t=>t()))};if(i.push((()=>{a=!0})),n>0){const t=setTimeout((()=>{c(),e(To("wait for transaction timeout","TIMEOUT"))}),n);i.push((()=>{clearTimeout(t)}))}const h=async n=>{if(await n.confirmations()>=r){c();try{t(l(n))}catch(t){e(t)}}};if(i.push((()=>{this.provider.off(this.hash,h)})),this.provider.on(this.hash,h),s>=0){const t=async()=>{try{await o()}catch(t){if(So(t,"TRANSACTION_REPLACED"))return c(),void e(t)}a||this.provider.once("block",t)};i.push((()=>{this.provider.off("block",t)})),this.provider.once("block",t)}}));return await h}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}removedEvent(){return Io(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Du(this)}reorderedEvent(t){return Io(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Io(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ou(this,t)}replaceableTransaction(t){Mo(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const e=new Mu(this,this.provider);return e.#J=t,e}}function Ou(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function Du(t){return{orphan:"drop-transaction",tx:t}}class Fu{filter;emitter;#Q;constructor(t,e,r){this.#Q=e,Po(this,{emitter:t,filter:r})}async removeListener(){null!=this.#Q&&await this.emitter.off(this.filter,this.#Q)}}class Nu extends Tu{interface;fragment;args;constructor(t,e,r){super(t,t.provider);Po(this,{args:e.decodeEventLog(r,t.data,t.topics),fragment:r,interface:e})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Ru extends Tu{error;constructor(t,e){super(t,t.provider),Po(this,{error:e})}}class Bu extends Iu{#Y;constructor(t,e,r){super(r,e),this.#Y=t}get logs(){return super.logs.map((t=>{const e=t.topics.length?this.#Y.getEvent(t.topics[0]):null;if(e)try{return new Nu(t,this.#Y,e)}catch(e){return new Ru(t,e)}return t}))}}class Lu extends Mu{#Y;constructor(t,e,r){super(r,e),this.#Y=t}async wait(t){const e=await super.wait(t);return null==e?null:new Bu(this.#Y,this.provider,e)}}class ju extends Fu{log;constructor(t,e,r,n){super(t,e,r),Po(this,{log:n})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Uu extends ju{constructor(t,e,r,n,s){super(t,e,r,new Nu(s,t.interface,n));Po(this,{args:t.interface.decodeEventLog(n,this.log.data,this.log.topics),fragment:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Gu=BigInt(0);function Vu(t){return t&&"function"==typeof t.call}function zu(t){return t&&"function"==typeof t.estimateGas}function $u(t){return t&&"function"==typeof t.resolveName}function Hu(t){return t&&"function"==typeof t.sendTransaction}function qu(t){if(null!=t){if($u(t))return t;if(t.provider)return t.provider}}class Wu{#Z;fragment;constructor(t,e,r){if(Po(this,{fragment:e}),e.inputs.length<r.length)throw new Error("too many arguments");const n=Ku(t.runner,"resolveName"),s=$u(n)?n:null;this.#Z=async function(){const n=await Promise.all(e.inputs.map(((t,e)=>null==r[e]?null:t.walkAsync(r[e],((t,e)=>"address"===t?Array.isArray(e)?Promise.all(e.map((t=>Lh(t,s)))):Lh(e,s):e)))));return t.interface.encodeFilterTopics(e,n)}()}getTopicFilter(){return this.#Z}}function Ku(t,e){return null==t?null:"function"==typeof t[e]?t:t.provider&&"function"==typeof t.provider[e]?t.provider:null}function Ju(t){return null==t?null:t.provider||null}async function Qu(t,e){const r=mc.dereference(t,"overrides");Mo("object"==typeof r,"invalid overrides parameter","overrides",t);const n=Su(r);return Mo(null==n.to||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),Mo(null==n.data||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}function Yu(t){const e=async function(e){const r=await Qu(e,["data"]);r.to=await t.getAddress(),r.from&&(r.from=await Lh(r.from,qu(t.runner)));const n=t.interface,s=Zo(r.value||Gu,"overrides.value")===Gu,i="0x"===(r.data||"0x");!n.fallback||n.fallback.payable||!n.receive||i||s||Mo(!1,"cannot send data to receive or send value to non-payable fallback","overrides",e),Mo(n.fallback||i,"cannot send data to receive-only contract","overrides.data",r.data);return Mo(n.receive||n.fallback&&n.fallback.payable||s,"cannot send value to non-payable fallback","overrides.value",r.value),Mo(n.fallback||i,"cannot send data to receive-only contract","overrides.data",r.data),r},r=async function(r){const n=t.runner;Io(Hu(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const s=await n.sendTransaction(await e(r)),i=Ju(t.runner);return new Lu(t.interface,i,s)},n=async t=>await r(t);return Po(n,{_contract:t,estimateGas:async function(r){const n=Ku(t.runner,"estimateGas");return Io(zu(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await e(r))},populateTransaction:e,send:r,staticCall:async function(r){const n=Ku(t.runner,"call");Io(Vu(n),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const s=await e(r);try{return await n.call(s)}catch(e){if(Co(e)&&e.data)throw t.interface.makeError(e.data,s);throw e}}}),n}function Zu(t,e){const r=function(...r){const n=t.interface.getFunction(e,r);return Io(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:r}}),n},n=async function(...e){const n=r(...e);let s={};if(n.inputs.length+1===e.length&&(s=await Qu(e.pop()),s.from&&(s.from=await Lh(s.from,qu(t.runner)))),n.inputs.length!==e.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const i=await async function(t,e,r){const n=Ku(t,"resolveName"),s=$u(n)?n:null;return await Promise.all(e.map(((t,e)=>t.walkAsync(r[e],((t,e)=>(e=mc.dereference(e,t),"address"===t?Lh(e,s):e))))))}(t.runner,n.inputs,e);return Object.assign({},s,await Ao({to:t.getAddress(),data:t.interface.encodeFunctionData(n,i)}))},s=async function(...t){const e=await a(...t);return 1===e.length?e[0]:e},i=async function(...e){const r=t.runner;Io(Hu(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const s=await r.sendTransaction(await n(...e)),i=Ju(t.runner);return new Lu(t.interface,i,s)},a=async function(...e){const s=Ku(t.runner,"call");Io(Vu(s),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await n(...e);let a="0x";try{a=await s.call(i)}catch(e){if(Co(e)&&e.data)throw t.interface.makeError(e.data,i);throw e}const o=r(...e);return t.interface.decodeFunctionResult(o,a)},o=async(...t)=>r(...t).constant?await s(...t):await i(...t);return Po(o,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:async function(...e){const r=Ku(t.runner,"estimateGas");return Io(zu(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await n(...e))},populateTransaction:n,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(o,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=t.interface.getFunction(e);return Io(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),r}}),o}const Xu=Symbol.for("_ethersInternal_contract"),td=new WeakMap;function ed(t){return td.get(t[Xu])}async function rd(t,e){let r,n=null;if(Array.isArray(e)){const n=function(e){if(Lo(e,32))return e;const r=t.interface.getEvent(e);return Mo(r,"unknown fragment","name",e),r.topicHash};r=e.map((t=>null==t?null:Array.isArray(t)?t.map(n):n(t)))}else"*"===e?r=[null]:"string"==typeof e?Lo(e,32)?r=[e]:(n=t.interface.getEvent(e),Mo(n,"unknown fragment","event",e),r=[n.topicHash]):(s=e)&&"object"==typeof s&&"getTopicFilter"in s&&"function"==typeof s.getTopicFilter&&s.fragment?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):Mo(!1,"unknown event name","event",e);var s;r=r.map((t=>{if(null==t)return null;if(Array.isArray(t)){const e=Array.from(new Set(t.map((t=>t.toLowerCase()))).values());return 1===e.length?e[0]:(e.sort(),e)}return t.toLowerCase()}));return{fragment:n,tag:r.map((t=>null==t?"null":Array.isArray(t)?t.join("|"):t)).join("&"),topics:r}}async function nd(t,e){const{subs:r}=ed(t);return r.get((await rd(t,e)).tag)||null}async function sd(t,e,r){const n=Ju(t.runner);Io(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:a}=await rd(t,r),{addr:o,subs:l}=ed(t);let c=l.get(i);if(!c){const e={address:o||t,topics:a},h=e=>{let n=s;if(null==n)try{n=t.interface.getEvent(e.topics[0])}catch(t){}if(n){const i=n,a=s?t.interface.decodeEventLog(s,e.data,e.topics):[];ad(t,r,a,(n=>new Uu(t,n,r,i,e)))}else ad(t,r,[],(n=>new ju(t,n,r,e)))};let u=[];c={tag:i,listeners:[],start:()=>{u.length||u.push(n.on(e,h))},stop:async()=>{if(0==u.length)return;let t=u;u=[],await Promise.all(t),n.off(e,h)}},l.set(i,c)}return c}let id=Promise.resolve();async function ad(t,e,r,n){try{await id}catch(t){}const s=async function(t,e,r,n){await id;const s=await nd(t,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter((({listener:e,once:s})=>{const i=Array.from(r);n&&i.push(n(s?null:e));try{e.call(t,...i)}catch(t){}return!s})),0===s.listeners.length&&(s.stop(),ed(t).subs.delete(s.tag)),i>0}(t,e,r,n);return id=s,await s}const od=["then"];class ld{target;interface;runner;filters;[Xu];fallback;constructor(t,e,r,n){Mo("string"==typeof t||Rh(t),"invalid value for Contract target","target",t),null==r&&(r=null);const s=xu.from(e);let i;Po(this,{target:t,runner:r,interface:s}),Object.defineProperty(this,Xu,{value:{}});let a=null,o=null;if(n){const t=Ju(r);o=new Lu(this.interface,t,n)}let l=new Map;if("string"==typeof t)if(Lo(t))a=t,i=Promise.resolve(t);else{const e=Ku(r,"resolveName");if(!$u(e))throw To("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});i=e.resolveName(t).then((e=>{if(null==e)throw To("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return ed(this).addr=e,e}))}else i=t.getAddress().then((t=>{if(null==t)throw new Error("TODO");return ed(this).addr=t,t}));!function(t,e){td.set(t[Xu],e)}(this,{addrPromise:i,addr:a,deployTx:o,subs:l});const c=new Proxy({},{get:(t,e,r)=>{if("symbol"==typeof e||od.indexOf(e)>=0)return Reflect.get(t,e,r);try{return this.getEvent(e)}catch(t){if(!So(t,"INVALID_ARGUMENT")||"key"!==t.argument)throw t}},has:(t,e)=>od.indexOf(e)>=0?Reflect.has(t,e):Reflect.has(t,e)||this.interface.hasEvent(String(e))});return Po(this,{filters:c}),Po(this,{fallback:s.receive||s.fallback?Yu(this):null}),new Proxy(this,{get:(t,e,r)=>{if("symbol"==typeof e||e in t||od.indexOf(e)>=0)return Reflect.get(t,e,r);try{return t.getFunction(e)}catch(t){if(!So(t,"INVALID_ARGUMENT")||"key"!==t.argument)throw t}},has:(t,e)=>"symbol"==typeof e||e in t||od.indexOf(e)>=0?Reflect.has(t,e):t.interface.hasFunction(e)})}connect(t){return new ld(this.target,this.interface,t)}attach(t){return new ld(t,this.interface,this.runner)}async getAddress(){return await ed(this).addrPromise}async getDeployedCode(){const t=Ju(this.runner);Io(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return"0x"===e?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(null!=await this.getDeployedCode())return this;const e=Ju(this.runner);return Io(null!=e,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((t,r)=>{const n=async()=>{try{if(null!=await this.getDeployedCode())return t(this);e.once("block",n)}catch(t){r(t)}};n()}))}deploymentTransaction(){return ed(this).deployTx}getFunction(t){"string"!=typeof t&&(t=t.format());return Zu(this,t)}getEvent(t){return"string"!=typeof t&&(t=t.format()),function(t,e){const r=function(...r){const n=t.interface.getEvent(e,r);return Io(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:r}}),n},n=function(...e){return new Wu(t,r(...e),e)};return Po(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=t.interface.getEvent(e);return Io(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),r}}),n}(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,r){null==e&&(e=0),null==r&&(r="latest");const{addr:n,addrPromise:s}=ed(this),i=n||await s,{fragment:a,topics:o}=await rd(this,t),l={address:i,topics:o,fromBlock:e,toBlock:r},c=Ju(this.runner);return Io(c,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await c.getLogs(l)).map((t=>{let e=a;if(null==e)try{e=this.interface.getEvent(t.topics[0])}catch(t){}if(e)try{return new Nu(t,this.interface,e)}catch(e){return new Ru(t,e)}return new Tu(t,c)}))}async on(t,e){const r=await sd(this,"on",t);return r.listeners.push({listener:e,once:!1}),r.start(),this}async once(t,e){const r=await sd(this,"once",t);return r.listeners.push({listener:e,once:!0}),r.start(),this}async emit(t,...e){return await ad(this,t,e,null)}async listenerCount(t){if(t){const e=await nd(this,t);return e?e.listeners.length:0}const{subs:e}=ed(this);let r=0;for(const{listeners:t}of e.values())r+=t.length;return r}async listeners(t){if(t){const e=await nd(this,t);return e?e.listeners.map((({listener:t})=>t)):[]}const{subs:e}=ed(this);let r=[];for(const{listeners:t}of e.values())r=r.concat(t.map((({listener:t})=>t)));return r}async off(t,e){const r=await nd(this,t);if(!r)return this;if(e){const t=r.listeners.map((({listener:t})=>t)).indexOf(e);t>=0&&r.listeners.splice(t,1)}return null!=e&&0!==r.listeners.length||(r.stop(),ed(this).subs.delete(r.tag)),this}async removeAllListeners(t){if(t){const e=await nd(this,t);if(!e)return this;e.stop(),ed(this).subs.delete(e.tag)}else{const{subs:t}=ed(this);for(const{tag:e,stop:r}of t.values())r(),t.delete(e)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){return class extends ld{constructor(e,r=null){super(e,t,r)}}}static from(t,e,r){null==r&&(r=null);return new this(t,e,r)}}class cd extends(function(){return ld}()){}var hd=r(6445);const ud=new Uint8Array(32);function dd(t){return Mo(0!==t.length,"invalid ENS name; empty component","comp",t),t}function pd(t){const e=Fc(function(t){try{if(0===t.length)throw new Error("empty label");return(0,hd.Q6)(t)}catch(e){Mo(!1,`invalid ENS name (${e.message})`,"name",t)}}(t)),r=[];if(0===t.length)return r;let n=0;for(let t=0;t<e.length;t++){46===e[t]&&(r.push(dd(e.slice(n,t))),n=t+1)}return Mo(n<e.length,"invalid ENS name; empty component","name",t),r.push(dd(e.slice(n))),r}function fd(t){Mo("string"==typeof t,"invalid ENS name; not a string","name",t),Mo(t.length,"invalid ENS name (empty label)","name",t);let e=ud;const r=pd(t);for(;r.length;)e=rc(Go([e,rc(r.pop())]));return Uo(e)}ud.fill(0);const md="0x0000000000000000000000000000000000000000000000000000000000000000",gd=BigInt(0),yd=BigInt(1),bd=BigInt(2),vd=BigInt(27),wd=BigInt(28),Ed=BigInt(35),xd={};function kd(t){return Ho(sl(t),32)}class Ad{#X;#tt;#et;#rt;get r(){return this.#X}set r(t){Mo(32===Vo(t),"invalid r","value",t),this.#X=Uo(t)}get s(){return this.#tt}set s(t){Mo(32===Vo(t),"invalid s","value",t);const e=Uo(t);Mo(parseInt(e.substring(0,3))<8,"non-canonical s","value",e),this.#tt=e}get v(){return this.#et}set v(t){const e=rl(t,"value");Mo(27===e||28===e,"invalid v","v",t),this.#et=e}get networkV(){return this.#rt}get legacyChainId(){const t=this.networkV;return null==t?null:Ad.getChainId(t)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const t=Ro(this.s);return this.yParity&&(t[0]|=128),Uo(t)}get compactSerialized(){return Go([this.r,this.yParityAndS])}get serialized(){return Go([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(t,e,r,n){Fo(t,xd,"Signature"),this.#X=e,this.#tt=r,this.#et=n,this.#rt=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new Ad(xd,this.r,this.s,this.v);return this.networkV&&(t.#rt=this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:null!=t?t.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(t){const e=Zo(t,"v");return e==vd||e==wd?gd:(Mo(e>=Ed,"invalid EIP-155 v","v",t),(e-Ed)/bd)}static getChainIdV(t,e){return Zo(t)*bd+BigInt(35+e-27)}static getNormalizedV(t){const e=Zo(t);return e===gd||e===vd?27:e===yd||e===wd?28:(Mo(e>=Ed,"invalid v","v",t),e&yd?27:28)}static from(t){function e(e,r){Mo(e,r,"signature",t)}if(null==t)return new Ad(xd,md,md,27);if("string"==typeof t){const r=Ro(t,"signature");if(64===r.length){const t=Uo(r.slice(0,32)),e=r.slice(32,64),n=128&e[0]?28:27;return e[0]&=127,new Ad(xd,t,Uo(e),n)}if(65===r.length){const t=Uo(r.slice(0,32)),n=r.slice(32,64);e(0==(128&n[0]),"non-canonical s");const s=Ad.getNormalizedV(r[64]);return new Ad(xd,t,Uo(n),s)}e(!1,"invalid raw signature length")}if(t instanceof Ad)return t.clone();const r=t.r;e(null!=r,"missing r");const n=kd(r),s=function(t,r){if(null!=t)return kd(t);if(null!=r){e(Lo(r,32),"invalid yParityAndS");const t=Ro(r);return t[0]&=127,Uo(t)}e(!1,"missing s")}(t.s,t.yParityAndS);e(0==(128&Ro(s)[0]),"non-canonical s");const{networkV:i,v:a}=function(t,r,n){if(null!=t){const e=Zo(t);return{networkV:e>=Ed?e:void 0,v:Ad.getNormalizedV(e)}}if(null!=r)return e(Lo(r,32),"invalid yParityAndS"),{v:128&Ro(r)[0]?28:27};if(null!=n){switch(rl(n,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),o=new Ad(xd,n,s,a);return i&&(o.#rt=i),e(null==t.yParity||rl(t.yParity,"sig.yParity")===o.yParity,"yParity mismatch"),e(null==t.yParityAndS||t.yParityAndS===o.yParityAndS,"yParityAndS mismatch"),o}}class Pd extends Fl{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ml(this.buffer)}update(t){vl(this);const{view:e,buffer:r,blockLen:n}=this,s=(t=Dl(t)).length;for(let i=0;i<s;){const a=Math.min(n-this.pos,s-i);if(a!==n)r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===n&&(this.process(e,0),this.pos=0);else{const e=Ml(t);for(;n<=s-i;i+=n)this.process(e,i)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){vl(this),wl(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:n,isLE:s}=this;let{pos:i}=this;e[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>n-i&&(this.process(r,0),i=0);for(let t=i;t<n;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(r>>s&i),o=Number(r&i),l=n?4:0,c=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+c,o,n)}(r,n-8,BigInt(8*this.length),s),this.process(r,0);const a=Ml(t),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=o/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<l;t++)a.setUint32(4*t,c[t],s)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:s,destroyed:i,pos:a}=this;return t.length=n,t.pos=a,t.finished=s,t.destroyed=i,n%e&&t.buffer.set(r),t}}const _d=(t,e,r)=>t&e^~t&r,Sd=(t,e,r)=>t&e^t&r^e&r,Cd=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Td=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Id=new Uint32Array(64);class Md extends Pd{constructor(){super(64,32,8,!1),this.A=0|Td[0],this.B=0|Td[1],this.C=0|Td[2],this.D=0|Td[3],this.E=0|Td[4],this.F=0|Td[5],this.G=0|Td[6],this.H=0|Td[7]}get(){const{A:t,B:e,C:r,D:n,E:s,F:i,G:a,H:o}=this;return[t,e,r,n,s,i,a,o]}set(t,e,r,n,s,i,a,o){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|s,this.F=0|i,this.G=0|a,this.H=0|o}process(t,e){for(let r=0;r<16;r++,e+=4)Id[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=Id[t-15],r=Id[t-2],n=Ol(e,7)^Ol(e,18)^e>>>3,s=Ol(r,17)^Ol(r,19)^r>>>10;Id[t]=s+Id[t-7]+n+Id[t-16]|0}let{A:r,B:n,C:s,D:i,E:a,F:o,G:l,H:c}=this;for(let t=0;t<64;t++){const e=c+(Ol(a,6)^Ol(a,11)^Ol(a,25))+_d(a,o,l)+Cd[t]+Id[t]|0,h=(Ol(r,2)^Ol(r,13)^Ol(r,22))+Sd(r,n,s)|0;c=l,l=o,o=a,a=i+e|0,i=s,s=n,n=r,r=e+h|0}r=r+this.A|0,n=n+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,o=o+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,s,i,a,o,l,c)}roundClean(){Id.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Od=Nl((()=>new Md)),Dd=(BigInt(0),BigInt(1)),Fd=BigInt(2),Nd=t=>t instanceof Uint8Array,Rd=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function Bd(t){if(!Nd(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Rd[t[r]];return e}function Ld(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}function jd(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let e=0;e<r.length;e++){const n=2*e,s=t.slice(n,n+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");r[e]=i}return r}function Ud(t){return Ld(Bd(t))}function Gd(t){if(!Nd(t))throw new Error("Uint8Array expected");return Ld(Bd(Uint8Array.from(t).reverse()))}function Vd(t,e){return jd(t.toString(16).padStart(2*e,"0"))}function zd(t,e){return Vd(t,e).reverse()}function $d(t,e,r){let n;if("string"==typeof e)try{n=jd(e)}catch(r){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${r}`)}else{if(!Nd(e))throw new Error(`${t} must be hex string or Uint8Array`);n=Uint8Array.from(e)}const s=n.length;if("number"==typeof r&&s!==r)throw new Error(`${t} expected ${r} bytes, got ${s}`);return n}function Hd(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let r=0;return t.forEach((t=>{if(!Nd(t))throw new Error("Uint8Array expected");e.set(t,r),r+=t.length})),e}const qd=t=>(Fd<<BigInt(t-1))-Dd,Wd=t=>new Uint8Array(t),Kd=t=>Uint8Array.from(t);function Jd(t,e,r){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=Wd(t),s=Wd(t),i=0;const a=()=>{n.fill(1),s.fill(0),i=0},o=(...t)=>r(s,n,...t),l=(t=Wd())=>{s=o(Kd([0]),t),n=o(),0!==t.length&&(s=o(Kd([1]),t),n=o())},c=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const r=[];for(;t<e;){n=o();const e=n.slice();r.push(e),t+=n.length}return Hd(...r)};return(t,e)=>{let r;for(a(),l(t);!(r=e(c()));)l();return a(),r}}const Qd={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function Yd(t,e,r={}){const n=(e,r,n)=>{const s=Qd[r];if("function"!=typeof s)throw new Error(`Invalid validator "${r}", expected function`);const i=t[e];if(!(n&&void 0===i||s(i,t)))throw new Error(`Invalid param ${String(e)}=${i} (${typeof i}), expected ${r}`)};for(const[t,r]of Object.entries(e))n(t,r,!1);for(const[t,e]of Object.entries(r))n(t,e,!0);return t}const Zd=BigInt(0),Xd=BigInt(1),tp=BigInt(2),ep=BigInt(3),rp=BigInt(4),np=BigInt(5),sp=BigInt(8);BigInt(9),BigInt(16);function ip(t,e){const r=t%e;return r>=Zd?r:e+r}function ap(t,e,r){if(r<=Zd||e<Zd)throw new Error("Expected power/modulo > 0");if(r===Xd)return Zd;let n=Xd;for(;e>Zd;)e&Xd&&(n=n*t%r),t=t*t%r,e>>=Xd;return n}function op(t,e,r){let n=t;for(;e-- >Zd;)n*=n,n%=r;return n}function lp(t,e){if(t===Zd||e<=Zd)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ip(t,e),n=e,s=Zd,i=Xd,a=Xd,o=Zd;for(;r!==Zd;){const t=n/r,e=n%r,l=s-a*t,c=i-o*t;n=r,r=e,s=a,i=o,a=l,o=c}if(n!==Xd)throw new Error("invert: does not exist");return ip(s,e)}function cp(t){if(t%rp===ep){const e=(t+Xd)/rp;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}if(t%sp===np){const e=(t-np)/sp;return function(t,r){const n=t.mul(r,tp),s=t.pow(n,e),i=t.mul(r,s),a=t.mul(t.mul(i,tp),s),o=t.mul(i,t.sub(a,t.ONE));if(!t.eql(t.sqr(o),r))throw new Error("Cannot find square root");return o}}return function(t){const e=(t-Xd)/tp;let r,n,s;for(r=t-Xd,n=0;r%tp===Zd;r/=tp,n++);for(s=tp;s<t&&ap(s,e,t)!==t-Xd;s++);if(1===n){const e=(t+Xd)/rp;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}const i=(r+Xd)/tp;return function(t,a){if(t.pow(a,e)===t.neg(t.ONE))throw new Error("Cannot find square root");let o=n,l=t.pow(t.mul(t.ONE,s),r),c=t.pow(a,i),h=t.pow(a,r);for(;!t.eql(h,t.ONE);){if(t.eql(h,t.ZERO))return t.ZERO;let e=1;for(let r=t.sqr(h);e<o&&!t.eql(r,t.ONE);e++)r=t.sqr(r);const r=t.pow(l,Xd<<BigInt(o-e-1));l=t.sqr(r),c=t.mul(c,r),h=t.mul(h,l),o=e}return c}}(t)}const hp=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function up(t,e){const r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function dp(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function pp(t){const e=dp(t);return e+Math.ceil(e/2)}class fp extends Fl{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,bl(t);const r=Dl(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,s=new Uint8Array(n);s.set(r.length>n?t.create().update(r).digest():r);for(let t=0;t<s.length;t++)s[t]^=54;this.iHash.update(s),this.oHash=t.create();for(let t=0;t<s.length;t++)s[t]^=106;this.oHash.update(s),s.fill(0)}update(t){return vl(this),this.iHash.update(t),this}digestInto(t){vl(this),yl(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:s,blockLen:i,outputLen:a}=this;return t.finished=n,t.destroyed=s,t.blockLen=i,t.outputLen=a,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const mp=(t,e,r)=>new fp(t,e).update(r).digest();mp.create=(t,e)=>new fp(t,e);const gp=BigInt(0),yp=BigInt(1);function bp(t){return Yd(t.Fp,hp.reduce(((t,e)=>(t[e]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Yd(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...up(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const{bytesToNumberBE:vp,hexToBytes:wp}=n,Ep={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){const{Err:e}=Ep;if(t.length<2||2!==t[0])throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(128&n[0])throw new e("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new e("Invalid signature integer: unnecessary leading zero");return{d:vp(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=Ep,r="string"==typeof t?wp(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=Ep._parseInt(r.subarray(2)),{d:a,l:o}=Ep._parseInt(i);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(t){const e=t=>8&Number.parseInt(t[0],16)?"00"+t:t,r=t=>{const e=t.toString(16);return 1&e.length?`0${e}`:e},n=e(r(t.s)),s=e(r(t.r)),i=n.length/2,a=s.length/2,o=r(i),l=r(a);return`30${r(a+i+4)}02${l}${s}02${o}${n}`}},xp=BigInt(0),kp=BigInt(1),Ap=(BigInt(2),BigInt(3));BigInt(4);function Pp(t){const e=function(t){const e=bp(t);Yd(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:r}=e,n=e.toBytes||((t,e,n)=>{const s=e.toAffine();return Hd(Uint8Array.from([4]),r.toBytes(s.x),r.toBytes(s.y))}),s=e.fromBytes||(t=>{const e=t.subarray(1);return{x:r.fromBytes(e.subarray(0,r.BYTES)),y:r.fromBytes(e.subarray(r.BYTES,2*r.BYTES))}});function i(t){const{a:n,b:s}=e,i=r.sqr(t),a=r.mul(i,t);return r.add(r.add(a,r.mul(t,n)),s)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function a(t){return"bigint"==typeof t&&xp<t&&t<e.n}function o(t){if(!a(t))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(t){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:s,n:i}=e;if(r&&"bigint"!=typeof t){if(t instanceof Uint8Array&&(t=Bd(t)),"string"!=typeof t||!r.includes(t.length))throw new Error("Invalid key");t=t.padStart(2*n,"0")}let a;try{a="bigint"==typeof t?t:Ud($d("private key",t,n))}catch(e){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof t}`)}return s&&(a=ip(a,i)),o(a),a}const c=new Map;function h(t){if(!(t instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(t,e,n){if(this.px=t,this.py=e,this.pz=n,null==t||!r.isValid(t))throw new Error("x required");if(null==e||!r.isValid(e))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(t){const{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw new Error("invalid affine point");if(t instanceof u)throw new Error("projective point not allowed");const s=t=>r.eql(t,r.ZERO);return s(e)&&s(n)?u.ZERO:new u(e,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(u.fromAffine)}static fromHex(t){const e=u.fromAffine(s($d("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return u.BASE.multiply(l(t))}_setWindowSize(t){this._WINDOW_SIZE=t,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:t,y:n}=this.toAffine();if(!r.isValid(t)||!r.isValid(n))throw new Error("bad point: x or y not FE");const s=r.sqr(n),a=i(t);if(!r.eql(s,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw new Error("Field doesn't support isOdd")}equals(t){h(t);const{px:e,py:n,pz:s}=this,{px:i,py:a,pz:o}=t,l=r.eql(r.mul(e,o),r.mul(i,s)),c=r.eql(r.mul(n,o),r.mul(a,s));return l&&c}negate(){return new u(this.px,r.neg(this.py),this.pz)}double(){const{a:t,b:n}=e,s=r.mul(n,Ap),{px:i,py:a,pz:o}=this;let l=r.ZERO,c=r.ZERO,h=r.ZERO,d=r.mul(i,i),p=r.mul(a,a),f=r.mul(o,o),m=r.mul(i,a);return m=r.add(m,m),h=r.mul(i,o),h=r.add(h,h),l=r.mul(t,h),c=r.mul(s,f),c=r.add(l,c),l=r.sub(p,c),c=r.add(p,c),c=r.mul(l,c),l=r.mul(m,l),h=r.mul(s,h),f=r.mul(t,f),m=r.sub(d,f),m=r.mul(t,m),m=r.add(m,h),h=r.add(d,d),d=r.add(h,d),d=r.add(d,f),d=r.mul(d,m),c=r.add(c,d),f=r.mul(a,o),f=r.add(f,f),d=r.mul(f,m),l=r.sub(l,d),h=r.mul(f,p),h=r.add(h,h),h=r.add(h,h),new u(l,c,h)}add(t){h(t);const{px:n,py:s,pz:i}=this,{px:a,py:o,pz:l}=t;let c=r.ZERO,d=r.ZERO,p=r.ZERO;const f=e.a,m=r.mul(e.b,Ap);let g=r.mul(n,a),y=r.mul(s,o),b=r.mul(i,l),v=r.add(n,s),w=r.add(a,o);v=r.mul(v,w),w=r.add(g,y),v=r.sub(v,w),w=r.add(n,i);let E=r.add(a,l);return w=r.mul(w,E),E=r.add(g,b),w=r.sub(w,E),E=r.add(s,i),c=r.add(o,l),E=r.mul(E,c),c=r.add(y,b),E=r.sub(E,c),p=r.mul(f,w),c=r.mul(m,b),p=r.add(c,p),c=r.sub(y,p),p=r.add(y,p),d=r.mul(c,p),y=r.add(g,g),y=r.add(y,g),b=r.mul(f,b),w=r.mul(m,w),y=r.add(y,b),b=r.sub(g,b),b=r.mul(f,b),w=r.add(w,b),g=r.mul(y,w),d=r.add(d,g),g=r.mul(E,w),c=r.mul(v,c),c=r.sub(c,g),g=r.mul(v,y),p=r.mul(E,p),p=r.add(p,g),new u(c,d,p)}subtract(t){return this.add(t.negate())}is0(){return this.equals(u.ZERO)}wNAF(t){return p.wNAFCached(this,c,t,(t=>{const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(u.fromAffine)}))}multiplyUnsafe(t){const n=u.ZERO;if(t===xp)return n;if(o(t),t===kp)return this;const{endo:s}=e;if(!s)return p.unsafeLadder(this,t);let{k1neg:i,k1:a,k2neg:l,k2:c}=s.splitScalar(t),h=n,d=n,f=this;for(;a>xp||c>xp;)a&kp&&(h=h.add(f)),c&kp&&(d=d.add(f)),f=f.double(),a>>=kp,c>>=kp;return i&&(h=h.negate()),l&&(d=d.negate()),d=new u(r.mul(d.px,s.beta),d.py,d.pz),h.add(d)}multiply(t){o(t);let n,s,i=t;const{endo:a}=e;if(a){const{k1neg:t,k1:e,k2neg:o,k2:l}=a.splitScalar(i);let{p:c,f:h}=this.wNAF(e),{p:d,f}=this.wNAF(l);c=p.constTimeNegate(t,c),d=p.constTimeNegate(o,d),d=new u(r.mul(d.px,a.beta),d.py,d.pz),n=c.add(d),s=h.add(f)}else{const{p:t,f:e}=this.wNAF(i);n=t,s=e}return u.normalizeZ([n,s])[0]}multiplyAndAddUnsafe(t,e,r){const n=u.BASE,s=(t,e)=>e!==xp&&e!==kp&&t.equals(n)?t.multiply(e):t.multiplyUnsafe(e),i=s(this,e).add(s(t,r));return i.is0()?void 0:i}toAffine(t){const{px:e,py:n,pz:s}=this,i=this.is0();null==t&&(t=i?r.ONE:r.inv(s));const a=r.mul(e,t),o=r.mul(n,t),l=r.mul(s,t);if(i)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:a,y:o}}isTorsionFree(){const{h:t,isTorsionFree:r}=e;if(t===kp)return!0;if(r)return r(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:t,clearCofactor:r}=e;return t===kp?this:r?r(u,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return this.assertValidity(),n(u,this,t)}toHex(t=!0){return Bd(this.toRawBytes(t))}}u.BASE=new u(e.Gx,e.Gy,r.ONE),u.ZERO=new u(r.ZERO,r.ONE,r.ZERO);const d=e.nBitLength,p=function(t,e){const r=(t,e)=>{const r=e.negate();return t?r:e},n=t=>({windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:r,unsafeLadder(e,r){let n=t.ZERO,s=e;for(;r>gp;)r&yp&&(n=n.add(s)),s=s.double(),r>>=yp;return n},precomputeWindow(t,e){const{windows:r,windowSize:s}=n(e),i=[];let a=t,o=a;for(let t=0;t<r;t++){o=a,i.push(o);for(let t=1;t<s;t++)o=o.add(a),i.push(o);a=o.double()}return i},wNAF(e,s,i){const{windows:a,windowSize:o}=n(e);let l=t.ZERO,c=t.BASE;const h=BigInt(2**e-1),u=2**e,d=BigInt(e);for(let t=0;t<a;t++){const e=t*o;let n=Number(i&h);i>>=d,n>o&&(n-=u,i+=yp);const a=e,p=e+Math.abs(n)-1,f=t%2!=0,m=n<0;0===n?c=c.add(r(f,s[a])):l=l.add(r(m,s[p]))}return{p:l,f:c}},wNAFCached(t,e,r,n){const s=t._WINDOW_SIZE||1;let i=e.get(t);return i||(i=this.precomputeWindow(t,s),1!==s&&e.set(t,n(i))),this.wNAF(s,i,r)}}}(u,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:a}}function _p(t){const e=function(t){const e=bp(t);return Yd(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:r,n}=e,s=r.BYTES+1,i=2*r.BYTES+1;function a(t){return ip(t,n)}function o(t){return lp(t,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:h,isWithinCurveOrder:u}=Pp({...e,toBytes(t,e,n){const s=e.toAffine(),i=r.toBytes(s.x),a=Hd;return n?a(Uint8Array.from([e.hasEvenY()?2:3]),i):a(Uint8Array.from([4]),i,r.toBytes(s.y))},fromBytes(t){const e=t.length,n=t[0],a=t.subarray(1);if(e!==s||2!==n&&3!==n){if(e===i&&4===n){return{x:r.fromBytes(a.subarray(0,r.BYTES)),y:r.fromBytes(a.subarray(r.BYTES,2*r.BYTES))}}throw new Error(`Point of length ${e} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}{const t=Ud(a);if(!(xp<(o=t)&&o<r.ORDER))throw new Error("Point is not on curve");const e=h(t);let s=r.sqrt(e);return 1==(1&n)!==((s&kp)===kp)&&(s=r.neg(s)),{x:t,y:s}}var o}}),d=t=>Bd(Vd(t,e.nByteLength));function p(t){return t>n>>kp}const f=(t,e,r)=>Ud(t.slice(e,r));class m{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){const r=e.nByteLength;return t=$d("compactSignature",t,2*r),new m(f(t,0,r),f(t,r,2*r))}static fromDER(t){const{r:e,s:r}=Ep.toSig($d("DER",t));return new m(e,r)}assertValidity(){if(!u(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!u(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(t){return new m(this.r,this.s,t)}recoverPublicKey(t){const{r:n,s,recovery:i}=this,c=v($d("msgHash",t));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const h=2===i||3===i?n+e.n:n;if(h>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=0==(1&i)?"02":"03",p=l.fromHex(u+d(h)),f=o(h),m=a(-c*f),g=a(s*f),y=l.BASE.multiplyAndAddUnsafe(p,m,g);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return jd(this.toDERHex())}toDERHex(){return Ep.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return jd(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const g={isValidPrivateKey(t){try{return c(t),!0}catch(t){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const t=pp(e.n);return function(t,e,r=!1){const n=t.length,s=dp(e),i=pp(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const a=ip(r?Ud(t):Gd(t),e-Xd)+Xd;return r?zd(a,s):Vd(a,s)}(e.randomBytes(t),e.n)},precompute:(t=8,e=l.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)};function y(t){const e=t instanceof Uint8Array,r="string"==typeof t,n=(e||r)&&t.length;return e?n===s||n===i:r?n===2*s||n===2*i:t instanceof l}const b=e.bits2int||function(t){const r=Ud(t),n=8*t.length-e.nBitLength;return n>0?r>>BigInt(n):r},v=e.bits2int_modN||function(t){return a(b(t))},w=qd(e.nBitLength);function E(t){if("bigint"!=typeof t)throw new Error("bigint expected");if(!(xp<=t&&t<w))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Vd(t,e.nByteLength)}function x(t,n,s=k){if(["recovered","canonical"].some((t=>t in s)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:h}=e;let{lowS:d,prehash:f,extraEntropy:g}=s;null==d&&(d=!0),t=$d("msgHash",t),f&&(t=$d("prehashed msgHash",i(t)));const y=v(t),w=c(n),x=[E(w),E(y)];if(null!=g){const t=!0===g?h(r.BYTES):g;x.push($d("extraEntropy",t))}const A=Hd(...x),P=y;return{seed:A,k2sig:function(t){const e=b(t);if(!u(e))return;const r=o(e),n=l.BASE.multiply(e).toAffine(),s=a(n.x);if(s===xp)return;const i=a(r*a(P+s*w));if(i===xp)return;let c=(n.x===s?0:2)|Number(n.y&kp),h=i;return d&&p(i)&&(h=function(t){return p(t)?a(-t):t}(i),c^=1),new m(s,h,c)}}}const k={lowS:e.lowS,prehash:!1},A={lowS:e.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return l.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(y(t))throw new Error("first arg must be private key");if(!y(e))throw new Error("second arg must be public key");return l.fromHex(e).multiply(c(t)).toRawBytes(r)},sign:function(t,r,n=k){const{seed:s,k2sig:i}=x(t,r,n),a=e;return Jd(a.hash.outputLen,a.nByteLength,a.hmac)(s,i)},verify:function(t,r,n,s=A){const i=t;if(r=$d("msgHash",r),n=$d("publicKey",n),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:c,prehash:h}=s;let u,d;try{if("string"==typeof i||i instanceof Uint8Array)try{u=m.fromDER(i)}catch(t){if(!(t instanceof Ep.Err))throw t;u=m.fromCompact(i)}else{if("object"!=typeof i||"bigint"!=typeof i.r||"bigint"!=typeof i.s)throw new Error("PARSE");{const{r:t,s:e}=i;u=new m(t,e)}}d=l.fromHex(n)}catch(t){if("PARSE"===t.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&u.hasHighS())return!1;h&&(r=e.hash(r));const{r:p,s:f}=u,g=v(r),y=o(f),b=a(g*y),w=a(p*y),E=l.BASE.multiplyAndAddUnsafe(d,b,w)?.toAffine();return!!E&&a(E.x)===p},ProjectivePoint:l,Signature:m,utils:g}}function Sp(t){return{hash:t,hmac:(e,...r)=>mp(t,e,function(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let r=0;return t.forEach((t=>{if(!Il(t))throw new Error("Uint8Array expected");e.set(t,r),r+=t.length})),e}(...r)),randomBytes:Rl}}const Cp=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Tp=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ip=BigInt(1),Mp=BigInt(2),Op=(t,e)=>(t+e/Mp)/e;function Dp(t){const e=Cp,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),l=BigInt(88),c=t*t*t%e,h=c*c*t%e,u=op(h,r,e)*h%e,d=op(u,r,e)*h%e,p=op(d,Mp,e)*c%e,f=op(p,s,e)*p%e,m=op(f,i,e)*f%e,g=op(m,o,e)*m%e,y=op(g,l,e)*g%e,b=op(y,o,e)*m%e,v=op(b,r,e)*h%e,w=op(v,a,e)*f%e,E=op(w,n,e)*c%e,x=op(E,Mp,e);if(!Fp.eql(Fp.sqr(x),t))throw new Error("Cannot find square root");return x}const Fp=function(t,e,r=!1,n={}){if(t<=Zd)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=up(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=cp(t),o=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:qd(s),ZERO:Zd,ONE:Xd,create:e=>ip(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("Invalid field element: expected bigint, got "+typeof e);return Zd<=e&&e<t},is0:t=>t===Zd,isOdd:t=>(t&Xd)===Xd,neg:e=>ip(-e,t),eql:(t,e)=>t===e,sqr:e=>ip(e*e,t),add:(e,r)=>ip(e+r,t),sub:(e,r)=>ip(e-r,t),mul:(e,r)=>ip(e*r,t),pow:(t,e)=>function(t,e,r){if(r<Zd)throw new Error("Expected power > 0");if(r===Zd)return t.ONE;if(r===Xd)return e;let n=t.ONE,s=e;for(;r>Zd;)r&Xd&&(n=t.mul(n,s)),s=t.sqr(s),r>>=Xd;return n}(o,t,e),div:(e,r)=>ip(e*lp(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>lp(e,t),sqrt:n.sqrt||(t=>a(o,t)),invertBatch:t=>function(t,e){const r=new Array(e.length),n=e.reduce(((e,n,s)=>t.is0(n)?e:(r[s]=e,t.mul(e,n))),t.ONE),s=t.inv(n);return e.reduceRight(((e,n,s)=>t.is0(n)?e:(r[s]=t.mul(e,r[s]),t.mul(e,n))),s),r}(o,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>r?zd(t,i):Vd(t,i),fromBytes:t=>{if(t.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${t.length}`);return r?Gd(t):Ud(t)}});return Object.freeze(o)}(Cp,void 0,void 0,{sqrt:Dp}),Np=function(t,e){const r=e=>_p({...t,...Sp(e)});return Object.freeze({...r(e),create:r})}({a:BigInt(0),b:BigInt(7),Fp,n:Tp,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Tp,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Ip*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,a=BigInt("0x100000000000000000000000000000000"),o=Op(i*t,e),l=Op(-n*t,e);let c=ip(t-o*r-l*s,e),h=ip(-o*n-l*i,e);const u=c>a,d=h>a;if(u&&(c=e-c),d&&(h=e-h),c>a||h>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:u,k1:c,k2neg:d,k2:h}}}},Od);BigInt(0);Np.ProjectivePoint;class Rp{#nt;constructor(t){Mo(32===Vo(t),"invalid private key","privateKey","[REDACTED]"),this.#nt=Uo(t)}get privateKey(){return this.#nt}get publicKey(){return Rp.computePublicKey(this.#nt)}get compressedPublicKey(){return Rp.computePublicKey(this.#nt,!0)}sign(t){Mo(32===Vo(t),"invalid digest length","digest",t);const e=Np.sign(Bo(t),Bo(this.#nt),{lowS:!0});return Ad.from({r:nl(e.r,32),s:nl(e.s,32),v:e.recovery?28:27})}computeSharedSecret(t){const e=Rp.computePublicKey(t);return Uo(Np.getSharedSecret(Bo(this.#nt),Ro(e),!1))}static computePublicKey(t,e){let r=Ro(t,"key");if(32===r.length){return Uo(Np.getPublicKey(r,!!e))}if(64===r.length){const t=new Uint8Array(65);t[0]=4,t.set(r,1),r=t}return Uo(Np.ProjectivePoint.fromHex(r).toRawBytes(e))}static recoverPublicKey(t,e){Mo(32===Vo(t),"invalid digest length","digest",t);const r=Ad.from(e);let n=Np.Signature.fromCompact(Bo(Go([r.r,r.s])));n=n.addRecoveryBit(r.yParity);const s=n.recoverPublicKey(Bo(t));return Mo(null!=s,"invalid signautre for digest","signature",e),"0x"+s.toHex(!1)}static addPoints(t,e,r){const n=Np.ProjectivePoint.fromHex(Rp.computePublicKey(t).substring(2)),s=Np.ProjectivePoint.fromHex(Rp.computePublicKey(e).substring(2));return"0x"+n.add(s).toHex(!!r)}}function Bp(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Lp(t,e,r){let n=0;for(let s=0;s<r;s++)n=256*n+t[e+s];return n}function jp(t,e,r,n){const s=[];for(;r<e+1+n;){const i=Up(t,r);s.push(i.result),Io((r+=i.consumed)<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:s}}function Up(t,e){Io(0!==t.length,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=e=>{Io(e<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:e})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const s=Lp(t,e+1,n);return r(e+1+n+s),jp(t,e,e+1+n,n+s)}if(t[e]>=192){const n=t[e]-192;return r(e+1+n),jp(t,e,e+1,n)}if(t[e]>=184){const n=t[e]-183;r(e+1+n);const s=Lp(t,e+1,n);r(e+1+n+s);return{consumed:1+n+s,result:Uo(t.slice(e+1+n,e+1+n+s))}}if(t[e]>=128){const n=t[e]-128;r(e+1+n);return{consumed:1+n,result:Uo(t.slice(e+1,e+1+n))}}return{consumed:1,result:Bp(t[e])}}function Gp(t){const e=Ro(t,"data"),r=Up(e,0);return Mo(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function Vp(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function zp(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(zp(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=Vp(e.length);return r.unshift(247+r.length),r.concat(e)}const e=Array.prototype.slice.call(Ro(t,"object"));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=Vp(e.length);return r.unshift(183+r.length),r.concat(e)}const $p="0123456789abcdef";function Hp(t){let e="0x";for(const r of zp(t))e+=$p[r>>4],e+=$p[15&r];return e}function qp(t,e){return function(t){let e;return e="string"==typeof t?Rp.computePublicKey(t,!1):t.publicKey,hc(rc("0x"+e.substring(4)).substring(26))}(Rp.recoverPublicKey(t,e))}const Wp=BigInt(0),Kp=BigInt(2),Jp=BigInt(27),Qp=BigInt(28),Yp=BigInt(35),Zp=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Xp(t){return"0x"===t?null:hc(t)}function tf(t,e){try{return tu(t)}catch(r){Mo(!1,r.message,e,t)}}function ef(t,e){return"0x"===t?0:rl(t,e)}function rf(t,e){if("0x"===t)return Wp;const r=Zo(t,e);return Mo(r<=Zp,"value exceeds uint size",e,r),r}function nf(t,e){const r=Zo(t,"value"),n=sl(r);return Mo(n.length<=32,"value too large",`tx.${e}`,r),n}function sf(t){return tu(t).map((t=>[t.address,t.storageKeys]))}function af(t,e){const r=[nf(t.nonce||0,"nonce"),nf(t.gasPrice||0,"gasPrice"),nf(t.gasLimit||0,"gasLimit"),null!=t.to?hc(t.to):"0x",nf(t.value||0,"value"),t.data||"0x"];let n=Wp;if(t.chainId!=Wp)n=Zo(t.chainId,"tx.chainId"),Mo(!e||null==e.networkV||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const e=t.signature.legacyChainId;null!=e&&(n=e)}if(!e)return n!==Wp&&(r.push(sl(n)),r.push("0x"),r.push("0x")),Hp(r);let s=BigInt(27+e.yParity);return n!==Wp?s=Ad.getChainIdV(n,e.v):BigInt(e.v)!==s&&Mo(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(sl(s)),r.push(sl(e.r)),r.push(sl(e.s)),Hp(r)}function of(t,e){let r;try{if(r=ef(e[0],"yParity"),0!==r&&1!==r)throw new Error("bad yParity")}catch(t){Mo(!1,"invalid yParity","yParity",e[0])}const n=Ho(e[1],32),s=Ho(e[2],32),i=Ad.from({r:n,s,yParity:r});t.signature=i}function lf(t,e){const r=[nf(t.chainId||0,"chainId"),nf(t.nonce||0,"nonce"),nf(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),nf(t.maxFeePerGas||0,"maxFeePerGas"),nf(t.gasLimit||0,"gasLimit"),null!=t.to?hc(t.to):"0x",nf(t.value||0,"value"),t.data||"0x",sf(t.accessList||[])];return e&&(r.push(nf(e.yParity,"yParity")),r.push(sl(e.r)),r.push(sl(e.s))),Go(["0x02",Hp(r)])}function cf(t,e){const r=[nf(t.chainId||0,"chainId"),nf(t.nonce||0,"nonce"),nf(t.gasPrice||0,"gasPrice"),nf(t.gasLimit||0,"gasLimit"),null!=t.to?hc(t.to):"0x",nf(t.value||0,"value"),t.data||"0x",sf(t.accessList||[])];return e&&(r.push(nf(e.yParity,"recoveryParam")),r.push(sl(e.r)),r.push(sl(e.s))),Go(["0x01",Hp(r)])}class hf{#st;#it;#e;#at;#ot;#lt;#ct;#ht;#ut;#dt;#pt;#ft;get type(){return this.#st}set type(t){switch(t){case null:this.#st=null;break;case 0:case"legacy":this.#st=0;break;case 1:case"berlin":case"eip-2930":this.#st=1;break;case 2:case"london":case"eip-1559":this.#st=2;break;default:Mo(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return this.#it}set to(t){this.#it=null==t?null:hc(t)}get nonce(){return this.#at}set nonce(t){this.#at=rl(t,"value")}get gasLimit(){return this.#ot}set gasLimit(t){this.#ot=Zo(t)}get gasPrice(){const t=this.#lt;return null!=t||0!==this.type&&1!==this.type?t:Wp}set gasPrice(t){this.#lt=null==t?null:Zo(t,"gasPrice")}get maxPriorityFeePerGas(){const t=this.#ct;return null==t?2===this.type?Wp:null:t}set maxPriorityFeePerGas(t){this.#ct=null==t?null:Zo(t,"maxPriorityFeePerGas")}get maxFeePerGas(){const t=this.#ht;return null==t?2===this.type?Wp:null:t}set maxFeePerGas(t){this.#ht=null==t?null:Zo(t,"maxFeePerGas")}get data(){return this.#e}set data(t){this.#e=Uo(t)}get value(){return this.#ut}set value(t){this.#ut=Zo(t,"value")}get chainId(){return this.#dt}set chainId(t){this.#dt=Zo(t)}get signature(){return this.#pt||null}set signature(t){this.#pt=null==t?null:Ad.from(t)}get accessList(){const t=this.#ft||null;return null==t?1===this.type||2===this.type?[]:null:t}set accessList(t){this.#ft=null==t?null:tu(t)}constructor(){this.#st=null,this.#it=null,this.#at=0,this.#ot=BigInt(0),this.#lt=null,this.#ct=null,this.#ht=null,this.#e="0x",this.#ut=BigInt(0),this.#dt=BigInt(0),this.#pt=null,this.#ft=null}get hash(){return null==this.signature?null:rc(this.serialized)}get unsignedHash(){return rc(this.unsignedSerialized)}get from(){return null==this.signature?null:qp(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:Rp.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}get serialized(){switch(Io(null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return af(this,this.signature);case 1:return cf(this,this.signature);case 2:return lf(this,this.signature)}Io(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return af(this);case 1:return cf(this);case 2:return lf(this)}Io(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const t=null!=this.gasPrice,e=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&Io(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Io(!e||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Io(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const n=[];return null!=this.type?n.push(this.type):e?n.push(2):t?(n.push(1),r||n.push(0)):r?(n.push(1),n.push(2)):(n.push(0),n.push(1),n.push(2)),n.sort(),n}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}clone(){return hf.from(this)}toJSON(){const t=t=>null==t?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(null==t)return new hf;if("string"==typeof t){const e=Ro(t);if(e[0]>=127)return hf.from(function(t){const e=Gp(t);Mo(Array.isArray(e)&&(9===e.length||6===e.length),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:ef(e[0],"nonce"),gasPrice:rf(e[1],"gasPrice"),gasLimit:rf(e[2],"gasLimit"),to:Xp(e[3]),value:rf(e[4],"value"),data:Uo(e[5]),chainId:Wp};if(6===e.length)return r;const n=rf(e[6],"v"),s=rf(e[7],"r"),i=rf(e[8],"s");if(s===Wp&&i===Wp)r.chainId=n;else{let s=(n-Yp)/Kp;s<Wp&&(s=Wp),r.chainId=s,Mo(s!==Wp||n===Jp||n===Qp,"non-canonical legacy v","v",e[6]),r.signature=Ad.from({r:Ho(e[7],32),s:Ho(e[8],32),v:n}),r.hash=rc(t)}return r}(e));switch(e[0]){case 1:return hf.from(function(t){const e=Gp(Ro(t).slice(1));Mo(Array.isArray(e)&&(8===e.length||11===e.length),"invalid field count for transaction type: 1","data",Uo(t));const r={type:1,chainId:rf(e[0],"chainId"),nonce:ef(e[1],"nonce"),gasPrice:rf(e[2],"gasPrice"),gasLimit:rf(e[3],"gasLimit"),to:Xp(e[4]),value:rf(e[5],"value"),data:Uo(e[6]),accessList:tf(e[7],"accessList")};return 8===e.length||(r.hash=rc(t),of(r,e.slice(8))),r}(e));case 2:return hf.from(function(t){const e=Gp(Ro(t).slice(1));Mo(Array.isArray(e)&&(9===e.length||12===e.length),"invalid field count for transaction type: 2","data",Uo(t));const r=rf(e[2],"maxPriorityFeePerGas"),n=rf(e[3],"maxFeePerGas"),s={type:2,chainId:rf(e[0],"chainId"),nonce:ef(e[1],"nonce"),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:rf(e[4],"gasLimit"),to:Xp(e[5]),value:rf(e[6],"value"),data:Uo(e[7]),accessList:tf(e[8],"accessList")};return 9===e.length||(s.hash=rc(t),of(s,e.slice(9))),s}(e))}Io(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const e=new hf;return null!=t.type&&(e.type=t.type),null!=t.to&&(e.to=t.to),null!=t.nonce&&(e.nonce=t.nonce),null!=t.gasLimit&&(e.gasLimit=t.gasLimit),null!=t.gasPrice&&(e.gasPrice=t.gasPrice),null!=t.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas),null!=t.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null!=t.data&&(e.data=t.data),null!=t.value&&(e.value=t.value),null!=t.chainId&&(e.chainId=t.chainId),null!=t.signature&&(e.signature=Ad.from(t.signature)),null!=t.accessList&&(e.accessList=t.accessList),null!=t.hash&&(Mo(e.isSigned(),"unsigned transaction cannot define hash","tx",t),Mo(e.hash===t.hash,"hash mismatch","tx",t)),null!=t.from&&(Mo(e.isSigned(),"unsigned transaction cannot define from","tx",t),Mo(e.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),e}}const uf="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const df=BigInt(58);function pf(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Mo(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class ff{name;constructor(t){Po(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,e){throw new Error("unsupported coin")}async decodeAddress(t,e){throw new Error("unsupported coin")}}const mf=new RegExp("^(ipfs)://(.*)$","i"),gf=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),mf,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class yf{provider;address;name;#mt;#gt;constructor(t,e,r){Po(this,{provider:t,address:e,name:r}),this.#mt=null,this.#gt=new cd(e,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t)}async supportsWildcard(){return null==this.#mt&&(this.#mt=(async()=>{try{return await this.#gt.supportsInterface("0x9061b923")}catch(t){if(So(t,"CALL_EXCEPTION"))return!1;throw this.#mt=null,t}})()),await this.#mt}async#yt(t,e){e=(e||[]).slice();const r=this.#gt.interface;e.unshift(fd(this.name));let n=null;var s;await this.supportsWildcard()&&(n=r.getFunction(t),Io(n,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),e=[(s=this.name,Uo(Go(pd(s).map((t=>{if(t.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const e=new Uint8Array(t.length+1);return e.set(t,1),e[0]=e.length-1,e}))))+"00"),r.encodeFunctionData(n,e)],t="resolve(bytes,bytes)"),e.push({enableCcipRead:!0});try{const s=await this.#gt[t](...e);return n?r.decodeFunctionResult(n,s)[0]:s}catch(t){if(!So(t,"CALL_EXCEPTION"))throw t}return null}async getAddress(t){if(null==t&&(t=60),60===t)try{const t=await this.#yt("addr(bytes32)");return null==t||t===mu?null:t}catch(t){if(So(t,"CALL_EXCEPTION"))return null;throw t}if(t>=0&&t<2147483648){let e=t+2147483648;const r=await this.#yt("addr(bytes32,uint)",[e]);if(Lo(r,20))return hc(r)}let e=null;for(const r of this.provider.plugins)if(r instanceof ff&&r.supportsCoinType(t)){e=r;break}if(null==e)return null;const r=await this.#yt("addr(bytes32,uint)",[t]);if(null==r||"0x"===r)return null;const n=await e.decodeAddress(t,r);if(null!=n)return n;Io(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:r}})}async getText(t){const e=await this.#yt("text(bytes32,string)",[t]);return null==e||"0x"===e?null:e}async getContentHash(){const t=await this.#yt("contenthash(bytes32)");if(null==t||"0x"===t)return null;const e=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t="e3010170"===e[1]?"ipfs":"ipns",r=parseInt(e[4],16);if(e[5].length===2*r)return`${t}://${function(t){const e=Ro(t);let r=el(e),n="";for(;r;)n=uf[Number(r%df)]+n,r/=df;for(let t=0;t<e.length&&!e[t];t++)n=uf[0]+n;return n}("0x"+e[2])}`}const r=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return`bzz://${r[1]}`;Io(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const e=await this.getText("avatar");if(null==e)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:e});for(let r=0;r<gf.length;r++){const n=e.match(gf[r]);if(null==n)continue;const s=n[1].toLowerCase();switch(s){case"https":case"data":return t.push({type:"url",value:e}),{linkage:t,url:e};case"ipfs":{const r=pf(e);return t.push({type:"ipfs",value:e}),t.push({type:"url",value:r}),{linkage:t,url:r}}case"erc721":case"erc1155":{const r="erc721"===s?"tokenURI(uint256)":"uri(uint256)";t.push({type:s,value:e});const i=await this.getAddress();if(null==i)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const a=(n[2]||"").split("/");if(2!==a.length)return t.push({type:`!${s}caip`,value:n[2]||""}),{url:null,linkage:t};const o=a[1],l=new cd(a[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===s){const e=await l.ownerOf(o);if(i!==e)return t.push({type:"!owner",value:e}),{url:null,linkage:t};t.push({type:"owner",value:e})}else if("erc1155"===s){const e=await l.balanceOf(i,o);if(!e)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:e.toString()})}let c=await l[r](o);if(null==c||"0x"===c)return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:c}),"erc1155"===s&&(c=c.replace("{id}",nl(o,32).substring(2)),t.push({type:"metadata-url-expanded",value:c})),c.match(/^ipfs:/i)&&(c=pf(c)),t.push({type:"metadata-url",value:c});let h={};const u=await new du(c).send();u.assertOk();try{h=u.bodyJson}catch(e){try{t.push({type:"!metadata",value:u.bodyText})}catch(e){const r=u.body;return r&&t.push({type:"!metadata",value:Uo(r)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!h)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(h)});let d=h.image;if("string"!=typeof d)return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(d.match(/^(https:\/\/|data:)/i));else{if(null==d.match(mf))return t.push({type:"!imageUrl-ipfs",value:d}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:d}),d=pf(d)}return t.push({type:"url",value:d}),{linkage:t,url:d}}}}}catch(t){}return{linkage:t,url:null}}static async getEnsAddress(t){const e=await t.getNetwork(),r=e.getPlugin("org.ethers.plugins.network.Ens");return Io(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:e}}),r.address}static async#bt(t,e){const r=await yf.getEnsAddress(t);try{const n=new cd(r,["function resolver(bytes32) view returns (address)"],t),s=await n.resolver(fd(e),{enableCcipRead:!0});return s===mu?null:s}catch(t){throw t}return null}static async fromName(t,e){let r=e;for(;;){if(""===r||"."===r)return null;if("eth"!==e&&"eth"===r)return null;const n=await yf.#bt(t,r);if(null!=n){const s=new yf(t,n,e);return r===e||await s.supportsWildcard()?s:null}r=r.split(".").slice(1).join(".")}}}const bf=BigInt(0);function vf(t,e){return function(r){return null==r?e:t(r)}}function wf(t){return e=>{if(!Array.isArray(e))throw new Error("not an array");return e.map((e=>t(e)))}}function Ef(t,e){return r=>{const n={};for(const s in t){let i=s;if(e&&s in e&&!(i in r))for(const t of e[s])if(t in r){i=t;break}try{const e=t[s](r[i]);void 0!==e&&(n[s]=e)}catch(t){Io(!1,`invalid value for value.${s} (${t instanceof Error?t.message:"not-an-error"})`,"BAD_DATA",{value:r})}}return n}}function xf(t){return Mo(Lo(t,!0),"invalid data","value",t),t}function kf(t){return Mo(Lo(t,32),"invalid hash","value",t),t}const Af=Ef({address:hc,blockHash:kf,blockNumber:rl,data:xf,index:rl,removed:vf((function(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}Mo(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}),!1),topics:wf(kf),transactionHash:kf,transactionIndex:rl},{index:["logIndex"]});const Pf=Ef({hash:vf(kf),parentHash:kf,number:rl,timestamp:rl,nonce:vf(xf),difficulty:Zo,gasLimit:Zo,gasUsed:Zo,miner:vf(hc),extraData:xf,baseFeePerGas:vf(Zo)});const _f=Ef({transactionIndex:rl,blockNumber:rl,transactionHash:kf,address:hc,topics:wf(kf),data:xf,index:rl,blockHash:kf},{index:["logIndex"]});const Sf=Ef({to:vf(hc,null),from:vf(hc,null),contractAddress:vf(hc,null),index:rl,root:vf(Uo),gasUsed:Zo,logsBloom:vf(xf),blockHash:kf,hash:kf,logs:wf((function(t){return _f(t)})),blockNumber:rl,cumulativeGasUsed:Zo,effectiveGasPrice:vf(Zo),status:vf(rl),type:vf(rl,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Cf(t){t.to&&Zo(t.to)===bf&&(t.to="0x0000000000000000000000000000000000000000");const e=Ef({hash:kf,type:t=>"0x"===t||null==t?0:rl(t),accessList:vf(tu,null),blockHash:vf(kf,null),blockNumber:vf(rl,null),transactionIndex:vf(rl,null),from:hc,gasPrice:vf(Zo),maxPriorityFeePerGas:vf(Zo),maxFeePerGas:vf(Zo),gasLimit:Zo,to:vf(hc,null),value:Zo,nonce:rl,data:xf,creates:vf(hc,null),chainId:vf(Zo,null)},{data:["input"],gasLimit:["gas"]})(t);if(null==e.to&&null==e.creates&&(e.creates=function(t){const e=hc(t.from);let r=Zo(t.nonce,"tx.nonce").toString(16);return r="0"===r?"0x":r.length%2?"0x0"+r:"0x"+r,hc(zo(rc(Hp([e,r])),12))}(e)),1!==t.type&&2!==t.type||null!=t.accessList||(e.accessList=[]),t.signature?e.signature=Ad.from(t.signature):e.signature=Ad.from(t),null==e.chainId){const t=e.signature.legacyChainId;null!=t&&(e.chainId=t)}return e.blockHash&&Zo(e.blockHash)===bf&&(e.blockHash=null),e}class Tf{name;constructor(t){Po(this,{name:t})}clone(){return new Tf(this.name)}}class If extends Tf{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(t,e){null==t&&(t=0),super(`org.ethers.network.plugins.GasCost#${t||0}`);const r={effectiveBlock:t};function n(t,n){let s=(e||{})[t];null==s&&(s=n),Mo("number"==typeof s,`invalud value for ${t}`,"costs",e),r[t]=s}n("txBase",21e3),n("txCreate",32e3),n("txDataZero",4),n("txDataNonzero",16),n("txAccessListStorageKey",1900),n("txAccessListAddress",2400),Po(this,r)}clone(){return new If(this.effectiveBlock,this)}}class Mf extends Tf{address;targetNetwork;constructor(t,e){super("org.ethers.plugins.network.Ens"),Po(this,{address:t||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==e?1:e})}clone(){return new Mf(this.address,this.targetNetwork)}}class Of extends Tf{#_;#vt;get url(){return this.#_}get processFunc(){return this.#vt}constructor(t,e){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#_=t,this.#vt=e}clone(){return this}}const Df=new Map;class Ff{#wt;#dt;#Et;constructor(t,e){this.#wt=t,this.#dt=Zo(e),this.#Et=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#wt}set name(t){this.#wt=t}get chainId(){return this.#dt}set chainId(t){this.#dt=Zo(t,"chainId")}matches(t){if(null==t)return!1;if("string"==typeof t){try{return this.chainId===Zo(t)}catch(t){}return this.name===t}if("number"==typeof t||"bigint"==typeof t){try{return this.chainId===Zo(t)}catch(t){}return!1}if("object"==typeof t){if(null!=t.chainId){try{return this.chainId===Zo(t.chainId)}catch(t){}return!1}return null!=t.name&&this.name===t.name}return!1}get plugins(){return Array.from(this.#Et.values())}attachPlugin(t){if(this.#Et.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#Et.set(t.name,t.clone()),this}getPlugin(t){return this.#Et.get(t)||null}getPlugins(t){return this.plugins.filter((e=>e.name.split("#")[0]===t))}clone(){const t=new Ff(this.name,this.chainId);return this.plugins.forEach((e=>{t.attachPlugin(e.clone())})),t}computeIntrinsicGas(t){const e=this.getPlugin("org.ethers.plugins.network.GasCost")||new If;let r=e.txBase;if(null==t.to&&(r+=e.txCreate),t.data)for(let n=2;n<t.data.length;n+=2)"00"===t.data.substring(n,n+2)?r+=e.txDataZero:r+=e.txDataNonzero;if(t.accessList){const n=tu(t.accessList);for(const t in n)r+=e.txAccessListAddress+e.txAccessListStorageKey*n[t].storageKeys.length}return r}static from(t){if(function(){if(Bf)return;function t(t,e,r){const n=function(){const n=new Ff(t,e);return null!=r.ensNetwork&&n.attachPlugin(new Mf(null,r.ensNetwork)),n.attachPlugin(new If),(r.plugins||[]).forEach((t=>{n.attachPlugin(t)})),n};Ff.register(t,n),Ff.register(e,n),r.altNames&&r.altNames.forEach((t=>{Ff.register(t,n)}))}Bf=!0,t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("matic",137,{ensNetwork:1,plugins:[Rf("https://gasstation.polygon.technology/v2")]}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Rf("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("xdai",100,{ensNetwork:1})}(),null==t)return Ff.from("mainnet");if("number"==typeof t&&(t=BigInt(t)),"string"==typeof t||"bigint"==typeof t){const e=Df.get(t);if(e)return e();if("bigint"==typeof t)return new Ff("unknown",t);Mo(!1,"unknown network","network",t)}if("function"==typeof t.clone){return t.clone()}if("object"==typeof t){Mo("string"==typeof t.name&&"number"==typeof t.chainId,"invalid network object name or chainId","network",t);const e=new Ff(t.name,t.chainId);return(t.ensAddress||null!=t.ensNetwork)&&e.attachPlugin(new Mf(t.ensAddress,t.ensNetwork)),e}Mo(!1,"invalid network","network",t)}static register(t,e){"number"==typeof t&&(t=BigInt(t));const r=Df.get(t);r&&Mo(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",t),Df.set(t,e)}}function Nf(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const n=r.split(".");if(1===n.length&&n.push(""),2!==n.length)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let t=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||t++,n[1]=t.toString()}return BigInt(n[0]+n[1])}function Rf(t){return new Of(t,(async(t,e,r)=>{let n;r.setHeader("User-Agent","ethers");try{const[e,s]=await Promise.all([r.send(),t()]);n=e;const i=n.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:Nf(i.maxFee,9),maxPriorityFeePerGas:Nf(i.maxPriorityFee,9)}}catch(t){Io(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:n,error:t})}}))}let Bf=!1;function Lf(t){return JSON.parse(JSON.stringify(t))}class jf{#xt;#kt;#At;#Pt;constructor(t){this.#xt=t,this.#kt=null,this.#At=4e3,this.#Pt=-2}get pollingInterval(){return this.#At}set pollingInterval(t){this.#At=t}async#_t(){try{const t=await this.#xt.getBlockNumber();if(-2===this.#Pt)return void(this.#Pt=t);if(t!==this.#Pt){for(let e=this.#Pt+1;e<=t;e++){if(null==this.#kt)return;await this.#xt.emit("block",e)}this.#Pt=t}}catch(t){}null!=this.#kt&&(this.#kt=this.#xt._setTimeout(this.#_t.bind(this),this.#At))}start(){this.#kt||(this.#kt=this.#xt._setTimeout(this.#_t.bind(this),this.#At),this.#_t())}stop(){this.#kt&&(this.#xt._clearTimeout(this.#kt),this.#kt=null)}pause(t){this.stop(),t&&(this.#Pt=-2)}resume(){this.start()}}class Uf{#xt;#_t;#St;constructor(t){this.#xt=t,this.#St=!1,this.#_t=t=>{this._poll(t,this.#xt)}}async _poll(t,e){throw new Error("sub-classes must override this")}start(){this.#St||(this.#St=!0,this.#_t(-2),this.#xt.on("block",this.#_t))}stop(){this.#St&&(this.#St=!1,this.#xt.off("block",this.#_t))}pause(t){this.stop()}resume(){this.start()}}class Gf extends Uf{#Ct;#Tt;constructor(t,e){super(t),this.#Ct=e,this.#Tt=-2}pause(t){t&&(this.#Tt=-2),super.pause(t)}async _poll(t,e){const r=await e.getBlock(this.#Ct);null!=r&&(-2===this.#Tt?this.#Tt=r.number:r.number>this.#Tt&&(e.emit(this.#Ct,r.number),this.#Tt=r.number))}}class Vf extends Uf{#Z;constructor(t,e){super(t),this.#Z=Lf(e)}async _poll(t,e){throw new Error("@TODO")}}class zf extends Uf{#It;constructor(t,e){super(t),this.#It=e}async _poll(t,e){const r=await e.getTransactionReceipt(this.#It);r&&e.emit(this.#It,r)}}class $f{#xt;#Z;#kt;#St;#Pt;constructor(t,e){this.#xt=t,this.#Z=Lf(e),this.#kt=this.#_t.bind(this),this.#St=!1,this.#Pt=-2}async#_t(t){if(-2===this.#Pt)return;const e=Lf(this.#Z);e.fromBlock=this.#Pt+1,e.toBlock=t;const r=await this.#xt.getLogs(e);if(0!==r.length)for(const t of r)this.#xt.emit(this.#Z,t),this.#Pt=t.blockNumber;else this.#Pt<t-60&&(this.#Pt=t-60)}start(){this.#St||(this.#St=!0,-2===this.#Pt&&this.#xt.getBlockNumber().then((t=>{this.#Pt=t})),this.#xt.on("block",this.#kt))}stop(){this.#St&&(this.#St=!1,this.#xt.off("block",this.#kt))}pause(t){this.stop(),t&&(this.#Pt=-2)}resume(){this.start()}}const Hf=BigInt(2);function qf(t){return t&&"function"==typeof t.then}function Wf(t,e){return t+":"+JSON.stringify(e,((t,e)=>{if(null==e)return"null";if("bigint"==typeof e)return`bigint:${e.toString()}`;if("string"==typeof e)return e.toLowerCase();if("object"==typeof e&&!Array.isArray(e)){const t=Object.keys(e);return t.sort(),t.reduce(((t,r)=>(t[r]=e[r],t)),{})}return e}))}class Kf{name;constructor(t){Po(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function Jf(t){return(t=Array.from(new Set(t).values())).sort(),t}async function Qf(t,e){if(null==t)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),"string"==typeof t)switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Lo(t,32)){const e=t.toLowerCase();return{type:"transaction",tag:Wf("tx",{hash:e}),hash:e}}if(t.orphan){const e=t;return{type:"orphan",tag:Wf("orphan",e),filter:(r=e,JSON.parse(JSON.stringify(r)))}}var r;if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map((t=>null==t?null:Array.isArray(t)?Jf(t.map((t=>t.toLowerCase()))):t.toLowerCase()))};if(r.address){const t=[],s=[],i=r=>{Lo(r)?t.push(r):s.push((async()=>{t.push(await Lh(r,e))})())};Array.isArray(r.address)?r.address.forEach(i):i(r.address),s.length&&await Promise.all(s),n.address=Jf(t.map((t=>t.toLowerCase())))}return{filter:n,tag:Wf("event",n),type:"event"}}Mo(!1,"unknown ProviderEvent","event",t)}function Yf(){return(new Date).getTime()}const Zf={cacheTimeout:250,pollingInterval:4e3};class Xf{#Mt;#Et;#Ot;#Dt;#Ft;#Nt;#Rt;#Bt;#Lt;#jt;#Ut;#h;constructor(t,e){if(this.#h=Object.assign({},Zf,e||{}),"any"===t)this.#Nt=!0,this.#Ft=null;else if(t){const e=Ff.from(t);this.#Nt=!1,this.#Ft=Promise.resolve(e),setTimeout((()=>{this.emit("network",e,null)}),0)}else this.#Nt=!1,this.#Ft=null;this.#Bt=-1,this.#Rt=new Map,this.#Mt=new Map,this.#Et=new Map,this.#Ot=null,this.#Dt=!1,this.#Lt=1,this.#jt=new Map,this.#Ut=!1}get pollingInterval(){return this.#h.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#Et.values())}attachPlugin(t){if(this.#Et.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#Et.set(t.name,t.connect(this)),this}getPlugin(t){return this.#Et.get(t)||null}get disableCcipRead(){return this.#Ut}set disableCcipRead(t){this.#Ut=!!t}async#Gt(t){const e=this.#h.cacheTimeout;if(e<0)return await this._perform(t);const r=Wf(t.method,t);let n=this.#Rt.get(r);return n||(n=this._perform(t),this.#Rt.set(r,n),setTimeout((()=>{this.#Rt.get(r)===n&&this.#Rt.delete(r)}),e)),await n}async ccipReadFetch(t,e,r){if(this.disableCcipRead||0===r.length||null==t.to)return null;const n=t.to.toLowerCase(),s=e.toLowerCase(),i=[];for(let e=0;e<r.length;e++){const a=r[e],o=a.replace("{sender}",n).replace("{data}",s),l=new du(o);-1===a.indexOf("{data}")&&(l.body={data:s,sender:n}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:e,urls:r});let c="unknown error";const h=await l.send();try{const t=h.bodyJson;if(t.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:t}),t.data;t.message&&(c=t.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:t})}catch(t){}Io(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${c}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:a,errorMessage:c}}),i.push(c)}Io(!1,`error encountered during CCIP fetch: ${i.map((t=>JSON.stringify(t))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:r,errorMessages:i}})}_wrapBlock(t,e){return new Cu(function(t){const e=Pf(t);return e.transactions=t.transactions.map((t=>"string"==typeof t?t:Cf(t))),e}(t),this)}_wrapLog(t,e){return new Tu(function(t){return Af(t)}(t),this)}_wrapTransactionReceipt(t,e){return new Iu(function(t){return Sf(t)}(t),this)}_wrapTransactionResponse(t,e){return new Mu(Cf(t),this)}_detectNetwork(){Io(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){Io(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=rl(await this.#Gt({method:"getBlockNumber"}),"%response");return this.#Bt>=0&&(this.#Bt=t),t}_getAddress(t){return Lh(t,this)}_getBlockTag(t){if(null==t)return"latest";switch(t){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return t}return Lo(t)?Lo(t,32)?t:il(t):("bigint"==typeof t&&(t=rl(t,"blockTag")),"number"==typeof t?t>=0?il(t):this.#Bt>=0?il(this.#Bt+t):this.getBlockNumber().then((e=>il(e+t))):void Mo(!1,"invalid blockTag","blockTag",t))}_getFilter(t){const e=(t.topics||[]).map((t=>null==t?null:Array.isArray(t)?Jf(t.map((t=>t.toLowerCase()))):t.toLowerCase())),r="blockHash"in t?t.blockHash:void 0,n=(t,n,s)=>{let i;switch(t.length){case 0:break;case 1:i=t[0];break;default:t.sort(),i=t}if(r&&(null!=n||null!=s))throw new Error("invalid filter");const a={};return i&&(a.address=i),e.length&&(a.topics=e),n&&(a.fromBlock=n),s&&(a.toBlock=s),r&&(a.blockHash=r),a};let s,i,a=[];if(t.address)if(Array.isArray(t.address))for(const e of t.address)a.push(this._getAddress(e));else a.push(this._getAddress(t.address));return"fromBlock"in t&&(s=this._getBlockTag(t.fromBlock)),"toBlock"in t&&(i=this._getBlockTag(t.toBlock)),a.filter((t=>"string"!=typeof t)).length||null!=s&&"string"!=typeof s||null!=i&&"string"!=typeof i?Promise.all([Promise.all(a),s,i]).then((t=>n(t[0],t[1],t[2]))):n(a,s,i)}_getTransactionRequest(t){const e=Su(t),r=[];if(["to","from"].forEach((t=>{if(null==e[t])return;const n=Lh(e[t],this);qf(n)?r.push(async function(){e[t]=await n}()):e[t]=n})),null!=e.blockTag){const t=this._getBlockTag(e.blockTag);qf(t)?r.push(async function(){e.blockTag=await t}()):e.blockTag=t}return r.length?async function(){return await Promise.all(r),e}():e}async getNetwork(){if(null==this.#Ft){const t=(async()=>{try{const t=await this._detectNetwork();return this.emit("network",t,null),t}catch(e){throw this.#Ft===t&&(this.#Ft=null),e}})();return this.#Ft=t,(await t).clone()}const t=this.#Ft,[e,r]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==r.chainId&&(this.#Nt?(this.emit("network",r,e),this.#Ft===t&&(this.#Ft=Promise.resolve(r))):Io(!1,`network changed: ${e.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),e.clone()}async getFeeData(){const t=await this.getNetwork(),e=async()=>{const{_block:e,gasPrice:r,priorityFee:n}=await Ao({_block:this.#Vt("latest",!1),gasPrice:(async()=>{try{return Zo(await this.#Gt({method:"getGasPrice"}),"%response")}catch(t){}return null})(),priorityFee:(async()=>{try{return Zo(await this.#Gt({method:"getPriorityFee"}),"%response")}catch(t){}return null})()});let s=null,i=null;const a=this._wrapBlock(e,t);return a&&a.baseFeePerGas&&(i=null!=n?n:BigInt("1000000000"),s=a.baseFeePerGas*Hf+i),new _u(r,s,i)},r=t.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const t=new du(r.url),n=await r.processFunc(e,this,t);return new _u(n.gasPrice,n.maxFeePerGas,n.maxPriorityFeePerGas)}return await e()}async estimateGas(t){let e=this._getTransactionRequest(t);return qf(e)&&(e=await e),Zo(await this.#Gt({method:"estimateGas",transaction:e}),"%response")}async#zt(t,e,r){Io(r<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const n=Su(t);try{return Uo(await this._perform({method:"call",transaction:n,blockTag:e}))}catch(t){if(!this.disableCcipRead&&Co(t)&&t.data&&r>=0&&"latest"===e&&null!=n.to&&"0x556f1830"===zo(t.data,0,4)){const s=t.data,i=await Lh(n.to,this);let a;try{a=function(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Io(Vo(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=zo(t,0,32);Io(zo(r,0,12)===zo(am,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=zo(r,12);try{const r=[],n=rl(zo(t,32,64)),s=rl(zo(t,n,n+32)),i=zo(t,n+32);for(let t=0;t<s;t++){const e=tm(i,32*t);if(null==e)throw new Error("abort");r.push(e)}e.urls=r}catch(t){Io(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=em(t,64);if(null==r)throw new Error("abort");e.calldata=r}catch(t){Io(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Io(zo(t,100,128)===zo(am,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=zo(t,96,100);try{const r=em(t,128);if(null==r)throw new Error("abort");e.extraData=r}catch(t){Io(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((t=>e[t])),e}(zo(t.data,4))}catch(t){Io(!1,t.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:n,info:{data:s}})}Io(a.sender.toLowerCase()===i.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:n,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:a.errorArgs}});const o=await this.ccipReadFetch(n,a.calldata,a.urls);Io(null!=o,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:n,info:{data:t.data,errorArgs:a.errorArgs}});const l={to:i,data:Go([a.selector,im([o,a.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{const t=await this.#zt(l,e,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:t}),t}catch(t){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:t}),t}}throw t}}async#$t(t){const{value:e}=await Ao({network:this.getNetwork(),value:t});return e}async call(t){const{tx:e,blockTag:r}=await Ao({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await this.#$t(this.#zt(e,r,t.enableCcipRead?0:-1))}async#Ht(t,e,r){let n=this._getAddress(e),s=this._getBlockTag(r);return"string"==typeof n&&"string"==typeof s||([n,s]=await Promise.all([n,s])),await this.#$t(this.#Gt(Object.assign(t,{address:n,blockTag:s})))}async getBalance(t,e){return Zo(await this.#Ht({method:"getBalance"},t,e),"%response")}async getTransactionCount(t,e){return rl(await this.#Ht({method:"getTransactionCount"},t,e),"%response")}async getCode(t,e){return Uo(await this.#Ht({method:"getCode"},t,e))}async getStorage(t,e,r){const n=Zo(e,"position");return Uo(await this.#Ht({method:"getStorage",position:n},t,r))}async broadcastTransaction(t){const{blockNumber:e,hash:r,network:n}=await Ao({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),s=hf.from(t);if(s.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,n).replaceableTransaction(e)}async#Vt(t,e){if(Lo(t,32))return await this.#Gt({method:"getBlock",blockHash:t,includeTransactions:e});let r=this._getBlockTag(t);return"string"!=typeof r&&(r=await r),await this.#Gt({method:"getBlock",blockTag:r,includeTransactions:e})}async getBlock(t,e){const{network:r,params:n}=await Ao({network:this.getNetwork(),params:this.#Vt(t,!!e)});return null==n?null:this._wrapBlock(n,r)}async getTransaction(t){const{network:e,params:r}=await Ao({network:this.getNetwork(),params:this.#Gt({method:"getTransaction",hash:t})});return null==r?null:this._wrapTransactionResponse(r,e)}async getTransactionReceipt(t){const{network:e,params:r}=await Ao({network:this.getNetwork(),params:this.#Gt({method:"getTransactionReceipt",hash:t})});if(null==r)return null;if(null==r.gasPrice&&null==r.effectiveGasPrice){const e=await this.#Gt({method:"getTransaction",hash:t});if(null==e)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=e.gasPrice}return this._wrapTransactionReceipt(r,e)}async getTransactionResult(t){const{result:e}=await Ao({network:this.getNetwork(),result:this.#Gt({method:"getTransactionResult",hash:t})});return null==e?null:Uo(e)}async getLogs(t){let e=this._getFilter(t);qf(e)&&(e=await e);const{network:r,params:n}=await Ao({network:this.getNetwork(),params:this.#Gt({method:"getLogs",filter:e})});return n.map((t=>this._wrapLog(t,r)))}_getProvider(t){Io(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await yf.fromName(this,t)}async getAvatar(t){const e=await this.getResolver(t);return e?await e.getAvatar():null}async resolveName(t){const e=await this.getResolver(t);return e?await e.getAddress():null}async lookupAddress(t){const e=fd((t=hc(t)).substring(2).toLowerCase()+".addr.reverse");try{const r=await yf.getEnsAddress(this),n=new cd(r,["function resolver(bytes32) view returns (address)"],this),s=await n.resolver(e);if(null==s||s===mu)return null;const i=new cd(s,["function name(bytes32) view returns (string)"],this),a=await i.name(e);return await this.resolveName(a)!==t?null:a}catch(t){if(So(t,"BAD_DATA")&&"0x"===t.value)return null;if(So(t,"CALL_EXCEPTION"))return null;throw t}return null}async waitForTransaction(t,e,r){const n=null!=e?e:1;return 0===n?this.getTransactionReceipt(t):new Promise((async(e,s)=>{let i=null;const a=async r=>{try{const s=await this.getTransactionReceipt(t);if(null!=s&&r-s.blockNumber+1>=n)return e(s),void(i&&(clearTimeout(i),i=null))}catch(t){console.log("EEE",t)}this.once("block",a)};null!=r&&(i=setTimeout((()=>{null!=i&&(i=null,this.off("block",a),s(To("timeout","TIMEOUT",{reason:"timeout"})))}),r)),a(await this.getBlockNumber())}))}async waitForBlock(t){Io(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const e=this.#jt.get(t);e&&(e.timer&&clearTimeout(e.timer),this.#jt.delete(t))}_setTimeout(t,e){null==e&&(e=0);const r=this.#Lt++,n=()=>{this.#jt.delete(r),t()};if(this.paused)this.#jt.set(r,{timer:null,func:n,time:e});else{const t=setTimeout(n,e);this.#jt.set(r,{timer:t,func:n,time:Yf()})}return r}_forEachSubscriber(t){for(const e of this.#Mt.values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new Kf(t.type);case"block":{const t=new jf(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new Gf(this,t.type);case"event":return new $f(this,t.filter);case"transaction":return new zf(this,t.hash);case"orphan":return new Vf(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const r of this.#Mt.values())if(r.subscriber===t){r.started&&r.subscriber.stop(),r.subscriber=e,r.started&&e.start(),null!=this.#Ot&&e.pause(this.#Ot);break}}async#qt(t,e){let r=await Qf(t,this);return"event"===r.type&&e&&e.length>0&&!0===e[0].removed&&(r=await Qf({orphan:"drop-log",log:e[0]},this)),this.#Mt.get(r.tag)||null}async#Wt(t){const e=await Qf(t,this),r=e.tag;let n=this.#Mt.get(r);if(!n){n={subscriber:this._getSubscriber(e),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#Mt.set(r,n)}return n}async on(t,e){const r=await this.#Wt(t);return r.listeners.push({listener:e,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#Ot&&r.subscriber.pause(this.#Ot)),this}async once(t,e){const r=await this.#Wt(t);return r.listeners.push({listener:e,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#Ot&&r.subscriber.pause(this.#Ot)),this}async emit(t,...e){const r=await this.#qt(t,e);if(!r||0===r.listeners.length)return!1;const n=r.listeners.length;return r.listeners=r.listeners.filter((({listener:r,once:n})=>{const s=new Fu(this,n?null:r,t);try{r.call(this,...e,s)}catch(t){}return!n})),0===r.listeners.length&&(r.started&&r.subscriber.stop(),this.#Mt.delete(r.tag)),n>0}async listenerCount(t){if(t){const e=await this.#qt(t);return e?e.listeners.length:0}let e=0;for(const{listeners:t}of this.#Mt.values())e+=t.length;return e}async listeners(t){if(t){const e=await this.#qt(t);return e?e.listeners.map((({listener:t})=>t)):[]}let e=[];for(const{listeners:t}of this.#Mt.values())e=e.concat(t.map((({listener:t})=>t)));return e}async off(t,e){const r=await this.#qt(t);if(!r)return this;if(e){const t=r.listeners.map((({listener:t})=>t)).indexOf(e);t>=0&&r.listeners.splice(t,1)}return e&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),this.#Mt.delete(r.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:r,subscriber:n}=await this.#Wt(t);r&&n.stop(),this.#Mt.delete(e)}else for(const[t,{started:e,subscriber:r}]of this.#Mt)e&&r.stop(),this.#Mt.delete(t);return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return this.off(t,e)}get destroyed(){return this.#Dt}destroy(){this.removeAllListeners();for(const t of this.#jt.keys())this._clearTimeout(t);this.#Dt=!0}get paused(){return null!=this.#Ot}set paused(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(t){if(this.#Bt=-1,null!=this.#Ot){if(this.#Ot==!!t)return;Io(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((e=>e.pause(t))),this.#Ot=!!t;for(const t of this.#jt.values())t.timer&&clearTimeout(t.timer),t.time=Yf()-t.time}resume(){if(null!=this.#Ot){this._forEachSubscriber((t=>t.resume())),this.#Ot=null;for(const t of this.#jt.values()){let e=t.time;e<0&&(e=0),t.time=Yf(),setTimeout(t.func,e)}}}}function tm(t,e){try{const r=em(t,e);if(r)return Nc(r)}catch(t){}return null}function em(t,e){if("0x"===t)return null;try{const r=rl(zo(t,e,e+32)),n=rl(zo(t,r,r+32));return zo(t,r+32,r+32+n)}catch(t){}return null}function rm(t){const e=sl(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function nm(t){if(t.length%32==0)return t;const e=new Uint8Array(32*Math.ceil(t.length/32));return e.set(t),e}const sm=new Uint8Array([]);function im(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(sm),r+=32;for(let n=0;n<t.length;n++){const s=Ro(t[n]);e[n]=rm(r),e.push(rm(s.length)),e.push(nm(s)),r+=32+32*Math.ceil(s.length/32)}return Go(e)}const am="0x0000000000000000000000000000000000000000000000000000000000000000";function om(t,e){if(t.provider)return t.provider;Io(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function lm(t,e){let r=Su(e);if(null!=r.to&&(r.to=Lh(r.to,t)),null!=r.from){const e=r.from;r.from=Promise.all([t.getAddress(),Lh(e,t)]).then((([t,e])=>(Mo(t.toLowerCase()===e.toLowerCase(),"transaction from mismatch","tx.from",e),t)))}else r.from=t.getAddress();return await Ao(r)}class cm{provider;constructor(t){Po(this,{provider:t||null})}async getNonce(t){return om(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await lm(this,t)}async populateTransaction(t){const e=om(this,"populateTransaction"),r=await lm(this,t);null==r.nonce&&(r.nonce=await this.getNonce("pending")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));const n=await this.provider.getNetwork();if(null!=r.chainId){Mo(Zo(r.chainId)===n.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else r.chainId=n.chainId;const s=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null==r.gasPrice||2!==r.type&&!s?0!==r.type&&1!==r.type||!s||Mo(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t):Mo(!1,"eip-1559 transaction do not support gasPrice","tx",t),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas)if(0===r.type||1===r.type){const t=await e.getFeeData();Io(null!=t.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=t.gasPrice)}else{const t=await e.getFeeData();if(null==r.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(r.type=2,null!=r.gasPrice){const t=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=t,r.maxPriorityFeePerGas=t}else null==r.maxFeePerGas&&(r.maxFeePerGas=t.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(Io(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=t.gasPrice),r.type=0):Io(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2===r.type&&(null==r.maxFeePerGas&&(r.maxFeePerGas=t.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else r.type=2;return await Ao(r)}async estimateGas(t){return om(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return om(this,"call").call(await this.populateCall(t))}async resolveName(t){const e=om(this,"resolveName");return await e.resolveName(t)}async sendTransaction(t){const e=om(this,"sendTransaction"),r=await this.populateTransaction(t);delete r.from;const n=hf.from(r);return await e.broadcastTransaction(await this.signTransaction(n))}}class hm{#xt;#Kt;#kt;#St;#Jt;#Qt;constructor(t){this.#xt=t,this.#Kt=null,this.#kt=this.#_t.bind(this),this.#St=!1,this.#Jt=null,this.#Qt=!1}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,e){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}async#_t(t){try{null==this.#Kt&&(this.#Kt=this._subscribe(this.#xt));let t=null;try{t=await this.#Kt}catch(t){if(!So(t,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==t.operation)throw t}if(null==t)return this.#Kt=null,void this.#xt._recoverSubscriber(this,this._recover(this.#xt));const e=await this.#xt.getNetwork();if(this.#Jt||(this.#Jt=e),this.#Jt.chainId!==e.chainId)throw new Error("chaid changed");if(this.#Qt)return;const r=await this.#xt.send("eth_getFilterChanges",[t]);await this._emitResults(this.#xt,r)}catch(t){console.log("@TODO",t)}this.#xt.once("block",this.#kt)}#Yt(){const t=this.#Kt;t&&(this.#Kt=null,t.then((t=>{this.#xt.send("eth_uninstallFilter",[t])})))}start(){this.#St||(this.#St=!0,this.#_t(-2))}stop(){this.#St&&(this.#St=!1,this.#Qt=!0,this.#Yt(),this.#xt.off("block",this.#kt))}pause(t){t&&this.#Yt(),this.#xt.off("block",this.#kt)}resume(){this.start()}}class um extends hm{#Zt;constructor(t,e){var r;super(t),this.#Zt=(r=e,JSON.parse(JSON.stringify(r)))}_recover(t){return new $f(t,this.#Zt)}async _subscribe(t){return await t.send("eth_newFilter",[this.#Zt])}async _emitResults(t,e){for(const r of e)t.emit(this.#Zt,t._wrapLog(r,t._network))}}class dm extends hm{async _subscribe(t){return await t.send("eth_newPendingTransactionFilter",[])}async _emitResults(t,e){for(const r of e)t.emit("pending",r)}}const pm="bigint,boolean,function,number,string,symbol".split(/,/g);function fm(t){if(null==t||pm.indexOf(typeof t)>=0)return t;if("function"==typeof t.getAddress)return t;if(Array.isArray(t))return t.map(fm);if("object"==typeof t)return Object.keys(t).reduce(((e,r)=>(e[r]=t[r],e)),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function mm(t){return new Promise((e=>{setTimeout(e,t)}))}function gm(t){return t?t.toLowerCase():t}function ym(t){return t&&"number"==typeof t.pollingInterval}const bm={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class vm extends cm{address;constructor(t,e){super(t),Po(this,{address:e=hc(e)})}connect(t){Io(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const e=fm(t),r=[];if(e.from){const n=e.from;r.push((async()=>{const r=await Lh(n,this.provider);Mo(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),e.from=r})())}else e.from=this.address;if(null==e.gasLimit&&r.push((async()=>{e.gasLimit=await this.provider.estimateGas({...e,from:this.address})})()),null!=e.to){const t=e.to;r.push((async()=>{e.to=await Lh(t,this.provider)})())}r.length&&await Promise.all(r);const n=this.provider.getRpcTransaction(e);return this.provider.send("eth_sendTransaction",[n])}async sendTransaction(t){const e=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(t);return await new Promise(((t,n)=>{const s=[1e3,100];let i=0;const a=async()=>{try{const n=await this.provider.getTransaction(r);if(null!=n)return void t(n.replaceableTransaction(e))}catch(t){if(So(t,"CANCELLED")||So(t,"BAD_DATA")||So(t,"NETWORK_ERROR"))return null==t.info&&(t.info={}),t.info.sendTransactionHash=r,void n(t);if(So(t,"INVALID_ARGUMENT")&&(i++,null==t.info&&(t.info={}),t.info.sendTransactionHash=r,i>10))return void n(t);this.provider.emit("error",To("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:t}))}this.provider._setTimeout((()=>{a()}),s.pop()||4e3)};a()}))}async signTransaction(t){const e=fm(t);if(e.from){const r=await Lh(e.from,this.provider);Mo(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),e.from=r}else e.from=this.address;const r=this.provider.getRpcTransaction(e);return await this.provider.send("eth_signTransaction",[r])}async signMessage(t){const e="string"==typeof t?Fc(t):t;return await this.provider.send("personal_sign",[Uo(e),this.address.toLowerCase()])}async signTypedData(t,e,r){const n=fm(r),s=await Zh.resolveNames(t,e,n,(async t=>{const e=await Lh(t);return Mo(null!=e,"TypedData does not support null address","value",t),e}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Zh.getPayload(s.domain,e,s.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const e="string"==typeof t?Fc(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Uo(e)])}}class wm extends Xf{#h;#Xt;#te;#ee;#re;#Jt;#ne;#se(){if(this.#ee)return;const t=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#ee=setTimeout((()=>{this.#ee=null;const t=this.#te;for(this.#te=[];t.length;){const e=[t.shift()];for(;t.length&&e.length!==this.#h.batchMaxCount;){e.push(t.shift());if(JSON.stringify(e.map((t=>t.payload))).length>this.#h.batchMaxSize){t.unshift(e.pop());break}}(async()=>{const t=1===e.length?e[0].payload:e.map((t=>t.payload));this.emit("debug",{action:"sendRpcPayload",payload:t});try{const r=await this._send(t);this.emit("debug",{action:"receiveRpcResult",result:r});for(const{resolve:t,reject:n,payload:s}of e){if(this.destroyed){n(To("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:s.method}));continue}const e=r.filter((t=>t.id===s.id))[0];if(null!=e)"error"in e?n(this.getRpcError(s,e)):t(e.result);else{const t=To("missing response for request","BAD_DATA",{value:r,info:{payload:s}});this.emit("error",t),n(t)}}}catch(t){this.emit("debug",{action:"receiveRpcError",error:t});for(const{reject:r}of e)r(t)}})()}}),t)}constructor(t,e){super(t,e),this.#Xt=1,this.#h=Object.assign({},bm,e||{}),this.#te=[],this.#ee=null,this.#Jt=null,this.#ne=null;{let t=null;const e=new Promise((e=>{t=e}));this.#re={promise:e,resolve:t}}const r=this._getOption("staticNetwork");"boolean"==typeof r?(Mo(!r||"any"!==t,"staticNetwork cannot be used on special network 'any'","options",e),r&&null!=t&&(this.#Jt=Ff.from(t))):r&&(Mo(null==t||r.matches(t),"staticNetwork MUST match network object","options",e),this.#Jt=r)}_getOption(t){return this.#h[t]}get _network(){return Io(this.#Jt,"network is not available yet","NETWORK_ERROR"),this.#Jt}async _perform(t){if("call"===t.method||"estimateGas"===t.method){let e=t.transaction;if(e&&null!=e.type&&Zo(e.type)&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){const r=await this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&(t=Object.assign({},t,{transaction:Object.assign({},e,{type:void 0})}))}}const e=this.getRpcRequest(t);return null!=e?await this.send(e.method,e.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t){if(!0!==t)return t;if(this.#Jt)return this.#Jt}return this.#ne?await this.#ne:this.ready?(this.#ne=(async()=>{try{const t=Ff.from(Zo(await this.send("eth_chainId",[])));return this.#ne=null,t}catch(t){throw this.#ne=null,t}})(),await this.#ne):(this.#ne=(async()=>{const t={id:this.#Xt++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let e;this.emit("debug",{action:"sendRpcPayload",payload:t});try{e=(await this._send(t))[0],this.#ne=null}catch(t){throw this.#ne=null,this.emit("debug",{action:"receiveRpcError",error:t}),t}if(this.emit("debug",{action:"receiveRpcResult",result:e}),"result"in e)return Ff.from(Zo(e.result));throw this.getRpcError(t,e)})(),await this.#ne)}_start(){null!=this.#re&&null!=this.#re.resolve&&(this.#re.resolve(),this.#re=null,(async()=>{for(;null==this.#Jt&&!this.destroyed;)try{this.#Jt=await this._detectNetwork()}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",To("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await mm(1e3)}this.#se()})())}async _waitUntilReady(){if(null!=this.#re)return await this.#re.promise}_getSubscriber(t){return"pending"===t.type?new dm(this):"event"===t.type?this._getOption("polling")?new $f(this,t.filter):new um(this,t.filter):"orphan"===t.type&&"drop-log"===t.filter.orphan?new Kf("orphan"):super._getSubscriber(t)}get ready(){return null==this.#re}getRpcTransaction(t){const e={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((r=>{if(null==t[r])return;let n=r;"gasLimit"===r&&(n="gas"),e[n]=il(Zo(t[r],`tx.${r}`))})),["from","to","data"].forEach((r=>{null!=t[r]&&(e[r]=Uo(t[r]))})),t.accessList&&(e.accessList=tu(t.accessList)),e}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[gm(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[gm(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[gm(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[gm(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&null!=t.filter.address&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(gm):t.filter.address=gm(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,e){const{method:r}=t,{error:n}=e;if("eth_estimateGas"===r&&n.message){const e=n.message;if(!e.match(/revert/i)&&e.match(/insufficient funds/i))return To("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:n}})}if("eth_call"===r||"eth_estimateGas"===r){const e=xm(n),s=Nh.getBuiltinCallException("eth_call"===r?"call":"estimateGas",t.params[0],e?e.data:null);return s.info={error:n,payload:t},s}const s=JSON.stringify(function(t){const e=[];return km(t,e),e}(n));if("string"==typeof n.message&&n.message.match(/user denied|ethers-user-denied/i)){return To("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:t,error:n}})}if("eth_sendRawTransaction"===r||"eth_sendTransaction"===r){const e=t.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return To("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:e,info:{error:n}});if(s.match(/nonce/i)&&s.match(/too low/i))return To("nonce has already been used","NONCE_EXPIRED",{transaction:e,info:{error:n}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return To("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:e,info:{error:n}});if(s.match(/only replay-protected/i))return To("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:e,info:{error:n}}})}let i=!!s.match(/the method .* does not exist/i);return i||n&&n.details&&n.details.startsWith("Unauthorized method:")&&(i=!0),i?To("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:n,payload:t}}):To("could not coalesce error","UNKNOWN_ERROR",{error:n,payload:t})}send(t,e){if(this.destroyed)return Promise.reject(To("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const r=this.#Xt++,n=new Promise(((n,s)=>{this.#te.push({resolve:n,reject:s,payload:{method:t,params:e,id:r,jsonrpc:"2.0"}})}));return this.#se(),n}async getSigner(t){null==t&&(t=0);const e=this.send("eth_accounts",[]);if("number"==typeof t){const r=await e;if(t>=r.length)throw new Error("no such account");return new vm(this,r[t])}const{accounts:r}=await Ao({network:this.getNetwork(),accounts:e});t=hc(t);for(const e of r)if(hc(e)===t)return new vm(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((t=>new vm(this,t)))}destroy(){this.#ee&&(clearTimeout(this.#ee),this.#ee=null);for(const{payload:t,reject:e}of this.#te)e(To("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));this.#te=[],super.destroy()}}class Em extends wm{#ie;constructor(t,e){super(t,e),this.#ie=4e3}_getSubscriber(t){const e=super._getSubscriber(t);return ym(e)&&(e.pollingInterval=this.#ie),e}get pollingInterval(){return this.#ie}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");this.#ie=t,this._forEachSubscriber((t=>{ym(t)&&(t.pollingInterval=this.#ie)}))}}function xm(t){if(null==t)return null;if("string"==typeof t.message&&t.message.match(/revert/i)&&Lo(t.data))return{message:t.message,data:t.data};if("object"==typeof t){for(const e in t){const r=xm(t[e]);if(r)return r}return null}if("string"==typeof t)try{return xm(JSON.parse(t))}catch(t){}return null}function km(t,e){if(null!=t){if("string"==typeof t.message&&e.push(t.message),"object"==typeof t)for(const r in t)km(t[r],e);if("string"==typeof t)try{return km(JSON.parse(t),e)}catch(t){}}}class Am extends Em{#j;constructor(t,e){super(e,{batchMaxCount:1}),this.#j=async(e,r)=>{const n={method:e,params:r};this.emit("debug",{action:"sendEip1193Request",payload:n});try{const e=await t.request(n);return this.emit("debug",{action:"receiveEip1193Result",result:e}),e}catch(t){const e=new Error(t.message);throw e.code=t.code,e.data=t.data,e.payload=n,this.emit("debug",{action:"receiveEip1193Error",error:e}),e}}}async send(t,e){return await this._start(),await super.send(t,e)}async _send(t){Mo(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{const e=await this.#j(t.method,t.params||[]);return[{id:t.id,result:e}]}catch(e){return[{id:t.id,error:{code:e.code,data:e.data,message:e.message}}]}}getRpcError(t,e){switch((e=JSON.parse(JSON.stringify(e))).error.code||-1){case 4001:e.error.message=`ethers-user-denied: ${e.error.message}`;break;case 4200:e.error.message=`ethers-unsupported: ${e.error.message}`}return super.getRpcError(t,e)}async hasSigner(t){null==t&&(t=0);const e=await this.send("eth_accounts",[]);return"number"==typeof t?e.length>t:(t=t.toLowerCase(),0!==e.filter((e=>e.toLowerCase()===t)).length)}async getSigner(t){if(null==t&&(t=0),!await this.hasSigner(t))try{await this.#j("eth_requestAccounts",[])}catch(t){const e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(t)}}var Pm,_m,Sm,Cm,Tm,Im,Mm,Om,Dm,Fm,Nm,Rm,Bm,Lm,jm,Um,Gm,Vm,zm,$m,Hm=r(2006),qm="eip155",Wm="requestedChains",Km="wallet_addEthereumChain",Jm=class extends hn{constructor(t){super({...t,options:{isNewChainsStale:!0,...t.options}}),on(this,Sm),on(this,Tm),on(this,Mm),on(this,Dm),on(this,Nm),on(this,Bm),on(this,jm),on(this,Gm),on(this,zm),this.id="walletConnect",this.name="WalletConnect",this.ready=!0,on(this,Pm,void 0),on(this,_m,void 0),this.onAccountsChanged=t=>{0===t.length?this.emit("disconnect"):this.emit("change",{account:(0,un.K)(t[0])})},this.onChainChanged=t=>{const e=Number(t),r=this.isChainUnsupported(e);this.emit("change",{chain:{id:e,unsupported:r}})},this.onDisconnect=()=>{cn(this,Bm,Lm).call(this,[]),this.emit("disconnect")},this.onDisplayUri=t=>{this.emit("message",{type:"display_uri",data:t})},this.onConnect=()=>{this.emit("connect",{})},cn(this,Sm,Cm).call(this)}async connect({chainId:t,pairingTopic:e}={}){try{let r=t;if(!r){const t=this.storage?.getItem("store"),e=t?.state?.data?.chain?.id;r=e&&!this.isChainUnsupported(e)?e:this.chains[0]?.id}if(!r)throw new Error("No chains found on connector.");const n=await this.getProvider();cn(this,Dm,Fm).call(this);const s=cn(this,Mm,Om).call(this);if(n.session&&s&&await n.disconnect(),!n.session||s){const t=this.chains.filter((t=>t.id!==r)).map((t=>t.id));this.emit("message",{type:"connecting"}),await n.connect({pairingTopic:e,optionalChains:[r,...t]}),cn(this,Bm,Lm).call(this,this.chains.map((({id:t})=>t)))}const i=await n.enable(),a=(0,un.K)(i[0]),o=await this.getChainId();return{account:a,chain:{id:o,unsupported:this.isChainUnsupported(o)}}}catch(t){if(/user rejected/i.test(t?.message))throw new Cn(t);throw t}}async disconnect(){const t=await this.getProvider();try{await t.disconnect()}catch(t){if(!/No matching key/i.test(t.message))throw t}finally{cn(this,Nm,Rm).call(this),cn(this,Bm,Lm).call(this,[])}}async getAccount(){const{accounts:t}=await this.getProvider();return(0,un.K)(t[0])}async getChainId(){const{chainId:t}=await this.getProvider();return t}async getProvider({chainId:t}={}){return an(this,Pm)||await cn(this,Sm,Cm).call(this),t&&await this.switchChain(t),an(this,Pm)}async getWalletClient({chainId:t}={}){const[e,r]=await Promise.all([this.getProvider({chainId:t}),this.getAccount()]),n=this.chains.find((e=>e.id===t));if(!e)throw new Error("provider is required.");return Ns({account:r,chain:n,transport:Gs(e)})}async isAuthorized(){try{const[t,e]=await Promise.all([this.getAccount(),this.getProvider()]),r=cn(this,Mm,Om).call(this);if(!t)return!1;if(r&&e.session){try{await e.disconnect()}catch{}return!1}return!0}catch{return!1}}async switchChain(t){const e=this.chains.find((e=>e.id===t));if(!e)throw new Dn(new Error("chain not found on connector."));try{const r=await this.getProvider(),n=cn(this,Gm,Vm).call(this),s=cn(this,zm,$m).call(this);if(!n.includes(t)&&s.includes(Km)){await r.request({method:Km,params:[{chainId:(0,zn.eC)(e.id),blockExplorerUrls:[e.blockExplorers?.default?.url],chainName:e.name,nativeCurrency:e.nativeCurrency,rpcUrls:[...e.rpcUrls.default.http]}]});const n=cn(this,jm,Um).call(this);n.push(t),cn(this,Bm,Lm).call(this,n)}return await r.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,zn.eC)(t)}]}),e}catch(t){if(/user rejected request/i.test("string"==typeof t?t:t?.message))throw new Cn(t);throw new Dn(t)}}};Pm=new WeakMap,_m=new WeakMap,Sm=new WeakSet,Cm=async function(){return an(this,_m)||"undefined"==typeof window||ln(this,_m,cn(this,Tm,Im).call(this)),an(this,_m)},Tm=new WeakSet,Im=async function(){const{EthereumProvider:t}=await r.e(10).then(r.bind(r,6010)),e=this.chains.map((({id:t})=>t));if(e.length){const{projectId:r,showQrModal:n=!0,qrModalOptions:s,metadata:i,relayUrl:a}=this.options;ln(this,Pm,await t.init({showQrModal:n,qrModalOptions:s,projectId:r,optionalChains:e,rpcMap:Object.fromEntries(this.chains.map((t=>[t.id,t.rpcUrls.default.http[0]]))),metadata:i,relayUrl:a}))}},Mm=new WeakSet,Om=function(){if(cn(this,zm,$m).call(this).includes(Km))return!1;if(!this.options.isNewChainsStale)return!1;const t=cn(this,jm,Um).call(this),e=this.chains.map((({id:t})=>t)),r=cn(this,Gm,Vm).call(this);return!(r.length&&!r.some((t=>e.includes(t))))&&!e.every((e=>t.includes(e)))},Dm=new WeakSet,Fm=function(){an(this,Pm)&&(cn(this,Nm,Rm).call(this),an(this,Pm).on("accountsChanged",this.onAccountsChanged),an(this,Pm).on("chainChanged",this.onChainChanged),an(this,Pm).on("disconnect",this.onDisconnect),an(this,Pm).on("session_delete",this.onDisconnect),an(this,Pm).on("display_uri",this.onDisplayUri),an(this,Pm).on("connect",this.onConnect))},Nm=new WeakSet,Rm=function(){an(this,Pm)&&(an(this,Pm).removeListener("accountsChanged",this.onAccountsChanged),an(this,Pm).removeListener("chainChanged",this.onChainChanged),an(this,Pm).removeListener("disconnect",this.onDisconnect),an(this,Pm).removeListener("session_delete",this.onDisconnect),an(this,Pm).removeListener("display_uri",this.onDisplayUri),an(this,Pm).removeListener("connect",this.onConnect))},Bm=new WeakSet,Lm=function(t){this.storage?.setItem(Wm,t)},jm=new WeakSet,Um=function(){return this.storage?.getItem(Wm)??[]},Gm=new WeakSet,Vm=function(){if(!an(this,Pm))return[];const t=an(this,Pm).session?.namespaces;if(!t)return[];const e=(0,Hm.fK)(t),r=e[qm]?.chains?.map((t=>parseInt(t.split(":")[1]||"")));return r??[]},zm=new WeakSet,$m=function(){if(!an(this,Pm))return[];const t=an(this,Pm).session?.namespaces;if(!t)return[];const e=(0,Hm.fK)(t),r=e[qm]?.methods;return r??[]};class Qm{constructor(t,e){this.wagmi={},this.chains=[],this.namespace="eip155",this.disconnect=io,this.getAccount=mo,this.watchAccount=bo,this.fetchBalance=fo,this.getNetwork=go,this.watchNetwork=vo,this.switchNetwork=yo,this.fetchEnsName=Eo,this.fetchEnsAvatar=wo,this.wagmi=t,this.chains=e}getWalletConnectConnector(){const t=this.wagmi.connectors.find((t=>"walletConnect"===t.id));if(!t)throw new Error("WalletConnectConnector is required");return t}async connectWalletConnectProvider(t,e){return await t.getProvider(),new Promise((r=>{t.once("message",(t=>{"display_uri"===t.type&&(e(t.data),r())}))}))}getConnectorById(t){const e=this.wagmi.connectors.find((e=>e.id===t));if(!e)throw new Error(`Connector for id ${t} was not found`);return e}getConnectors(){return this.wagmi.connectors.filter((t=>!t.id.includes("walletConnect")))}async connectWalletConnect(t,e){const r=this.getWalletConnectConnector(),n={connector:r};return e&&(n.chainId=e),Promise.all([so(n),this.connectWalletConnectProvider(r,t)])}async connectConnector(t,e){const r={connector:this.getConnectorById(t)};return e&&(r.chainId=e),await so(r)}isInjectedProviderInstalled(){return typeof window.ethereum<"u"}safeCheckInjectedProvider(t){var e;try{const r=String(t);return Boolean(null==(e=window.ethereum)?void 0:e[r])}catch(t){return console.error(t),!1}}async getConnectedChainIds(){var t,e,r;const n=null==(e=null==(t=(await this.getWalletConnectConnector().getProvider()).signer)?void 0:t.session)?void 0:e.namespaces,s=null==(r=n?.[this.namespace])?void 0:r.methods;if(null!=s&&s.includes("wallet_addEthereumChain"))return"ALL";if(n){const t=[];return Object.keys(n).forEach((e=>{e.includes(this.namespace)&&t.push(...n[e].accounts)})),t?.map((t=>t.split(":")[1]))}return"ALL"}}function Ym({projectId:t}){return function({rpc:t}){return function(e){const r=t(e);return r&&""!==r.http?{chain:{...e,rpcUrls:{...e.rpcUrls,default:{http:[r.http]}}},rpcUrls:{http:[r.http],webSocket:r.webSocket?[r.webSocket]:void 0}}:null}}({rpc:e=>{var r;return[1,3,4,5,10,42,56,69,97,100,137,280,324,420,42161,42220,43114,80001,421611,421613,1313161554,1313161555].includes(e.id)?{http:`https://rpc.walletconnect.com/v1/?chainId=eip155:${e.id}&projectId=${t}`}:{http:e.rpcUrls.default.http[0],webSocket:null==(r=e.rpcUrls.default.webSocket)?void 0:r[0]}}})}function Zm({chains:t,projectId:e}){return[new Jm({chains:t,options:{projectId:e,showQrModal:!1}}),new zs({chains:t,options:{shimDisconnect:!0}})]}var Xm=r(7190);class tg{constructor(t,e){this.openModal=Xm.jb.open,this.closeModal=Xm.jb.close,this.subscribeModal=Xm.jb.subscribe,this.setTheme=Xm.ThemeCtrl.setThemeConfig,this.setDefaultChain=Xm.OptionsCtrl.setSelectedChain,this.subscribeEvents=Xm.uA.subscribe,Xm.ThemeCtrl.setThemeConfig(t),Xm.Id.setEthereumClient(e),Xm.ConfigCtrl.setConfig(t),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.all([r.e(81),r.e(953)]).then(r.bind(r,953));const t=document.createElement("w3m-modal");document.body.insertAdjacentElement("beforeend",t),Xm.OptionsCtrl.setIsUiLoaded(!0)}}}const eg=new class extends Ce{web3modal;_resolveConnection;_rejectConnection;connected=!1;get address(){return mo().address}constructor(){super(),this.addAllowedEvents("accountChanged")}init(t,e){const{publicClient:r}=Ba(e,[Ym({projectId:t})]),n=function(t){const e=new ro(t);return to=e,e}({autoConnect:!0,connectors:Zm({projectId:t,chains:e}),publicClient:r}),s=new Qm(n,e);this.web3modal=new tg({projectId:t,themeMode:"dark",themeVariables:{"--w3m-accent-color":"#9B4CFF","--w3m-background-color":"#9B4CFF","--w3m-z-index":"999999"}},s),this.web3modal.subscribeModal((t=>{!1===t.open&&this._rejectConnection&&(this._rejectConnection(new Error("User closed wallet modal")),this._rejectConnection=void 0,this._resolveConnection=void 0)})),this.connected=void 0!==this.address;let i=this.address;bo((t=>{this.connected=void 0!==t.address,this.connected&&this._resolveConnection&&(this._resolveConnection(),this._resolveConnection=void 0,this._rejectConnection=void 0),i!==t.address&&(this.fireEvent("accountChanged"),i=t.address)}))}async signMessage(t){if(!this.address)throw new Error("Wallet is not connected");return await async function(t){const e=await co();if(!e)throw new Zr;return await e.signMessage({message:t.message})}({message:t})}async connect(){return void 0!==this.address&&(this.connected=!0,this.fireEvent("accountChanged")),new Promise(((t,e)=>{this._resolveConnection=t,this._rejectConnection=e,this.web3modal.openModal()}))}async getBalance(){if(!this.address)throw new Error("Wallet is not connected");return(await fo({address:this.address})).value}};const rg=new class extends Qr{constructor(){super("users_public","*",50)}};const ng=new class extends Jr{async fetchUser(t){return await rg.fetchUser(t)}get walletLinked(){return void 0!==this.user?.wallet_address}async signIn(){await Te.signIn("twitter")}async linkWallet(){eg.connected||await eg.connect();const t=eg.address;if(!t)throw new Error("Wallet is not connected");const{data:e,error:r}=await Te.client.functions.invoke("new-wallet-linking-nonce",{body:{walletAddress:t}});if(r)throw r;const n=await eg.signMessage(`${Dr.messageForWalletLinking}\n\nNonce: ${e.nonce}`),{error:s}=await Te.client.functions.invoke("link-wallet-to-user",{body:{walletAddress:t,signedMessage:n}});if(s)throw s;this.user&&(this.user.wallet_address=t,this.fireEvent("walletLinked"))}async getContractSigner(){if(!this.user)throw new Error("User not signed in");if(!0!==eg.connected)throw new Error("Wallet not connected");if(!this.user.wallet_address)throw new Error("Wallet not linked");const t=await co();if(!t)throw new Error("Wallet not connected");const{account:e,transport:r}=t;if(e.address!==this.user.wallet_address)throw new Error("Wallet address mismatch");const{chain:n}=go();if(!n)throw new Error("Chain not found");if(n.id!==Dr.blockchain.chainId)throw new Error("Wrong chain");if(n&&e&&r)return new vm(new Am(r,{chainId:n.id,name:n.name,ensAddress:n.contracts?.ensRegistry?.address}),e.address)}};class sg extends Me{constructor(){super(".side-panel");qe(".avatar");this.append(qe("main",qe("header"))),this.onDom("click",(t=>{t.target===this.domElement&&this.delete()})),Oe.append(this)}}class ig extends Me{constructor(t){super(".title-bar-user-display");const e=qe(".avatar");Ir.selectLoadable(e,[t.avatar_thumb,t.stored_avatar_thumb]),this.append(e,qe(".name",t.display_name)),this.onDom("click",(()=>new sg))}}class ag extends Me{titleDisplay;userSection;constructor(){super(".title-bar"),this.append(this.titleDisplay=qe("h1"),this.userSection=qe("section.user")),this.renderUserSection(),this.onDelegate(ng,"walletLinked",(()=>this.renderUserSection()))}renderUserSection(){this.userSection.empty(),ng.signed?ng.walletLinked?this.userSection.append(new ig(ng.user)):this.userSection.append(new nr({tag:".link-wallet",title:"Link wallet",click:async(t,e)=>{e.loading=!0;try{await ng.linkWallet()}catch(t){console.error(t)}e.loading=!1}})):this.userSection.append(new nr({tag:".sign-in",title:"Sign in with 𝕏",click:()=>ng.signIn()}))}set title(t){this.titleDisplay.text=t}set uri(t){["about","topics","creators","groups","points","profile","settings"].includes(t)&&(this.title=hr(`title-${t}`))}}class og extends Cr{static current;static append(t){og.current.content.append(t)}static changeTitle(t){og.current.titleBar.title=t}navBar;titleBar;content;sidebar;constructor(t,e){super(),og.current=this,Oe.append(this.container=qe(".layout",this.navBar=new er({logo:qe("img",{src:"/images/logo-navbar.png"}),menu:[{id:"about",icon:new Xe("info"),title:hr("nav-bar-menu-about"),uri:"/about"},{id:"topics",icon:new Xe("topic"),title:hr("nav-bar-menu-topics"),uri:"/topics"},{id:"creators",icon:new Xe("person"),title:hr("nav-bar-menu-creators"),uri:"/creators"},{id:"groups",icon:new Xe("diversity_3"),title:hr("nav-bar-menu-groups"),uri:"/groups"},{id:"points",icon:new Xe("local_activity"),title:hr("nav-bar-menu-points"),uri:"/points"}]}),qe("main",this.titleBar=new ag,this.content=qe("section.content"),this.sidebar=new Fr))),this.changeUri(e)}changeParams(t,e){this.changeUri(e)}changeUri(t){""===t&&(t="about"),"general"!==t&&-1===t.indexOf("/0x")||(t="chats"),"about"===(t=t.substring(0,-1===t.indexOf("/")?t.length:t.indexOf("/")))||"points"===t||"points/leaderboard"===t?this.sidebar.show():this.sidebar.hide(),this.navBar.active(t),this.titleBar.uri=t}}class lg extends Cr{static current;static append(t){lg.current.content.append(t)}tabs;content;constructor(t,e){super(),lg.current=this,og.append(this.container=qe(".creators-view",this.tabs=new yr([{uri:"creators",label:"My Creators"},{uri:"creators/trending",label:"Trending"},{uri:"creators/top",label:"Top"},{uri:"creators/new",label:"New"}]),this.content=qe("main"))),this.tabs.active(e)}changeParams(t,e){this.tabs.active(e)}}class cg extends Cr{constructor(){super(),lg.append(this.container=qe(".my-creators-view"))}}class hg extends Cr{static current;static append(t){hg.current.content.append(t)}tabs;content;constructor(t,e){super(),hg.current=this,og.append(this.container=qe(".groups-view",this.tabs=new yr([{uri:"groups",label:"My Groups"},{uri:"groups/trending",label:"Trending"},{uri:"groups/top",label:"Top"},{uri:"groups/new",label:"New"}]),this.content=qe("main"))),this.tabs.active(e)}changeParams(t,e){this.tabs.active(e)}}class ug extends Cr{constructor(){super(),hg.append(this.container=qe(".my-groups-view"))}}const dg={"not-signed-in-title":"Not signed in","not-signed-in-message":"You need to sign in to perform this action.","not-signed-in-confirm":"Sign in","login-required-title":"Login Required","login-required-message":"Login required. Would you like to login?","login-required-login-button":"Login with 𝕏","no-wallet-connected-title":"No wallet connected","no-wallet-connected-message":"You need to connect a wallet to perform this action.","no-wallet-linked-title":"No wallet linked","no-wallet-linked-message":"You need to link a wallet to perform this action.","no-wallet-linked-confirm":"Link wallet","wallet-address-mismatch-title":"Wallet address mismatch","wallet-address-mismatch-message":"The wallet address associated with your account and the current crypto wallet address do not match. Please change the crypto wallet address.","invalid-network-title":"Invalid network","invalid-network-message":"You need to be on the {chain} network to perform this action.","file-too-large-alert-title":"File Too Large","file-too-large-alert-message":"Sorry, your file is too large to upload. Our maximum file size limit is {maxFileSize}. Please select a smaller file.","nav-bar-menu-about":"About","nav-bar-menu-topics":"Topics","nav-bar-menu-creators":"Creators","nav-bar-menu-groups":"Groups","nav-bar-menu-points":"Points","title-about":"About","title-topics":"Topics","title-creators":"Creators","title-groups":"Groups","title-points":"Points","title-profile":"Profile","title-settings":"Settings","topic-chat-room-list-empty-message":"No chat rooms for topics","chat-message-list-empty-message":"No messages yet"};class pg extends Cr{tabs;constructor(t,e){super(),og.append(this.container=qe(".points-view",qe("main",this.tabs=new yr([{uri:"points",label:"My Points"},{uri:"points/leaderboard",label:"Leaderboard"}])))),this.tabs.active(e)}changeParams(t,e){this.tabs.active(e)}}class fg extends Cr{constructor(t){super(),og.append(this.container=qe(t+".chat-room-view"))}}var mg;!function(t){t.App="app",t.Discord="discord",t.Telegram="telegram"}(mg||(mg={}));const gg=mg;class yg extends rr{constructor(){super({barrierDismissible:!0}),this.append(new Ue(".popup.login-required-popup",qe("header",qe("h1",hr("login-required-title"))),qe("main",qe("p",hr("login-required-message"))),qe("footer",new nr({type:ir.Text,tag:".cancel",click:()=>this.delete(),title:hr("cancel-button")}),new nr({tag:".login",click:()=>ng.signIn(),title:hr("login-required-login-button")}))))}}const bg=new class extends Kr{constructor(){super("topic_chat_messages",Hr,100)}async upload(t){const e={files:[]};return await Promise.all(t.map((async t=>{if(ng.user)try{const r=await _r.uploadAttachment("topic_chat_upload_files",ng.user.user_id,t,2592e3);e.files?.push({url:r,fileName:t.name,fileType:t.type,fileSize:t.size})}catch(t){throw"Payload too large"===t.error&&new ur({title:hr("file-too-large-alert-title"),message:hr("file-too-large-alert-message",{maxFileSize:"1 MB"})}),t}}))),e}async sendMessage(t,e,r){const n=r.length?await this.upload(r):void 0;return await this.safeInsertAndSelect({source:gg.App,topic:t,message:e,rich:n})}async fetchMessages(t){return await this.safeSelect((e=>e.eq("topic",t).order("id",{ascending:!1})))}};class vg extends Gr{topic;constructor(t){super(".topic-chat-message-form"),this.topic=t}async sendMessage(t,e){if(!ng.signed)throw new yg,new Error("You must be signed in to send messages");return(await bg.sendMessage(this.topic,t,e)).id}}const wg=new class{openAuthorProfile(t){Re.go(`/${t.x_username}`,void 0,t)}getSourceLabel(t){return""}},Eg=JSON.parse('{"v":"5.8.1","fr":30,"ip":0,"op":101,"w":500,"h":500,"nm":"Chat","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Dot Blue 2","parent":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2,"l":2},"a":{"a":0,"k":[271.453,275.959,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[34.374,34.374],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":50,"s":[323.015,275.959],"to":[0,-3.333],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":60,"s":[323.015,255.959],"to":[0,0],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":70,"s":[323.015,275.959],"to":[0,-3.333],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":80,"s":[323.015,255.959],"to":[0,0],"ti":[0,-3.333]},{"t":90,"s":[323.015,275.959]}],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[34.374,34.374],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":48,"s":[271.453,275.959],"to":[0,-3.333],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":58,"s":[271.453,255.959],"to":[0,0],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":68,"s":[271.453,275.959],"to":[0,-3.333],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":78,"s":[271.453,255.959],"to":[0,0],"ti":[0,-3.333]},{"t":88,"s":[271.453,275.959]}],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[34.374,34.374],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":46,"s":[219.891,275.959],"to":[0,-3.333],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":56,"s":[219.891,255.959],"to":[0,0],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":66,"s":[219.891,275.959],"to":[0,-3.333],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":76,"s":[219.891,255.959],"to":[0,0],"ti":[0,-3.333]},{"t":86,"s":[219.891,275.959]}],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":50,"op":350,"st":50,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Chat Box Blue 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":100,"s":[378.74,378.905,0],"to":[0,-8.333,0],"ti":[0,8.333,0]},{"t":110,"s":[378.74,328.905,0]}],"ix":2,"l":2},"a":{"a":0,"k":[107.287,102.946,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":50,"s":[0,0,100]},{"t":60,"s":[100,100,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[3.108,-1.738],[19.156,0.073],[0,56.877],[-59.24,0],[0,-56.898],[8.235,-14.792],[-0.984,-3.35],[0,0],[2.269,-0.696],[0.871,0.311]],"o":[[-3.343,-1.225],[-16.643,9.485],[-59.24,0],[0,-56.877],[59.24,0],[0.016,16.93],[-1.736,3.029],[0,0],[0.696,2.269],[-0.884,0.271],[0,0]],"v":[[64.8,87.773],[54.638,88.581],[0,102.945],[-107.287,0.002],[0,-102.946],[107.287,0.002],[94.753,48.375],[93.576,58.361],[104.748,94.764],[101.899,100.131],[99.196,100.07]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.188235294118,0.698039215686,0.898039215686,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Chat Box White","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":50,"op":350,"st":50,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"White Dot 2","parent":4,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0.135,0,0],"ix":2,"l":2},"a":{"a":0,"k":[228.618,224.219,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[34.374,34.374],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[280.18,224.219],"to":[0,-3.333],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":10,"s":[280.18,204.219],"to":[0,0],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":20,"s":[280.18,224.219],"to":[0,-3.333],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":30,"s":[280.18,204.219],"to":[0,0],"ti":[0,0]},{"t":40,"s":[280.18,224.219]}],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[34.374,34.374],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":-2,"s":[228.618,224.219],"to":[0,-3.333],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":8,"s":[228.618,204.219],"to":[0,0],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":18,"s":[228.618,224.219],"to":[0,-3.333],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":28,"s":[228.618,204.219],"to":[0,0],"ti":[0,0]},{"t":38,"s":[228.618,224.219]}],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[34.374,34.374],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":-4,"s":[177.056,224.219],"to":[0,-3.333],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":6,"s":[177.056,204.219],"to":[0,0],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":16,"s":[177.056,224.219],"to":[0,-3.333],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":26,"s":[177.056,204.219],"to":[0,0],"ti":[0,0]},{"t":36,"s":[177.056,224.219]}],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"White Chat Box 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":1},"o":{"x":0.333,"y":0},"t":50,"s":[121.198,377.343,0],"to":[0,-8.333,0],"ti":[0,8.333,0]},{"t":60,"s":[121.198,327.343,0]}],"ix":2,"l":2},"a":{"a":0,"k":[-107.285,103.124,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":0,"s":[0,0,100]},{"t":10,"s":[100,100,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-3.112,-1.744],[-19.157,0.073],[0,56.976],[59.236,0],[0,-56.98],[-8.24,-14.821],[0.982,-3.347],[0,0],[-2.269,-0.697],[-0.873,0.312]],"o":[[3.348,-1.232],[16.637,9.498],[59.236,0],[0,-56.976],[-59.236,0],[-0.018,16.958],[1.731,3.028],[0,0],[-0.697,2.269],[0.886,0.272],[0,0]],"v":[[-64.811,87.93],[-54.632,88.737],[0.002,103.123],[107.285,0],[0.002,-103.124],[-107.285,0],[-94.747,48.459],[-93.574,58.436],[-104.771,94.929],[-101.925,100.298],[-99.215,100.236]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.835294177485,0.862745157878,0.878431432387,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Blue Chat Box","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Dot Blue","parent":6,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":50,"s":[100]},{"t":60,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2,"l":2},"a":{"a":0,"k":[271.453,275.959,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[34.374,34.374],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[323.015,275.959],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[34.374,34.374],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[271.453,275.959],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[34.374,34.374],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[219.891,275.959],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":51,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Chat Box Blue","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":50,"s":[100]},{"t":60,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[378.74,378.905,0],"to":[0,-8.333,0],"ti":[0,8.333,0]},{"t":10,"s":[378.74,328.905,0]}],"ix":2,"l":2},"a":{"a":0,"k":[107.287,102.946,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":0,"s":[100,100,100]},{"t":10,"s":[100,100,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[3.108,-1.738],[19.156,0.073],[0,56.877],[-59.24,0],[0,-56.898],[8.235,-14.792],[-0.984,-3.35],[0,0],[2.269,-0.696],[0.871,0.311]],"o":[[-3.343,-1.225],[-16.643,9.485],[-59.24,0],[0,-56.877],[59.24,0],[0.016,16.93],[-1.736,3.029],[0,0],[0.696,2.269],[-0.884,0.271],[0,0]],"v":[[64.8,87.773],[54.638,88.581],[0,102.945],[-107.287,0.002],[0,-102.946],[107.287,0.002],[94.753,48.375],[93.576,58.361],[104.748,94.764],[101.899,100.131],[99.196,100.07]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.188235294118,0.698039215686,0.898039215686,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Chat Box White","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":51,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"White Dot","parent":8,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[100]},{"t":10,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0.135,0,0],"ix":2,"l":2},"a":{"a":0,"k":[228.618,224.219,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[34.374,34.374],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[280.18,224.219],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[34.374,34.374],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[228.618,224.219],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[34.374,34.374],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[177.056,224.219],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":11,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"White Chat Box","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[100]},{"t":10,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[121.198,327.343,0],"to":[0,-8.333,0],"ti":[0,8.333,0]},{"t":10,"s":[121.198,277.343,0]}],"ix":2,"l":2},"a":{"a":0,"k":[-107.285,103.124,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":0,"s":[100,100,100]},{"t":10,"s":[100,100,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-3.112,-1.744],[-19.157,0.073],[0,56.976],[59.236,0],[0,-56.98],[-8.24,-14.821],[0.982,-3.347],[0,0],[-2.269,-0.697],[-0.873,0.312]],"o":[[3.348,-1.232],[16.637,9.498],[59.236,0],[0,-56.976],[-59.236,0],[-0.018,16.958],[1.731,3.028],[0,0],[-0.697,2.269],[0.886,0.272],[0,0]],"v":[[-64.811,87.93],[-54.632,88.737],[0.002,103.123],[107.285,0],[0.002,-103.124],[-107.285,0],[-94.747,48.459],[-93.574,58.436],[-104.771,94.929],[-101.925,100.298],[-99.215,100.236]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.835294177485,0.862745157878,0.878431432387,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Blue Chat Box","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":11,"st":0,"bm":0}],"markers":[]}');class xg extends Me{constructor(){super(".message-loading-animation"),this.style({width:80,height:80}),this.append(new Ze(".message-loading-animation",Eg))}}class kg extends $r{topic;channel;constructor(t){super(".topic-chat-message-list",{storeName:`topic-${t}-chat-messages`,signedUserId:ng.user?.user_id,emptyMessage:hr("chat-message-list-empty-message")},wg,new xg),this.topic=t,this.channel=Te.client.channel(`topic-${t}-chat-message-changes`).on("postgres_changes",{event:"INSERT",schema:"public",table:"topic_chat_messages",filter:"topic=eq."+t},(async t=>{const e=await bg.fetchMessage(t.new.id);e&&this.addNewMessage(e)})).subscribe()}async fetchMessages(){return await bg.fetchMessages(this.topic)}delete(){this.channel.unsubscribe(),super.delete()}}const Ag=new class extends br{constructor(){super("topic_keys","*, supply::text, last_fetched_price::text, total_trading_volume::text",50)}async fetchTopicKeys(){return await this.safeSelect((t=>t.order("last_message_sent_at",{ascending:!1})))}async fetchTopicKey(t){return await this.safeSelectSingle((e=>e.eq("topic",t)))}};class Pg extends Me{topic;h1;constructor(t,e){super(".topic-chat-room-header"),this.topic=t,this.append(qe("button.back",new Xe("arrow_back"),{click:()=>history.back()}),this.h1=qe("h1",e?qe("img.image",{src:e}):new Xe("tag"),t)),e||this.fetchTopicImage()}async fetchTopicImage(){const t=await Ag.fetchTopicKey(this.topic);t&&this.h1.empty().append(qe("img.image",{src:t.image_thumb}),this.topic)}}const _g=new class{escape(t){const e=t.match(/\p{L}|\p{N}/gu);return null===e?"":e.join("").toLowerCase()}};class Sg extends fg{constructor(t,e,r){super(".topic-chat-room-view"),this.render(t.topic,r)}changeParams(t,e,r){this.render(t.topic,r)}render(t,e){this.container.deleteClass("mobile-hidden"),t||this.container.addClass("mobile-hidden"),t=t?_g.escape(t):Dr.defaultTopic;const r=new Pg(t,e?.image_thumb),n=new kg(t),s=new vg(t).on("messageSending",((t,e,r)=>{ng.user&&n.messageSending(t,gg.App,ng.user,e,r)})).on("messageSent",((t,e)=>n.messageSent(t,e)));this.container.empty().append(r,n,s)}}class Cg extends Me{store;constructor(t,e){super(t+".chat-room-list"),this.store=new $e(e.storeName),this.domElement.setAttribute("data-empty-message",e.emptyMessage)}}const Tg=BigInt(-1),Ig=BigInt(0),Mg=BigInt(1),Og=BigInt(5),Dg={};let Fg="0000";for(;Fg.length<80;)Fg+=Fg;function Ng(t){let e=Fg;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function Rg(t,e,r){const n=BigInt(e.width);if(e.signed){const e=Mg<<n-Mg;Io(null==r||t>=-e&&t<e,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=t>Ig?Jo(Yo(t,n),n):-Jo(Yo(-t,n),n)}else{const e=Mg<<n;Io(null==r||t>=0&&t<e,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%e+e)%e&e-Mg}return t}function Bg(t){"number"==typeof t&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if("string"==typeof t)if("fixed"===t);else if("ufixed"===t)e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);Mo(s,"invalid fixed format","format",t),e="u"!==s[1],r=parseInt(s[2]),n=parseInt(s[3])}else if(t){const s=t,i=(t,e,r)=>null==s[t]?r:(Mo(typeof s[t]===e,"invalid fixed format ("+t+" not "+e+")","format."+t,s[t]),s[t]);e=i("signed","boolean",e),r=i("width","number",r),n=i("decimals","number",n)}Mo(r%8==0,"invalid FixedNumber width (not byte aligned)","format.width",r),Mo(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);return{signed:e,width:r,decimals:n,name:(e?"":"u")+"fixed"+String(r)+"x"+String(n)}}class Lg{format;#ae;#oe;#le;_value;constructor(t,e,r){Fo(t,Dg,"FixedNumber"),this.#oe=e,this.#ae=r;const n=function(t,e){let r="";t<Ig&&(r="-",t*=Tg);let n=t.toString();if(0===e)return r+n;for(;n.length<=e;)n=Fg+n;const s=n.length-e;for(n=n.substring(0,s)+"."+n.substring(s);"0"===n[0]&&"."!==n[1];)n=n.substring(1);for(;"0"===n[n.length-1]&&"."!==n[n.length-2];)n=n.substring(0,n.length-1);return r+n}(e,r.decimals);Po(this,{format:r.name,_value:n}),this.#le=Ng(r.decimals)}get signed(){return this.#ae.signed}get width(){return this.#ae.width}get decimals(){return this.#ae.decimals}get value(){return this.#oe}#ce(t){Mo(this.format===t.format,"incompatible format; use fixedNumber.toFormat","other",t)}#he(t,e){return t=Rg(t,this.#ae,e),new Lg(Dg,t,this.#ae)}#ue(t,e){return this.#ce(t),this.#he(this.#oe+t.#oe,e)}addUnsafe(t){return this.#ue(t)}add(t){return this.#ue(t,"add")}#de(t,e){return this.#ce(t),this.#he(this.#oe-t.#oe,e)}subUnsafe(t){return this.#de(t)}sub(t){return this.#de(t,"sub")}#pe(t,e){return this.#ce(t),this.#he(this.#oe*t.#oe/this.#le,e)}mulUnsafe(t){return this.#pe(t)}mul(t){return this.#pe(t,"mul")}mulSignal(t){this.#ce(t);const e=this.#oe*t.#oe;return Io(e%this.#le===Ig,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#he(e/this.#le,"mulSignal")}#fe(t,e){return Io(t.#oe!==Ig,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#ce(t),this.#he(this.#oe*this.#le/t.#oe,e)}divUnsafe(t){return this.#fe(t)}div(t){return this.#fe(t,"div")}divSignal(t){Io(t.#oe!==Ig,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#ce(t);const e=this.#oe*this.#le;return Io(e%t.#oe===Ig,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#he(e/t.#oe,"divSignal")}cmp(t){let e=this.value,r=t.value;const n=this.decimals-t.decimals;return n>0?r*=Ng(n):n<0&&(e*=Ng(-n)),e<r?-1:e>r?1:0}eq(t){return 0===this.cmp(t)}lt(t){return this.cmp(t)<0}lte(t){return this.cmp(t)<=0}gt(t){return this.cmp(t)>0}gte(t){return this.cmp(t)>=0}floor(){let t=this.#oe;return this.#oe<Ig&&(t-=this.#le-Mg),t=this.#oe/this.#le*this.#le,this.#he(t,"floor")}ceiling(){let t=this.#oe;return this.#oe>Ig&&(t+=this.#le-Mg),t=this.#oe/this.#le*this.#le,this.#he(t,"ceiling")}round(t){if(null==t&&(t=0),t>=this.decimals)return this;const e=this.decimals-t,r=Og*Ng(e-1);let n=this.value+r;const s=Ng(e);return n=n/s*s,Rg(n,this.#ae,"round"),new Lg(Dg,n,this.#ae)}isZero(){return this.#oe===Ig}isNegative(){return this.#oe<Ig}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Lg.fromString(this.toString(),t)}static fromValue(t,e,r){const n=null==e?0:rl(e),s=Bg(r);let i=Zo(t,"value");const a=n-s.decimals;if(a>0){const e=Ng(a);Io(i%e===Ig,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:t}),i/=e}else a<0&&(i*=Ng(-a));return Rg(i,s,"fromValue"),new Lg(Dg,i,s)}static fromString(t,e){const r=t.match(/^(-?)([0-9]*)\.?([0-9]*)$/);Mo(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",t);const n=Bg(e);let s=r[2]||"0",i=r[3]||"";for(;i.length<n.decimals;)i+=Fg;Io(i.substring(n.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:t}),i=i.substring(0,n.decimals);const a=BigInt(r[1]+s+i);return Rg(a,n,"fromString"),new Lg(Dg,a,n)}static fromBytes(t,e){let r=el(Ro(t,"value"));const n=Bg(e);return n.signed&&(r=Jo(r,n.width)),Rg(r,n,"fromBytes"),new Lg(Dg,r,n)}}const jg=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Ug(t){return function(t,e){let r=18;if("string"==typeof e){const t=jg.indexOf(e);Mo(t>=0,"invalid unit","unit",e),r=3*t}else null!=e&&(r=rl(e,"unit"));return Lg.fromValue(t,r,{decimals:r,width:512}).toString()}(t,18)}class Gg extends Me{lastMessageDisplay;constructor(t,e){super(t+".chat-room-list-item");const r=e.images?qe(".image"):void 0;r&&Ir.selectLoadable(r,e.images),this.append(r,qe("main",qe("header",e.title,qe("span.price"+(void 0===e.isPriceUp?"":e.isPriceUp?".up":".down"),Or.numberWithCommas(Ug(e.price))," ","string"==typeof Dr.blockchain.symbolDisplay?Dr.blockchain.symbolDisplay:Dr.blockchain.symbolDisplay.clone())),this.lastMessageDisplay=qe(".last-message"))).onDom("click",(()=>Re.go(e.uri,void 0,e.routeData))),e.lastMessage&&(this.lastMessage=e.lastMessage)}set lastMessage(t){this.lastMessageDisplay.empty().append(qe(".message",t.message),qe(".sent-at",t.sentAt===je?"":Mr.fromNow(t.sentAt)))}}class Vg extends Gg{constructor(t){super(".topic-chat-room-list-item",{title:qe("h3",t.image_thumb?qe("img.image",{src:t.image_thumb}):new Xe("tag"),t.topic),uri:`/topic/${t.topic}`,routeData:t,price:t.last_fetched_price,isPriceUp:t.is_price_up,lastMessage:{message:t.last_message,sentAt:t.last_message_sent_at}})}}class zg extends Cg{constructor(){super(".topic-chat-room-list",{storeName:"topic-chat-rooms",emptyMessage:hr("topic-chat-room-list-empty-message")});const t=this.store.get("fsesf-cached-topics");if(t&&t.length>0)for(const e of t)this.append(new Vg(e));this.refresh()}async refresh(){this.append(new Je);const t=await Ag.fetchTopicKeys();if(this.store.set("fsesf-cached-topics",t,!0),!this.deleted){this.empty();for(const e of t)this.append(new Vg(e))}}}class $g extends Me{input;constructor(){super("form.topic-search-form"),this.append(qe("label",new Xe("search"),this.input=qe("input",{placeholder:"Enter topic to navigate"}))),this.onDom("submit",(t=>{t.preventDefault();let e=_g.escape(this.input.domElement.value);Re.go(`/topic/${e}`),this.input.domElement.value=""}))}}class Hg extends Cr{constructor(){super(),og.append(this.container=qe(".topics-view",qe("header",new $g),new zg))}}function qg(t,e={}){const{fees:r=t.fees,formatters:n=t.formatters,serializers:s=t.serializers}=e;return{...t,fees:r,formatters:n,serializers:s}}const Wg=qg({id:250,name:"Fantom",network:"fantom",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.ankr.com/fantom"]},public:{http:["https://rpc.ankr.com/fantom"]}},blockExplorers:{etherscan:{name:"FTMScan",url:"https://ftmscan.com"},default:{name:"FTMScan",url:"https://ftmscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:33001987}}}),Kg=qg({id:4002,name:"Fantom Testnet",network:"fantom-testnet",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.testnet.fantom.network"]},public:{http:["https://rpc.testnet.fantom.network"]}},blockExplorers:{etherscan:{name:"FTMScan",url:"https://testnet.ftmscan.com"},default:{name:"FTMScan",url:"https://testnet.ftmscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:8328688}}}),Jg=qg({id:64240,name:"Fantom Sonic Open Testnet",network:"fantom-sonic-testnet",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpcapi.sonic.fantom.network"]},public:{http:["https://rpcapi.sonic.fantom.network"]}},blockExplorers:{default:{name:"Fantom Sonic Open Testnet Explorer",url:"https://public-sonic.fantom.network"}},testnet:!0});async function Qg(t){Dr.blockchain={...t.blockchain,symbolDisplay:"FTM"},Dr.messageForWalletLinking="Link Wallet to Thunder Dome",Dr.defaultTopic="thunderdome",Be.initialize(t.supabaseUrl,t.supabaseAnonKey,t.dev),eg.init(t.walletConnectProjectId,[Wg,Kg,Jg]),await Ve.load(qe("img",{src:"/images/logo-transparent.png"}),[ng.fetchUserOnInit()]),Re.route("**",og),Re.route(["creators","creator/{creatorXUsername}","creators/trending","creators/top","creators/new"],lg),Re.route("creators",cg),Re.route(["groups","group/{groupId}","groups/trending","groups/top","groups/new"],hg),Re.route("groups",ug),Re.route(["topics","topic/{topic}"],Hg),Re.route(["topics","topic/{topic}"],Sg),Re.route(["points","points/leaderboard"],pg),Tr.checkEmailAccess()}hr.setMessages({en:Nr,zh:Br,"zh-tw":jr,"zh-hk":Lr,ja:Rr}),hr.setMessages({en:dg,zh:null,"zh-tw":null,"zh-hk":null,ja:null}),tr.launch()},5168:(t,e,r)=>{"use strict";r.a(t,(async(t,e)=>{try{var n=r(3452);await(0,n.Z)({dev:!1,supabaseUrl:"https://dwzrduviqvesskxhtcbu.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3enJkdXZpcXZlc3NreGh0Y2J1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDY3NzY2MzMsImV4cCI6MjAyMjM1MjYzM30.W6MSBY3IRluB66_VkxEAoGu8Z6R77WRVoX9VcMkhlEc",blockchain:{chainId:64165,name:"Fantom Sonic Builders Testnet",rpc:"https://rpc.sonic.fantom.network/"},walletConnectProjectId:"2c4277f91efc93ebdb6feedbbc322e91"}),e()}catch(t){e(t)}}),1)},1042:()=>{},6445:(t,e,r)=>{"use strict";r.d(e,{Q6:()=>dt});var n="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const s=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),i=4;function a(t){return function(t){let e=0;return()=>t[e++]}(function(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),s=1,i=[0,1];for(let t=1;t<n;t++)i.push(s+=r());let a=r(),o=e;e+=a;let l=0,c=0;function h(){return 0==l&&(c=c<<8|t[e++],l=8),c>>--l&1}const u=2**31,d=u>>>1,p=u-1;let f=0;for(let t=0;t<31;t++)f=f<<1|h();let m=[],g=0,y=u;for(;;){let t=Math.floor(((f-g+1)*s-1)/y),e=0,r=n;for(;r-e>1;){let n=e+r>>>1;t<i[n]?r=n:e=n}if(0==e)break;m.push(e);let a=g+Math.floor(y*i[e]/s),o=g+Math.floor(y*i[e+1]/s)-1;for(;0==((a^o)&d);)f=f<<1&p|h(),a=a<<1&p,o=o<<1&p|1;for(;a&~o&536870912;)f=f&d|f<<1&p>>>1|h(),a=a<<1^d,o=(o^d)<<1|d|1;g=a,y=1+o-a}let b=n-4;return m.map((e=>{switch(e-b){case 3:return b+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return b+256+(t[o++]<<8|t[o++]);case 1:return b+t[o++];default:return e-1}}))}(function(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((t,r)=>e[t.charCodeAt(0)]=r));let r=t.length,n=new Uint8Array(6*r>>3);for(let s=0,i=0,a=0,o=0;s<r;s++)o=o<<6|e[t.charCodeAt(s)],a+=6,a>=8&&(n[i++]=o>>(a-=8));return n}(t)))}function o(t){return 1&t?~t>>1:t>>1}function l(t,e){let r=Array(t);for(let n=0,s=0;n<t;n++)r[n]=s+=o(e());return r}function c(t,e=0){let r=[];for(;;){let n=t(),s=t();if(!s)break;e+=n;for(let t=0;t<s;t++)r.push(e+t);e+=s+1}return r}function h(t){return d((()=>{let e=c(t);if(e.length)return e}))}function u(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(f(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(m(r,t))}return e.flat()}function d(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function p(t,e,r){let n=Array(t).fill().map((()=>[]));for(let s=0;s<e;s++)l(t,r).forEach(((t,e)=>n[e].push(t)));return n}function f(t,e){let r=1+e(),n=e(),s=d(e);return p(s.length,1+t,e).flatMap(((t,e)=>{let[i,...a]=t;return Array(s[e]).fill().map(((t,e)=>{let s=e*n;return[i+e*r,a.map((t=>t+s))]}))}))}function m(t,e){return p(1+e(),1+t,e).map((t=>[t[0],t.slice(1)]))}function g(t){return`{${function(t){return t.toString(16).toUpperCase().padStart(2,"0")}(t)}}`}function y(t){let e=[];for(let r=0,n=t.length;r<n;){let n=t.codePointAt(r);r+=n<65536?1:2,e.push(n)}return e}function b(t){let e=t.length;if(e<4096)return String.fromCodePoint(...t);let r=[];for(let n=0;n<e;)r.push(String.fromCodePoint(...t.slice(n,n+=4096)));return r.join("")}function v(t,e){let r=t.length,n=r-e.length;for(let s=0;0==n&&s<r;s++)n=t[s]-e[s];return n}var w="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const E=44032,x=4352,k=4449,A=4519,P=28,_=21*P,S=E+19*_,C=x+19,T=k+21,I=A+P;function M(t){return t>>24&255}function O(t){return 16777215&t}let D,F,N,R;function B(t){return t>=E&&t<S}function L(t,e){if(t>=x&&t<C&&e>=k&&e<T)return E+(t-x)*_+(e-k)*P;if(B(t)&&e>A&&e<I&&(t-E)%P==0)return t+(e-A);{let r=R.get(t);return r&&(r=r.get(e),r)?r:-1}}function j(t){D||function(){let t=a(w);D=new Map(h(t).flatMap(((t,e)=>t.map((t=>[t,e+1<<24]))))),F=new Set(c(t)),N=new Map,R=new Map;for(let[e,r]of u(t)){if(!F.has(e)&&2==r.length){let[t,n]=r,s=R.get(t);s||(s=new Map,R.set(t,s)),s.set(n,e)}N.set(e,r.reverse())}}();let e=[],r=[],n=!1;function s(t){let r=D.get(t);r&&(n=!0,t|=r),e.push(t)}for(let n of t)for(;;){if(n<128)e.push(n);else if(B(n)){let t=n-E,e=t%_/P|0,r=t%P;s(x+(t/_|0)),s(k+e),r>0&&s(A+r)}else{let t=N.get(n);t?r.push(...t):s(n)}if(!r.length)break;n=r.pop()}if(n&&e.length>1){let t=M(e[0]);for(let r=1;r<e.length;r++){let n=M(e[r]);if(0==n||t<=n){t=n;continue}let s=r-1;for(;;){let r=e[s+1];if(e[s+1]=e[s],e[s]=r,!s)break;if(t=M(e[--s]),t<=n)break}t=M(e[r])}}return e}function U(t){return j(t).map(O)}function G(t){return function(t){let e=[],r=[],n=-1,s=0;for(let i of t){let t=M(i),a=O(i);if(-1==n)0==t?n=a:e.push(a);else if(s>0&&s>=t)0==t?(e.push(n,...r),r.length=0,n=a):r.push(a),s=t;else{let i=L(n,a);i>=0?n=i:0==s&&0==t?(e.push(n),n=a):(r.push(a),s=t)}}return n>=0&&e.push(n,...r),e}(j(t))}const V=45,z=".",$=65039,H=1,q=t=>Array.from(t);function W(t,e){return t.P.has(e)||t.Q.has(e)}class K extends Array{get is_emoji(){return!0}}let J,Q,Y,Z,X,tt,et,rt,nt,st,it,at;function ot(){if(J)return;let t=a(n);const e=()=>c(t),r=()=>new Set(e());J=new Map(u(t)),Q=r(),Y=e(),Z=new Set(e().map((t=>Y[t]))),Y=new Set(Y),X=r(),tt=r();let s=h(t),i=t();const o=()=>new Set(e().flatMap((t=>s[t])).concat(e()));et=d((e=>{let r=d(t).map((t=>t+96));if(r.length){let n=e>=i;return r[0]-=32,r=b(r),n&&(r=`Restricted[${r}]`),{N:r,P:o(),Q:o(),M:!t(),R:n}}})),rt=r(),nt=new Map;let l=e().concat(q(rt)).sort(((t,e)=>t-e));l.forEach(((e,r)=>{let n=t(),s=l[r]=n?l[r-n]:{V:[],M:new Map};s.V.push(e),rt.has(e)||nt.set(e,s)}));for(let{V:t,M:e}of new Set(nt.values())){let r=[];for(let e of t){let t=et.filter((t=>W(t,e))),n=r.find((({G:e})=>t.some((t=>e.has(t)))));n||(n={G:new Set,V:[]},r.push(n)),n.V.push(e),t.forEach((t=>n.G.add(t)))}let n=r.flatMap((t=>q(t.G)));for(let{G:t,V:s}of r){let r=new Set(n.filter((e=>!t.has(e))));for(let t of s)e.set(t,r)}}let p=new Set,f=new Set;const m=t=>p.has(t)?f.add(t):p.add(t);for(let t of et){for(let e of t.P)m(e);for(let e of t.Q)m(e)}for(let t of p)nt.has(t)||f.has(t)||nt.set(t,H);st=new Set(q(p).concat(q(U(p)))),it=function(t){let e=[],r=c(t);return function t({S:r,B:n},s,i){if(!(4&r&&i===s[s.length-1])){2&r&&(i=s[s.length-1]),1&r&&e.push(s);for(let e of n)for(let r of e.Q)t(e,[...s,r],i)}}(function e(n){return{S:t(),B:d((()=>{let n=c(t).map((t=>r[t]));if(n.length)return e(n)})),Q:n}}([]),[]),e}(t).map((t=>K.from(t))).sort(v),at=new Map;for(let t of it){let e=[at];for(let r of t){let t=e.map((t=>{let e=t.get(r);return e||(e=new Map,t.set(r,e)),e}));r===$?e.push(...t):e=t}for(let r of e)r.V=t}}function lt(t){return(ut(t)?"":`${ct(ht([t]))} `)+g(t)}function ct(t){return`"${t}"‎`}function ht(t,e=g){let r=[];var n;n=t[0],ot(),Y.has(n)&&r.push("◌");let s=0,i=t.length;for(let n=0;n<i;n++){let i=t[n];ut(i)&&(r.push(b(t.slice(s,n))),r.push(e(i)),s=n+1)}return r.push(b(t.slice(s,i))),r.join("")}function ut(t){return ot(),X.has(t)}function dt(t){return ft(pt(t,G,vt))}function pt(t,e,r){if(!t)return[];ot();let n=0;return t.split(z).map((t=>{let a=y(t),o={input:a,offset:n};n+=a.length+1;try{let t,n=o.tokens=bt(a,e,r),l=n.length;if(!l)throw new Error("empty label");let c=o.output=n.flat();if(function(t){for(let e=t.lastIndexOf(95);e>0;)if(95!==t[--e])throw new Error("underscore allowed only at start")}(c),!(o.emoji=l>1||n[0].is_emoji)&&c.every((t=>t<128)))!function(t){if(t.length>=4&&t[2]==V&&t[3]==V)throw new Error(`invalid label extension: "${b(t.slice(0,4))}"`)}(c),t="ASCII";else{let e=n.flatMap((t=>t.is_emoji?[]:t));if(e.length){if(Y.has(c[0]))throw yt("leading combining mark");for(let t=1;t<l;t++){let e=n[t];if(!e.is_emoji&&Y.has(e[0]))throw yt(`emoji + combining mark: "${b(n[t-1])} + ${ht([e[0]])}"`)}!function(t){let e=t[0],r=s.get(e);if(r)throw yt(`leading ${r}`);let n=t.length,i=-1;for(let a=1;a<n;a++){e=t[a];let n=s.get(e);if(n){if(i==a)throw yt(`${r} + ${n}`);i=a+1,r=n}}if(i==n)throw yt(`trailing ${r}`)}(c);let r=q(new Set(e)),[a]=function(t){let e=et;for(let r of t){let t=e.filter((t=>W(t,r)));if(!t.length)throw et.some((t=>W(t,r)))?gt(e[0],r):mt(r);if(e=t,1==t.length)break}return e}(r);!function(t,e){for(let r of e)if(!W(t,r))throw gt(t,r);if(t.M){let t=U(e);for(let e=1,r=t.length;e<r;e++)if(Z.has(t[e])){let n=e+1;for(let s;n<r&&Z.has(s=t[n]);n++)for(let r=e;r<n;r++)if(t[r]==s)throw new Error(`duplicate non-spacing marks: ${lt(s)}`);if(n-e>i)throw new Error(`excessive non-spacing marks: ${ct(ht(t.slice(e-1,n)))} (${n-e}/${i})`);e=n}}}(a,e),function(t,e){let r,n=[];for(let t of e){let e=nt.get(t);if(e===H)return;if(e){let n=e.M.get(t);if(r=r?r.filter((t=>n.has(t))):q(n),!r.length)return}else n.push(t)}if(r)for(let e of r)if(n.every((t=>W(e,t))))throw new Error(`whole-script confusable: ${t.N}/${e.N}`)}(a,r),t=a.N}else t="Emoji"}o.type=t}catch(t){o.error=t}return o}))}function ft(t){return t.map((({input:e,error:r,output:n})=>{if(r){let n=r.message;throw new Error(1==t.length?n:`Invalid label ${ct(ht(e))}: ${n}`)}return b(n)})).join(z)}function mt(t){return new Error(`disallowed character: ${lt(t)}`)}function gt(t,e){let r=lt(e),n=et.find((t=>t.P.has(e)));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function yt(t){return new Error(`illegal placement: ${t}`)}function bt(t,e,r){let n=[],s=[];for(t=t.slice().reverse();t.length;){let i=wt(t);if(i)s.length&&(n.push(e(s)),s=[]),n.push(r(i));else{let e=t.pop();if(st.has(e))s.push(e);else{let t=J.get(e);if(t)s.push(...t);else if(!Q.has(e))throw mt(e)}}}return s.length&&n.push(e(s)),n}function vt(t){return t.filter((t=>t!=$))}function wt(t,e){let r,n=at,s=t.length;for(;s&&(n=n.get(t[--s]),n);){let{V:i}=n;i&&(r=i,e&&e.push(...t.slice(s).reverse()),t.length=s)}return r}},7190:(t,e,r)=>{"use strict";r.d(e,{AccountCtrl:()=>A,Id:()=>m,ConfigCtrl:()=>E,zv:()=>p,uA:()=>y,ExplorerCtrl:()=>V,jb:()=>q,OptionsCtrl:()=>v,AV:()=>d,ThemeCtrl:()=>X,ToastCtrl:()=>et,WcConnectionCtrl:()=>$});var n=r(7104);const s=t=>"object"==typeof t&&null!==t,i=new WeakMap,a=new WeakSet,o=(t=Object.is,e=((t,e)=>new Proxy(t,e)),r=(t=>s(t)&&!a.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)),o=(t=>t.configurable&&t.enumerable&&t.writable),l=(t=>{switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t}}),c=new WeakMap,h=((t,e,r=l)=>{const s=c.get(t);if((null==s?void 0:s[0])===e)return s[1];const o=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return(0,n.jc)(o,!0),c.set(t,[e,o]),Reflect.ownKeys(t).forEach((e=>{if(Object.getOwnPropertyDescriptor(o,e))return;const s=Reflect.get(t,e),l={value:s,enumerable:!0,configurable:!0};if(a.has(s))(0,n.jc)(s,!1);else if(s instanceof Promise)delete l.value,l.get=()=>r(s);else if(i.has(s)){const[t,e]=i.get(s);l.value=h(t,e(),r)}Object.defineProperty(o,e,l)})),Object.preventExtensions(o)}),u=new WeakMap,d=[1,1],p=(l=>{if(!s(l))throw new Error("object required");const c=u.get(l);if(c)return c;let f=d[0];const m=new Set,g=(t,e=++d[0])=>{f!==e&&(f=e,m.forEach((r=>r(t,e))))};let y=d[1];const b=t=>(e,r)=>{const n=[...e];n[1]=[t,...n[1]],g(n,r)},v=new Map,w=t=>{var e;const r=v.get(t);r&&(v.delete(t),null==(e=r[1])||e.call(r))},E=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),x=(e,o,l,c,h)=>{if(e&&(t(o,c)||u.has(c)&&t(o,u.get(c))))return;w(l),s(c)&&(c=(0,n.o5)(c)||c);let d=c;if(c instanceof Promise)c.then((t=>{c.status="fulfilled",c.value=t,g(["resolve",[l],t])})).catch((t=>{c.status="rejected",c.reason=t,g(["reject",[l],t])}));else{!i.has(c)&&r(c)&&(d=p(c));const t=!a.has(d)&&i.get(d);t&&((t,e)=>{if(v.has(t))throw new Error("prop listener already exists");if(m.size){const r=e[3](b(t));v.set(t,[e,r])}else v.set(t,[e])})(l,t)}h(d),g(["set",[l],c,o])},k=e(E,{deleteProperty(t,e){const r=Reflect.get(t,e);w(e);const n=Reflect.deleteProperty(t,e);return n&&g(["delete",[e],r]),n},set(t,e,r,n){const s=Reflect.has(t,e),i=Reflect.get(t,e,n);return x(s,i,e,r,(r=>{Reflect.set(t,e,r,n)})),!0},defineProperty(t,e,r){if(o(r)){const n=Reflect.getOwnPropertyDescriptor(t,e);if(!n||o(n))return x(!!n&&"value"in n,null==n?void 0:n.value,e,r.value,(n=>{Reflect.defineProperty(t,e,{...r,value:n})})),!0}return Reflect.defineProperty(t,e,r)}});u.set(l,k);const A=[E,(t=++d[1])=>(y===t||m.size||(y=t,v.forEach((([e])=>{const r=e[1](t);r>f&&(f=r)}))),f),h,t=>{m.add(t),1===m.size&&v.forEach((([t,e],r)=>{if(e)throw new Error("remove already exists");const n=t[3](b(r));v.set(r,[t,n])}));return()=>{m.delete(t),0===m.size&&v.forEach((([t,e],r)=>{e&&(e(),v.set(r,[t]))}))}}];return i.set(k,A),Reflect.ownKeys(l).forEach((t=>{const e=Object.getOwnPropertyDescriptor(l,t);"value"in e&&(k[t]=l[t],delete e.value,delete e.writable),Object.defineProperty(E,t,e)})),k}))=>[p,i,a,t,e,r,o,l,c,h,u,d],[l]=o();function c(t={}){return l(t)}function h(t,e,r){const n=i.get(t);let s;n||console.warn("Please use proxy object");const a=[],o=n[3];let l=!1;const c=o((t=>{a.push(t),r?e(a.splice(0)):s||(s=Promise.resolve().then((()=>{s=void 0,l&&e(a.splice(0))})))}));return l=!0,()=>{l=!1,c()}}const u=c({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),d={state:u,subscribe:t=>h(u,(()=>t(u))),push(t,e){t!==u.view&&(u.view=t,e&&(u.data=e),u.history.push(t))},reset(t){u.view=t,u.history=[t]},replace(t){u.history.length>1&&(u.history[u.history.length-1]=t,u.view=t)},goBack(){if(u.history.length>1){u.history.pop();const[t]=u.history.slice(-1);u.view=t}},setData(t){u.data=t}},p={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",W3M_VERSION:"W3M_VERSION",W3M_PREFER_INJECTED_URL_FLAG:"w3mPreferInjected",RECOMMENDED_WALLET_AMOUNT:9,isMobile:()=>typeof window<"u"&&Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)),isAndroid:()=>p.isMobile()&&navigator.userAgent.toLowerCase().includes("android"),isIos(){const t=navigator.userAgent.toLowerCase();return p.isMobile()&&(t.includes("iphone")||t.includes("ipad"))},isHttpUrl:t=>t.startsWith("http://")||t.startsWith("https://"),isArray:t=>Array.isArray(t)&&t.length>0,formatNativeUrl(t,e,r){if(p.isHttpUrl(t))return this.formatUniversalUrl(t,e,r);let n=t;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r);return`${n}wc?uri=${encodeURIComponent(e)}`},formatUniversalUrl(t,e,r){if(!p.isHttpUrl(t))return this.formatNativeUrl(t,e,r);let n=t;n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r);return`${n}wc?uri=${encodeURIComponent(e)}`},wait:async t=>new Promise((e=>{setTimeout(e,t)})),openHref(t,e){window.open(t,e,"noreferrer noopener")},setWalletConnectDeepLink(t,e){try{localStorage.setItem(p.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(t){try{const[e]=t.split("?");localStorage.setItem(p.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(p.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setWeb3ModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(p.W3M_VERSION,"2.7.1")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var t;const e=null==(t=d.state.data)?void 0:t.Wallet;if(!e)throw new Error('Missing "Wallet" view data');return e},getSwitchNetworkRouterData(){var t;const e=null==(t=d.state.data)?void 0:t.SwitchNetwork;if(!e)throw new Error('Missing "SwitchNetwork" view data');return e},isPreferInjectedFlag:()=>typeof location<"u"&&new URLSearchParams(location.search).has(p.W3M_PREFER_INJECTED_URL_FLAG)};let f;const m={ethereumClient:void 0,setEthereumClient(t){f=t},client(){if(f)return f;throw new Error("ClientCtrl has no client set")}},g=c({enabled:typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),userSessionId:"",events:[],connectedWalletId:void 0}),y={state:g,subscribe:t=>h(g.events,(()=>t(function(t,e){const r=i.get(t);r||console.warn("Please use proxy object");const[n,s,a]=r;return a(n,s(),e)}(g.events[g.events.length-1])))),initialize(){g.enabled&&typeof(null==crypto?void 0:crypto.randomUUID)<"u"&&(g.userSessionId=crypto.randomUUID())},setConnectedWalletId(t){g.connectedWalletId=t},click(t){if(g.enabled){const e={type:"CLICK",name:t.name,userSessionId:g.userSessionId,timestamp:Date.now(),data:t};g.events.push(e)}},track(t){if(g.enabled){const e={type:"TRACK",name:t.name,userSessionId:g.userSessionId,timestamp:Date.now(),data:t};g.events.push(e)}},view(t){if(g.enabled){const e={type:"VIEW",name:t.name,userSessionId:g.userSessionId,timestamp:Date.now(),data:t};g.events.push(e)}}},b=c({selectedChain:void 0,chains:void 0,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1,isPreferInjected:!1}),v={state:b,subscribe:t=>h(b,(()=>t(b))),setChains(t){b.chains=t},getSelectedChain(){const t=m.client().getNetwork().chain;return t&&(b.selectedChain=t),b.selectedChain},setSelectedChain(t){b.selectedChain=t},setIsCustomDesktop(t){b.isCustomDesktop=t},setIsCustomMobile(t){b.isCustomMobile=t},setIsDataLoaded(t){b.isDataLoaded=t},setIsUiLoaded(t){b.isUiLoaded=t},setIsPreferInjected(t){b.isPreferInjected=t}},w=c({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chainImages:void 0,tokenImages:void 0,tokenContracts:void 0,enableNetworkView:!1,enableAccountView:!0,enableExplorer:!0,defaultChain:void 0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),E={state:w,subscribe:t=>h(w,(()=>t(w))),setConfig(t){var e,r;y.initialize(),v.setIsCustomMobile(Boolean(null==(e=t.mobileWallets)?void 0:e.length)),v.setIsCustomDesktop(Boolean(null==(r=t.desktopWallets)?void 0:r.length)),v.setChains(m.client().chains),v.setIsPreferInjected(m.client().isInjectedProviderInstalled()&&p.isPreferInjectedFlag()),t.defaultChain&&v.setSelectedChain(t.defaultChain),p.setWeb3ModalVersionInStorage(),Object.assign(w,t)}},x={async getIdentity(t,e){const{projectId:r}=E.state,n=`https://rpc.walletconnect.com/v1/identity/${t}?chainId=${`eip155:${e}`}&projectId=${r}`;return(await fetch(n)).json()}},k=c({address:void 0,profileName:void 0,profileAvatar:void 0,profileLoading:!1,balanceLoading:!1,balance:void 0,isConnected:!1}),A={state:k,subscribe:t=>h(k,(()=>t(k))),getAccount(){const t=m.client().getAccount();k.address=t.address,k.isConnected=t.isConnected},async fetchProfile(t,e){var r;try{k.profileLoading=!0,k.profileName=null,k.profileAvatar=null;const n=e??k.address,s=1,i=null==(r=v.state.chains)?void 0:r.find((t=>t.id===s));if(n&&i){try{const t=await x.getIdentity(n,s);k.profileName=t.name,k.profileAvatar=t.avatar}catch{const t=await m.client().fetchEnsName({address:n,chainId:s});if(k.profileName=t,t){const e=await m.client().fetchEnsAvatar({name:t,chainId:s});k.profileAvatar=e}}k.profileAvatar&&await t(k.profileAvatar)}}finally{k.profileLoading=!1}},async fetchBalance(t){try{const{chain:e}=m.client().getNetwork(),{tokenContracts:r}=E.state;let n;e&&r&&(n=r[e.id]),k.balanceLoading=!0;const s=t??k.address;if(s){const t=await m.client().fetchBalance({address:s,token:n});k.balance={amount:t.formatted,symbol:t.symbol}}}finally{k.balanceLoading=!1}},setAddress(t){k.address=t},setIsConnected(t){k.isConnected=t},resetBalance(){k.balance=void 0},resetAccount(){k.address=void 0,k.isConnected=!1,k.profileName=void 0,k.profileAvatar=void 0,k.balance=void 0}};var P=Object.defineProperty,_=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,T=(t,e,r)=>e in t?P(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;const I="https://explorer-api.walletconnect.com",M="w3m",O="js-2.7.1";async function D(t,e){const r=((t,e)=>{for(var r in e||(e={}))S.call(e,r)&&T(t,r,e[r]);if(_)for(var r of _(e))C.call(e,r)&&T(t,r,e[r]);return t})({sdkType:M,sdkVersion:O},e),n=new URL(t,I);return n.searchParams.append("projectId",E.state.projectId),Object.entries(r).forEach((([t,e])=>{e&&n.searchParams.append(t,String(e))})),(await fetch(n)).json()}const F={getDesktopListings:async t=>D("/w3m/v1/getDesktopListings",t),getMobileListings:async t=>D("/w3m/v1/getMobileListings",t),getInjectedListings:async t=>D("/w3m/v1/getInjectedListings",t),getAllListings:async t=>D("/w3m/v1/getAllListings",t),getWalletImageUrl:t=>`${I}/w3m/v1/getWalletImage/${t}?projectId=${E.state.projectId}&sdkType=${M}&sdkVersion=${O}`,getAssetImageUrl:t=>`${I}/w3m/v1/getAssetImage/${t}?projectId=${E.state.projectId}&sdkType=${M}&sdkVersion=${O}`};var N=Object.defineProperty,R=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,j=(t,e,r)=>e in t?N(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;const U=p.isMobile(),G=c({wallets:{listings:[],total:0,page:1},injectedWallets:[],search:{listings:[],total:0,page:1},recomendedWallets:[]}),V={state:G,async getRecomendedWallets(){const{explorerRecommendedWalletIds:t,explorerExcludedWalletIds:e}=E.state;if("NONE"===t||"ALL"===e&&!t)return G.recomendedWallets;if(p.isArray(t)){const e={recommendedIds:t.join(",")},{listings:r}=await F.getAllListings(e),n=Object.values(r);n.sort(((e,r)=>t.indexOf(e.id)-t.indexOf(r.id))),G.recomendedWallets=n}else{const t=p.isArray(e),r={page:1,entries:p.RECOMMENDED_WALLET_AMOUNT,version:2,excludedIds:t?e.join(","):void 0},{listings:n}=U?await F.getMobileListings(r):await F.getDesktopListings(r);G.recomendedWallets=Object.values(n)}return G.recomendedWallets},async getWallets(t){const e=((t,e)=>{for(var r in e||(e={}))B.call(e,r)&&j(t,r,e[r]);if(R)for(var r of R(e))L.call(e,r)&&j(t,r,e[r]);return t})({},t),{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:n}=E.state,{recomendedWallets:s}=G;if("ALL"===n)return G.wallets;s.length?e.excludedIds=s.map((t=>t.id)).join(","):p.isArray(r)&&(e.excludedIds=r.join(",")),p.isArray(n)&&(e.excludedIds=[e.excludedIds,n].filter(Boolean).join(","));const{page:i,search:a}=t,{listings:o,total:l}=U?await F.getMobileListings(e):await F.getDesktopListings(e),c=Object.values(o),h=a?"search":"wallets";return G[h]={listings:[...G[h].listings,...c],total:l,page:i??1},{listings:c,total:l}},async getInjectedWallets(){const{listings:t}=await F.getInjectedListings({}),e=Object.values(t);return G.injectedWallets=e,G.injectedWallets},getWalletImageUrl:t=>F.getWalletImageUrl(t),getAssetImageUrl:t=>F.getAssetImageUrl(t),resetSearch(){G.search={listings:[],total:0,page:1}}},z=c({pairingEnabled:!1,pairingUri:"",pairingError:!1}),$={state:z,subscribe:t=>h(z,(()=>t(z))),setPairingUri(t){z.pairingUri=t},setPairingError(t){z.pairingError=t},setPairingEnabled(t){z.pairingEnabled=t}},H=c({open:!1}),q={state:H,subscribe:t=>h(H,(()=>t(H))),open:async t=>new Promise((e=>{const{isUiLoaded:r,isDataLoaded:n,isPreferInjected:s,selectedChain:i}=v.state,{isConnected:a}=A.state,{enableNetworkView:o}=E.state;if($.setPairingEnabled(!0),a||p.removeWalletConnectDeepLink(),null!=t&&t.route)d.reset(t.route);else if(a)d.reset("Account");else if(o)d.reset("SelectNetwork");else{if(s)return m.client().connectConnector("injected",i?.id).catch((t=>console.error(t))),void e();d.reset("ConnectWallet")}const{pairingUri:l}=$.state;if(r&&n&&(l||a))H.open=!0,e();else{const t=setInterval((()=>{const r=v.state,n=$.state;r.isUiLoaded&&r.isDataLoaded&&(n.pairingUri||a)&&(clearInterval(t),H.open=!0,e())}),200)}})),close(){H.open=!1}};var W=Object.defineProperty,K=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,Y=(t,e,r)=>e in t?W(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;const Z=c({themeMode:typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),X={state:Z,subscribe:t=>h(Z,(()=>t(Z))),setThemeConfig(t){const{themeMode:e,themeVariables:r}=t;e&&(Z.themeMode=e),r&&(Z.themeVariables=((t,e)=>{for(var r in e||(e={}))J.call(e,r)&&Y(t,r,e[r]);if(K)for(var r of K(e))Q.call(e,r)&&Y(t,r,e[r]);return t})({},r))}},tt=c({open:!1,message:"",variant:"success"}),et={state:tt,subscribe:t=>h(tt,(()=>t(tt))),openToast(t,e){tt.open=!0,tt.message=t,tt.variant=e},closeToast(){tt.open=!1}}},6127:(t,e,r)=>{"use strict";r.d(e,{E:()=>s});var n=r(6523);function s(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?(0,n.P)(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}},5609:(t,e,r)=>{"use strict";r.d(e,{z:()=>i});var n=r(6127),s=r(6523);function i(t,e){e||(e=t.reduce(((t,e)=>t+e.length),0));const r=(0,n.E)(e);let i=0;for(const e of t)r.set(e,i),i+=e.length;return(0,s.P)(r)}},2818:(t,e,r)=>{"use strict";r.d(e,{m:()=>i});var n=r(7854),s=r(6523);function i(t,e="utf8"){const r=n.Z[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${t}`):(0,s.P)(globalThis.Buffer.from(t,"utf-8"))}},1627:(t,e,r)=>{"use strict";r.d(e,{BB:()=>i.B,mL:()=>s.m,zo:()=>n.z});var n=r(5609),s=r(2818),i=r(466)},466:(t,e,r)=>{"use strict";r.d(e,{B:()=>s});var n=r(7854);function s(t,e="utf8"){const r=n.Z[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(t).substring(1):globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}},6523:(t,e,r)=>{"use strict";function n(t){return null!=globalThis.Buffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}r.d(e,{P:()=>n})},7854:(t,e,r)=>{"use strict";r.d(e,{Z:()=>$t});var n={};r.r(n),r.d(n,{identity:()=>C});var s={};r.r(s),r.d(s,{base2:()=>T});var i={};r.r(i),r.d(i,{base8:()=>I});var a={};r.r(a),r.d(a,{base10:()=>M});var o={};r.r(o),r.d(o,{base16:()=>O,base16upper:()=>D});var l={};r.r(l),r.d(l,{base32:()=>F,base32hex:()=>L,base32hexpad:()=>U,base32hexpadupper:()=>G,base32hexupper:()=>j,base32pad:()=>R,base32padupper:()=>B,base32upper:()=>N,base32z:()=>V});var c={};r.r(c),r.d(c,{base36:()=>z,base36upper:()=>$});var h={};r.r(h),r.d(h,{base58btc:()=>H,base58flickr:()=>q});var u={};r.r(u),r.d(u,{base64:()=>W,base64pad:()=>K,base64url:()=>J,base64urlpad:()=>Q});var d={};r.r(d),r.d(d,{base256emoji:()=>tt});var p={};r.r(p),r.d(p,{sha256:()=>Pt,sha512:()=>_t});var f={};r.r(f),r.d(f,{identity:()=>Ct});var m={};r.r(m),r.d(m,{code:()=>It,decode:()=>Ot,encode:()=>Mt,name:()=>Tt});var g={};r.r(g),r.d(g,{code:()=>Rt,decode:()=>Lt,encode:()=>Bt,name:()=>Nt});var y=function(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),a=i.charCodeAt(0);if(255!==r[a])throw new TypeError(i+" is ambiguous");r[a]=s}var o=t.length,l=t.charAt(0),c=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function u(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;var e=0;if(" "!==t[e]){for(var n=0,s=0;t[e]===l;)n++,e++;for(var i=(t.length-e)*c+1>>>0,a=new Uint8Array(i);t[e];){var h=r[t.charCodeAt(e)];if(255===h)return;for(var u=0,d=i-1;(0!==h||u<s)&&-1!==d;d--,u++)h+=o*a[d]>>>0,a[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=u,e++}if(" "!==t[e]){for(var p=i-s;p!==i&&0===a[p];)p++;for(var f=new Uint8Array(n+(i-p)),m=n;p!==i;)f[m++]=a[p++];return f}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,s=0,i=e.length;s!==i&&0===e[s];)s++,r++;for(var a=(i-s)*h+1>>>0,c=new Uint8Array(a);s!==i;){for(var u=e[s],d=0,p=a-1;(0!==u||d<n)&&-1!==p;p--,d++)u+=256*c[p]>>>0,c[p]=u%o>>>0,u=u/o>>>0;if(0!==u)throw new Error("Non-zero carry");n=d,s++}for(var f=a-n;f!==a&&0===c[f];)f++;for(var m=l.repeat(r);f<a;++f)m+=t.charAt(c[f]);return m},decodeUnsafe:u,decode:function(t){var r=u(t);if(r)return r;throw new Error(`Non-${e} character`)}}};const b=y,v=(new Uint8Array(0),t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")});class w{constructor(t,e,r){this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class E{constructor(t,e,r){if(this.name=t,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=r}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return k(this,t)}}class x{constructor(t){this.decoders=t}or(t){return k(this,t)}decode(t){const e=t[0],r=this.decoders[e];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const k=(t,e)=>new x({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class A{constructor(t,e,r,n){this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=n,this.encoder=new w(t,e,r),this.decoder=new E(t,e,n)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const P=({name:t,prefix:e,encode:r,decode:n})=>new A(t,e,r,n),_=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=b(r,e);return P({prefix:t,name:e,encode:n,decode:t=>v(s(t))})},S=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>P({prefix:e,name:t,encode:t=>((t,e,r)=>{const n="="===e[e.length-1],s=(1<<r)-1;let i="",a=0,o=0;for(let n=0;n<t.length;++n)for(o=o<<8|t[n],a+=8;a>r;)a-=r,i+=e[s&o>>a];if(a&&(i+=e[s&o<<r-a]),n)for(;i.length*r&7;)i+="=";return i})(t,n,r),decode:e=>((t,e,r,n)=>{const s={};for(let t=0;t<e.length;++t)s[e[t]]=t;let i=t.length;for(;"="===t[i-1];)--i;const a=new Uint8Array(i*r/8|0);let o=0,l=0,c=0;for(let e=0;e<i;++e){const i=s[t[e]];if(void 0===i)throw new SyntaxError(`Non-${n} character`);l=l<<r|i,o+=r,o>=8&&(o-=8,a[c++]=255&l>>o)}if(o>=r||255&l<<8-o)throw new SyntaxError("Unexpected end of data");return a})(e,n,r,t)}),C=P({prefix:"\0",name:"identity",encode:t=>{return e=t,(new TextDecoder).decode(e);var e},decode:t=>(t=>(new TextEncoder).encode(t))(t)}),T=S({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),I=S({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),M=_({prefix:"9",name:"base10",alphabet:"0123456789"}),O=S({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),D=S({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),F=S({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),N=S({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),R=S({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),B=S({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),L=S({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),j=S({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),U=S({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),G=S({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),V=S({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),z=_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),$=_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),H=_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),q=_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),W=S({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),K=S({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),J=S({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Q=S({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Y=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Z=Y.reduce(((t,e,r)=>(t[r]=e,t)),[]),X=Y.reduce(((t,e,r)=>(t[e.codePointAt(0)]=r,t)),[]);const tt=P({prefix:"🚀",name:"base256emoji",encode:function(t){return t.reduce(((t,e)=>t+=Z[e]),"")},decode:function(t){const e=[];for(const r of t){const t=X[r.codePointAt(0)];if(void 0===t)throw new Error(`Non-base256emoji character: ${r}`);e.push(t)}return new Uint8Array(e)}});var et=function t(e,r,n){r=r||[];var s=n=n||0;for(;e>=st;)r[n++]=255&e|rt,e/=128;for(;e&nt;)r[n++]=255&e|rt,e>>>=7;return r[n]=0|e,t.bytes=n-s+1,r},rt=128,nt=-128,st=Math.pow(2,31);var it=function t(e,r){var n,s=0,i=0,a=r=r||0,o=e.length;do{if(a>=o)throw t.bytes=0,new RangeError("Could not decode varint");n=e[a++],s+=i<28?(n&ot)<<i:(n&ot)*Math.pow(2,i),i+=7}while(n>=at);return t.bytes=a-r,s},at=128,ot=127;var lt=Math.pow(2,7),ct=Math.pow(2,14),ht=Math.pow(2,21),ut=Math.pow(2,28),dt=Math.pow(2,35),pt=Math.pow(2,42),ft=Math.pow(2,49),mt=Math.pow(2,56),gt=Math.pow(2,63);const yt={encode:et,decode:it,encodingLength:function(t){return t<lt?1:t<ct?2:t<ht?3:t<ut?4:t<dt?5:t<pt?6:t<ft?7:t<mt?8:t<gt?9:10}},bt=(t,e,r=0)=>(yt.encode(t,e,r),e),vt=t=>yt.encodingLength(t),wt=(t,e)=>{const r=e.byteLength,n=vt(t),s=n+vt(r),i=new Uint8Array(s+r);return bt(t,i,0),bt(r,i,n),i.set(e,s),new Et(t,r,e,i)};class Et{constructor(t,e,r,n){this.code=t,this.size=e,this.digest=r,this.bytes=n}}const xt=({name:t,code:e,encode:r})=>new kt(t,e,r);class kt{constructor(t,e,r){this.name=t,this.code=e,this.encode=r}digest(t){if(t instanceof Uint8Array){const e=this.encode(t);return e instanceof Uint8Array?wt(this.code,e):e.then((t=>wt(this.code,t)))}throw Error("Unknown type, must be binary type")}}const At=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Pt=xt({name:"sha2-256",code:18,encode:At("SHA-256")}),_t=xt({name:"sha2-512",code:19,encode:At("SHA-512")}),St=v,Ct={code:0,name:"identity",encode:St,digest:t=>wt(0,St(t))},Tt="raw",It=85,Mt=t=>v(t),Ot=t=>v(t),Dt=new TextEncoder,Ft=new TextDecoder,Nt="json",Rt=512,Bt=t=>Dt.encode(JSON.stringify(t)),Lt=t=>JSON.parse(Ft.decode(t));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const jt={...n,...s,...i,...a,...o,...l,...c,...h,...u,...d};var Ut=r(6127);function Gt(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Vt=Gt("utf8","u",(t=>"u"+new TextDecoder("utf8").decode(t)),(t=>(new TextEncoder).encode(t.substring(1)))),zt=Gt("ascii","a",(t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}),(t=>{t=t.substring(1);const e=(0,Ut.E)(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e})),$t={utf8:Vt,"utf-8":Vt,hex:jt.base16,latin1:zt,ascii:zt,binary:zt,...jt}},589:(t,e,r)=>{"use strict";function n(t){return"string"==typeof t?{address:t,type:"json-rpc"}:t}r.d(e,{T:()=>n})},8411:(t,e,r)=>{"use strict";r.d(e,{R:()=>v});var n=r(589),s=r(6597);const i="0x82ad56cb";var a=r(2671),o=r(7033),l=r(935),c=r(1982),h=r(1106),u=r(6137),d=r(8138),p=r(2675),f=r(9966);var m=r(2090),g=r(6011),y=r(4426),b=r(9362);async function v(t,e){const{account:v=t.account,batch:w=Boolean(t.batch?.multicall),blockNumber:E,blockTag:x="latest",accessList:k,data:A,gas:P,gasPrice:_,maxFeePerGas:S,maxPriorityFeePerGas:C,nonce:T,to:I,value:M,...O}=e,D=v?(0,n.T)(v):void 0;try{(0,b.F)(e);const r=(E?(0,d.eC)(E):void 0)||x,n=t.chain?.formatters?.transactionRequest?.format,a=(n||g.tG)({...(0,m.K)(O,{format:n}),from:D?.address,accessList:k,data:A,gas:P,gasPrice:_,maxFeePerGas:S,maxPriorityFeePerGas:C,nonce:T,to:I,value:M});if(w&&function({request:t}){const{data:e,to:r,...n}=t;return!!e&&(!e.startsWith(i)&&(!!r&&!(Object.values(n).filter((t=>void 0!==t)).length>0)))}({request:a}))try{return await async function(t,e){const{batchSize:r=1024,wait:n=0}="object"==typeof t.batch?.multicall?t.batch.multicall:{},{blockNumber:i,blockTag:a="latest",data:p,multicallAddress:f,to:m}=e;let g=f;if(!g){if(!t.chain)throw new o.pZ;g=(0,u.L)({blockNumber:i,chain:t.chain,contract:"multicall3"})}const b=i?(0,d.eC)(i):void 0,v=b||a,{schedule:w}=(0,y.S)({id:`${t.uid}.${v}`,wait:n,shouldSplitBatch(t){const e=t.reduce(((t,{data:e})=>t+(e.length-2)),0);return e>2*r},fn:async e=>{const r=e.map((t=>({allowFailure:!0,callData:t.data,target:t.to}))),n=(0,h.R)({abi:s.F8,args:[r],functionName:"aggregate3"}),i=await t.request({method:"eth_call",params:[{data:n,to:g},v]});return(0,c.k)({abi:s.F8,args:[r],functionName:"aggregate3",data:i||"0x"})}}),[{returnData:E,success:x}]=await w({data:p,to:m});if(!x)throw new l.VQ({data:E});return"0x"===E?{data:void 0}:{data:E}}(t,{...a,blockNumber:E,blockTag:x})}catch(t){if(!(t instanceof o.pZ||t instanceof o.mm))throw t}const p=await t.request({method:"eth_call",params:r?[a,r]:[a]});return"0x"===p?{data:void 0}:{data:p}}catch(n){const s=function(t){if(!(t instanceof a.G))return;const e=t.walk();return"object"==typeof e.data?e.data.data:e.data}(n),{offchainLookup:i,offchainLookupSignature:o}=await r.e(93).then(r.bind(r,1093));if(s?.slice(0,10)===o&&I)return{data:await i(t,{data:s,to:I})};throw function(t,{docsPath:e,...r}){const n=(()=>{const e=(0,f.k)(t,r);return e instanceof p.cj?t:e})();return new l.cg(n,{docsPath:e,...r})}(n,{...e,account:D,chain:t.chain})}}},6597:(t,e,r)=>{"use strict";r.d(e,{$o:()=>c,F8:()=>n,X$:()=>l,du:()=>a,k3:()=>i,nZ:()=>o});const n=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],s=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],i=[...s,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],a=[...s,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],o=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],l=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],c=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}]},1151:(t,e,r)=>{"use strict";r.d(e,{$:()=>n,Up:()=>s,hZ:()=>i});const n={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},s={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},i={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},3339:(t,e,r)=>{"use strict";r.d(e,{Bd:()=>i,Zn:()=>s,ez:()=>n});const n={gwei:9,wei:18},s={ether:-9,wei:9},i={ether:-18,gwei:-9}},1417:(t,e,r)=>{"use strict";r.d(e,{CI:()=>A,FM:()=>f,Gy:()=>x,KY:()=>w,M4:()=>u,MX:()=>b,S4:()=>v,SM:()=>E,cO:()=>o,dh:()=>k,fM:()=>a,fs:()=>d,gr:()=>h,hn:()=>P,lC:()=>m,mv:()=>g,wM:()=>_,wb:()=>c,xB:()=>l,xL:()=>y,yP:()=>p});var n=r(1909),s=r(9402),i=r(2671);class a extends i.G{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class o extends i.G{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}i.G;class l extends i.G{constructor({data:t,params:e,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${(0,n.h)(e,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=e,this.size=r}}class c extends i.G{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class h extends i.G{constructor({expectedLength:t,givenLength:e,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${e}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class u extends i.G{constructor({expectedSize:t,value:e}){super(`Size of bytes "${e}" (bytes${(0,s.d)(e)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class d extends i.G{constructor({expectedLength:t,givenLength:e}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${e}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}i.G;i.G;class p extends i.G{constructor(t,{docsPath:e}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class f extends i.G{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class m extends i.G{constructor(t,{docsPath:e}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class g extends i.G{constructor(t,{docsPath:e}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class y extends i.G{constructor(t,{docsPath:e}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class b extends i.G{constructor(t,{docsPath:e}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}i.G;class v extends i.G{constructor(t,e){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${(0,n.t)(t.abiItem)}\`, and`,`\`${e.type}\` in \`${(0,n.t)(e.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class w extends i.G{constructor({expectedSize:t,givenSize:e}){super(`Expected bytes${t}, got bytes${e}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class E extends i.G{constructor({abiItem:t,data:e,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join("\n"),{metaMessages:[`Params: (${(0,n.h)(r,{includeName:!0})})`,`Data:   ${e} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=e,this.params=r,this.size=s}}class x extends i.G{constructor({abiItem:t,param:e}){super([`Expected a topic for indexed event parameter${e.name?` "${e.name}"`:""} on event "${(0,n.t)(t,{includeName:!0})}".`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class k extends i.G{constructor(t,{docsPath:e}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class A extends i.G{constructor(t,{docsPath:e}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class P extends i.G{constructor(t){super([`Value "${t}" is not a valid array.`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class _ extends i.G{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}i.G},31:(t,e,r)=>{"use strict";r.d(e,{b:()=>s});var n=r(2671);class s extends n.G{constructor({address:t}){super(`Address "${t}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}},2671:(t,e,r)=>{"use strict";r.d(e,{G:()=>s});var n=r(8167);class s extends Error{constructor(t,e={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:(0,n.bo)()});const r=e.cause instanceof s?e.cause.details:e.cause?.message?e.cause.message:e.details,i=e.cause instanceof s&&e.cause.docsPath||e.docsPath;this.message=[t||"An error occurred.","",...e.metaMessages?[...e.metaMessages,""]:[],...i?[`Docs: https://viem.sh${i}.html${e.docsSlug?`#${e.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join("\n"),e.cause&&(this.cause=e.cause),this.details=r,this.docsPath=i,this.metaMessages=e.metaMessages,this.shortMessage=t}walk(t){return i(this,t)}}function i(t,e){return e?.(t)?t:t&&"object"==typeof t&&"cause"in t?i(t.cause,e):e?null:t}},7033:(t,e,r)=>{"use strict";r.d(e,{Bk:()=>a,Yl:()=>i,mm:()=>s,pZ:()=>o});var n=r(2671);class s extends n.G{constructor({blockNumber:t,chain:e,contract:r}){super(`Chain "${e.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class i extends n.G{constructor({chain:t,currentChainId:e}){super(`The current chain of the wallet (id: ${e}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${e}`,`Expected Chain ID: ${t.id} – ${t.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class a extends n.G{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class o extends n.G{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}n.G},935:(t,e,r)=>{"use strict";r.d(e,{cg:()=>g,uq:()=>y,Lu:()=>b,Dk:()=>v,VQ:()=>w});var n=r(589),s=r(1151),i=r(3680),a=r(1909),o=r(305);function l({abiItem:t,args:e,includeFunctionName:r=!0,includeName:n=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map(((t,r)=>`${n&&t.name?`${t.name}: `:""}${"object"==typeof e[r]?(0,o.P)(e[r]):e[r]}`)).join(", ")})`}var c=r(3058),h=r(7631),u=r(9589),d=r(1417),p=r(2671),f=r(9955),m=r(8167);class g extends p.G{constructor(t,{account:e,docsPath:r,chain:s,data:i,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:d,to:p,value:m}){const g=e?(0,n.T)(e):void 0,y=(0,f.xr)({from:g?.address,to:p,value:void 0!==m&&`${(0,h.d)(m)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:void 0!==o&&`${(0,u.o)(o)} gwei`,maxFeePerGas:void 0!==l&&`${(0,u.o)(l)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${(0,u.o)(c)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class y extends p.G{constructor(t,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o}){const h=(0,c.mE)({abi:e,args:r,name:i}),u=h?l({abiItem:h,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=h?(0,a.t)(h,{includeName:!0}):void 0,p=(0,f.xr)({address:n&&(0,m.CR)(n),function:d,args:u&&"()"!==u&&`${[...Array(i?.length??0).keys()].map((()=>" ")).join("")}${u}`,sender:o});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",p].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=e,this.args=r,this.cause=t,this.contractAddress=n,this.functionName=i,this.sender=o}}class b extends p.G{constructor({abi:t,data:e,functionName:r,message:n}){let o,c,h,u,p;if(e&&"0x"!==e)try{c=(0,i.p)({abi:t,data:e});const{abiItem:r,errorName:n,args:o}=c;if("Error"===n)u=o[0];else if("Panic"===n){const[t]=o;u=s.$[t]}else{const t=r?(0,a.t)(r,{includeName:!0}):void 0,e=r&&o?l({abiItem:r,args:o,includeFunctionName:!1,includeName:!1}):void 0;h=[t?`Error: ${t}`:"",e&&"()"!==e?`       ${[...Array(n?.length??0).keys()].map((()=>" ")).join("")}${e}`:""]}}catch(t){o=t}else n&&(u=n);o instanceof d.yP&&(p=o.signature,h=[`Unable to decode signature "${p}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${p}.`]),super(u&&"execution reverted"!==u||p?[`The contract function "${r}" reverted with the following ${p?"signature":"reason"}:`,u||p].join("\n"):`The contract function "${r}" reverted.`,{cause:o,metaMessages:h}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=c,this.reason=u,this.signature=p}}class v extends p.G{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class w extends p.G{constructor({data:t,message:e}){super(e||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}},1371:(t,e,r)=>{"use strict";r.d(e,{$:()=>i,m:()=>s});var n=r(2671);class s extends n.G{constructor({offset:t,position:e,size:r}){super(`Slice ${"start"===e?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class i extends n.G{constructor({size:t,targetSize:e,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}},5390:(t,e,r)=>{"use strict";r.d(e,{Cd:()=>i,J5:()=>s,M6:()=>a});var n=r(2671);n.G;n.G;class s extends n.G{constructor({max:t,min:e,signed:r,size:n,value:s}){super(`Number "${s}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${e} to ${t})`:`(above ${e})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}n.G;class i extends n.G{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}n.G;n.G;class a extends n.G{constructor({givenSize:t,maxSize:e}){super(`Size cannot exceed ${e} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}},2675:(t,e,r)=>{"use strict";r.d(e,{C_:()=>u,G$:()=>o,Hh:()=>a,M_:()=>i,WF:()=>d,ZI:()=>l,cj:()=>g,cs:()=>m,dR:()=>p,pZ:()=>f,se:()=>h,vU:()=>c});var n=r(9589),s=r(2671);class i extends s.G{constructor({cause:t,message:e}={}){const r=e?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(i,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(i,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class a extends s.G{constructor({cause:t,maxFeePerGas:e}={}){super(`The fee cap (\`maxFeePerGas\`${e?` = ${(0,n.o)(e)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class o extends s.G{constructor({cause:t,maxFeePerGas:e}={}){super(`The fee cap (\`maxFeePerGas\`${e?` = ${(0,n.o)(e)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class l extends s.G{constructor({cause:t,nonce:e}={}){super(`Nonce provided for the transaction ${e?`(${e}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class c extends s.G{constructor({cause:t,nonce:e}={}){super([`Nonce provided for the transaction ${e?`(${e}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class h extends s.G{constructor({cause:t,nonce:e}={}){super(`Nonce provided for the transaction ${e?`(${e}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class u extends s.G{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class d extends s.G{constructor({cause:t,gas:e}={}){super(`The amount of gas ${e?`(${e}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class p extends s.G{constructor({cause:t,gas:e}={}){super(`The amount of gas ${e?`(${e}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class f extends s.G{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class m extends s.G{constructor({cause:t,maxPriorityFeePerGas:e,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${e?` = ${(0,n.o)(e)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${(0,n.o)(r)} gwei`:""}).`].join("\n"),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(m,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class g extends s.G{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}},3731:(t,e,r)=>{"use strict";r.d(e,{Gg:()=>a,W5:()=>c,bs:()=>l,c9:()=>o});var n=r(305),s=r(2671),i=r(8167);class a extends s.G{constructor({body:t,details:e,headers:r,status:s,url:a}){super("HTTP request failed.",{details:e,metaMessages:[s&&`Status: ${s}`,`URL: ${(0,i.Gr)(a)}`,t&&`Request body: ${(0,n.P)(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=s,this.url=a}}class o extends s.G{constructor({body:t,details:e,url:r}){super("WebSocket request failed.",{details:e,metaMessages:[`URL: ${(0,i.Gr)(r)}`,`Request body: ${(0,n.P)(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class l extends s.G{constructor({body:t,error:e,url:r}){super("RPC Request failed.",{cause:e,details:e.message,metaMessages:[`URL: ${(0,i.Gr)(r)}`,`Request body: ${(0,n.P)(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e.code}}class c extends s.G{constructor({body:t,url:e}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,i.Gr)(e)}`,`Request body: ${(0,n.P)(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}},9955:(t,e,r)=>{"use strict";r.d(e,{Bh:()=>h,Yb:()=>u,j3:()=>l,mc:()=>d,mk:()=>c,xY:()=>o,xr:()=>a});var n=r(7631),s=r(9589),i=r(2671);function a(t){const e=Object.entries(t).map((([t,e])=>void 0===e||!1===e?null:[t,e])).filter(Boolean),r=e.reduce(((t,[e])=>Math.max(t,e.length)),0);return e.map((([t,e])=>`  ${`${t}:`.padEnd(r+1)}  ${e}`)).join("\n")}class o extends i.G{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}i.G;class l extends i.G{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",a(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}i.G;i.G;i.G;class c extends i.G{constructor(t,{account:e,docsPath:r,chain:i,data:o,gas:l,gasPrice:c,maxFeePerGas:h,maxPriorityFeePerGas:u,nonce:d,to:p,value:f}){const m=a({chain:i&&`${i?.name} (id: ${i?.id})`,from:e?.address,to:p,value:void 0!==f&&`${(0,n.d)(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:l,gasPrice:void 0!==c&&`${(0,s.o)(c)} gwei`,maxFeePerGas:void 0!==h&&`${(0,s.o)(h)} gwei`,maxPriorityFeePerGas:void 0!==u&&`${(0,s.o)(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=t}}class h extends i.G{constructor({blockHash:t,blockNumber:e,blockTag:r,hash:n,index:s}){let i="Transaction";r&&void 0!==s&&(i=`Transaction at block time "${r}" at index "${s}"`),t&&void 0!==s&&(i=`Transaction at block hash "${t}" at index "${s}"`),e&&void 0!==s&&(i=`Transaction at block number "${e}" at index "${s}"`),n&&(i=`Transaction with hash "${n}"`),super(`${i} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class u extends i.G{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class d extends i.G{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}},8167:(t,e,r)=>{"use strict";r.d(e,{CR:()=>n,Gr:()=>s,bo:()=>i});const n=t=>t,s=t=>t,i=()=>"viem@1.21.3"},2549:(t,e,r)=>{"use strict";r.d(e,{r:()=>h});var n=r(1417),s=r(6731),i=r(9402),a=r(7913),o=r(2050),l=r(4702),c=r(1778);function h(t,e){if("0x"===e&&t.length>0)throw new n.wb;if((0,i.d)(e)&&(0,i.d)(e)<32)throw new n.xB({data:e,params:t,size:(0,i.d)(e)});return function({data:t,params:e}){const r=[];let s=0;for(let a=0;a<e.length;a++){if(s>=(0,i.d)(t))throw new n.xB({data:t,params:e,size:(0,i.d)(t)});const o=e[a],{consumed:l,value:c}=u({data:t,param:o,position:s});r.push(c),s+=l}return r}({data:e,params:t})}function u({data:t,param:e,position:r}){const i=(0,c.S)(e.type);if(i){const[n,s]=i;return function(t,{param:e,length:r,position:n}){if(!r){const r=(0,l.ly)((0,a.tP)(t,n,n+32,{strict:!0})),s=(0,l.ly)((0,a.tP)(t,r,r+32,{strict:!0}));let i=0;const o=[];for(let n=0;n<s;++n){const n=u({data:(0,a.tP)(t,r+32),param:e,position:i});i+=n.consumed,o.push(n.value)}return{value:o,consumed:32}}if(d(e)){const s=(0,c.S)(e.type),i=!s?.[0];let o=0;const h=[];for(let s=0;s<r;++s){const r=(0,l.ly)((0,a.tP)(t,n,n+32,{strict:!0})),c=u({data:(0,a.tP)(t,r),param:e,position:i?o:32*s});o+=c.consumed,h.push(c.value)}return{value:h,consumed:32}}let s=0;const i=[];for(let a=0;a<r;++a){const r=u({data:t,param:e,position:n+s});s+=r.consumed,i.push(r.value)}return{value:i,consumed:s}}(t,{length:n,param:{...e,type:s},position:r})}if("tuple"===e.type)return function(t,{param:e,position:r}){const n=0===e.components.length||e.components.some((({name:t})=>!t)),s=n?[]:{};let i=0;if(d(e)){const o=(0,l.ly)((0,a.tP)(t,r,r+32,{strict:!0}));for(let r=0;r<e.components.length;++r){const l=e.components[r],c=u({data:(0,a.tP)(t,o),param:l,position:i});i+=c.consumed,s[n?r:l?.name]=c.value}return{consumed:32,value:s}}for(let a=0;a<e.components.length;++a){const o=e.components[a],l=u({data:t,param:o,position:r+i});i+=l.consumed,s[n?a:o?.name]=l.value}return{consumed:i,value:s}}(t,{param:e,position:r});if("string"===e.type)return function(t,{position:e}){const r=(0,l.ly)((0,a.tP)(t,e,e+32,{strict:!0})),n=(0,l.ly)((0,a.tP)(t,r,r+32,{strict:!0}));if(0===n)return{consumed:32,value:""};const s=(0,l.rR)((0,o.f)((0,a.tP)(t,r+32,r+32+n,{strict:!0})));return{consumed:32,value:s}}(t,{position:r});if(e.type.startsWith("bytes"))return function(t,{param:e,position:r}){const[n,s]=e.type.split("bytes");if(!s){const e=(0,l.ly)((0,a.tP)(t,r,r+32,{strict:!0})),n=(0,l.ly)((0,a.tP)(t,e,e+32,{strict:!0}));if(0===n)return{consumed:32,value:"0x"};return{consumed:32,value:(0,a.tP)(t,e+32,e+32+n,{strict:!0})}}const i=(0,a.tP)(t,r,r+parseInt(s),{strict:!0});return{consumed:32,value:i}}(t,{param:e,position:r});const h=(0,a.tP)(t,r,r+32,{strict:!0});if(e.type.startsWith("uint")||e.type.startsWith("int"))return function(t,{param:e}){const r=e.type.startsWith("int"),n=parseInt(e.type.split("int")[1]||"256");return{consumed:32,value:n>48?(0,l.y_)(t,{signed:r}):(0,l.ly)(t,{signed:r})}}(h,{param:e});if("address"===e.type)return function(t){return{consumed:32,value:(0,s.x)((0,a.tP)(t,-20))}}(h);if("bool"===e.type)return function(t){return{consumed:32,value:(0,l.XA)(t)}}(h);throw new n.CI(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function d(t){const{type:e}=t;if("string"===e)return!0;if("bytes"===e)return!0;if(e.endsWith("[]"))return!0;if("tuple"===e)return t.components?.some(d);const r=(0,c.S)(t.type);return!(!r||!d({...t,type:r[1]}))}},3680:(t,e,r)=>{"use strict";r.d(e,{p:()=>c});var n=r(1151),s=r(1417),i=r(7913),a=r(5686),o=r(2549),l=r(1909);function c({abi:t,data:e}){const r=(0,i.tP)(e,0,4);if("0x"===r)throw new s.wb;const c=[...t||[],n.Up,n.hZ].find((t=>"error"===t.type&&r===(0,a.o)((0,l.t)(t))));if(!c)throw new s.yP(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:c,args:"inputs"in c&&c.inputs&&c.inputs.length>0?(0,o.r)(c.inputs,(0,i.tP)(e,4)):void 0,errorName:c.name}}},1982:(t,e,r)=>{"use strict";r.d(e,{k:()=>o});var n=r(1417),s=r(2549),i=r(3058);const a="/docs/contract/decodeFunctionResult";function o({abi:t,args:e,functionName:r,data:o}){let l=t[0];if(r&&(l=(0,i.mE)({abi:t,args:e,name:r}),!l))throw new n.xL(r,{docsPath:a});if("function"!==l.type)throw new n.xL(void 0,{docsPath:a});if(!l.outputs)throw new n.MX(l.name,{docsPath:a});const c=(0,s.r)(l.outputs,o);return c&&c.length>1?c:c&&1===c.length?c[0]:void 0}},1778:(t,e,r)=>{"use strict";r.d(e,{E:()=>u,S:()=>f});var n=r(1417),s=r(31),i=r(151),a=r(1466),o=r(4221),l=r(9402),c=r(7913),h=r(8138);function u(t,e){if(t.length!==e.length)throw new n.fs({expectedLength:t.length,givenLength:e.length});const r=function({params:t,values:e}){const r=[];for(let n=0;n<t.length;n++)r.push(d({param:t[n],value:e[n]}));return r}({params:t,values:e}),s=p(r);return 0===s.length?"0x":s}function d({param:t,value:e}){const r=f(t.type);if(r){const[s,i]=r;return function(t,{length:e,param:r}){const s=null===e;if(!Array.isArray(t))throw new n.hn(t);if(!s&&t.length!==e)throw new n.gr({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let i=!1;const o=[];for(let e=0;e<t.length;e++){const n=d({param:r,value:t[e]});n.dynamic&&(i=!0),o.push(n)}if(s||i){const t=p(o);if(s){const e=(0,h.eC)(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?(0,a.zo)([e,t]):e}}if(i)return{dynamic:!0,encoded:t}}return{dynamic:!1,encoded:(0,a.zo)(o.map((({encoded:t})=>t)))}}(e,{length:s,param:{...t,type:i}})}if("tuple"===t.type)return function(t,{param:e}){let r=!1;const n=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],a=d({param:i,value:t[Array.isArray(t)?s:i.name]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?p(n):(0,a.zo)(n.map((({encoded:t})=>t)))}}(e,{param:t});if("address"===t.type)return function(t){if(!(0,i.U)(t))throw new s.b({address:t});return{dynamic:!1,encoded:(0,o.gc)(t.toLowerCase())}}(e);if("bool"===t.type)return function(t){return{dynamic:!1,encoded:(0,o.gc)((0,h.C4)(t))}}(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){return function(t,{signed:e}){return{dynamic:!1,encoded:(0,h.eC)(t,{size:32,signed:e})}}(e,{signed:t.type.startsWith("int")})}if(t.type.startsWith("bytes"))return function(t,{param:e}){const[,r]=e.type.split("bytes"),s=(0,l.d)(t);if(!r){let e=t;return s%32!=0&&(e=(0,o.gc)(e,{dir:"right",size:32*Math.ceil((t.length-2)/2/32)})),{dynamic:!0,encoded:(0,a.zo)([(0,o.gc)((0,h.eC)(s,{size:32})),e])}}if(s!==parseInt(r))throw new n.M4({expectedSize:parseInt(r),value:t});return{dynamic:!1,encoded:(0,o.gc)(t,{dir:"right"})}}(e,{param:t});if("string"===t.type)return function(t){const e=(0,h.$G)(t),r=Math.ceil((0,l.d)(e)/32),n=[];for(let t=0;t<r;t++)n.push((0,o.gc)((0,c.tP)(e,32*t,32*(t+1)),{dir:"right"}));return{dynamic:!0,encoded:(0,a.zo)([(0,o.gc)((0,h.eC)((0,l.d)(e),{size:32})),...n])}}(e);throw new n.dh(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function p(t){let e=0;for(let r=0;r<t.length;r++){const{dynamic:n,encoded:s}=t[r];e+=n?32:(0,l.d)(s)}const r=[],n=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:o}=t[i];a?(r.push((0,h.eC)(e+s,{size:32})),n.push(o),s+=(0,l.d)(o)):r.push(o)}return(0,a.zo)([...r,...n])}function f(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}},1106:(t,e,r)=>{"use strict";r.d(e,{R:()=>c});var n=r(1417),s=r(1466),i=r(5686),a=r(1778),o=r(1909),l=r(3058);function c({abi:t,args:e,functionName:r}){let c=t[0];if(r&&(c=(0,l.mE)({abi:t,args:e,name:r}),!c))throw new n.xL(r,{docsPath:"/docs/contract/encodeFunctionData"});if("function"!==c.type)throw new n.xL(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const h=(0,o.t)(c),u=(0,i.o)(h),d="inputs"in c&&c.inputs?(0,a.E)(c.inputs,e??[]):void 0;return(0,s.SM)([u,d??"0x"])}},1909:(t,e,r)=>{"use strict";r.d(e,{h:()=>i,t:()=>s});var n=r(1417);function s(t,{includeName:e=!1}={}){if("function"!==t.type&&"event"!==t.type&&"error"!==t.type)throw new n.wM(t.type);return`${t.name}(${i(t.inputs,{includeName:e})})`}function i(t,{includeName:e=!1}={}){return t?t.map((t=>function(t,{includeName:e}){if(t.type.startsWith("tuple"))return`(${i(t.components,{includeName:e})})${t.type.slice(5)}`;return t.type+(e&&t.name?` ${t.name}`:"")}(t,{includeName:e}))).join(e?", ":","):""}},3058:(t,e,r)=>{"use strict";r.d(e,{mE:()=>l});var n=r(1417),s=r(8426),i=r(4664),a=r(5686),o=r(151);function l({abi:t,args:e=[],name:r}){const o=(0,s.v)(r,{strict:!1}),l=t.filter((t=>o?"function"===t.type?(0,a.o)(t)===r:"event"===t.type&&(0,i.e)(t)===r:"name"in t&&t.name===r));if(0===l.length)return;if(1===l.length)return l[0];let u;for(const t of l){if(!("inputs"in t))continue;if(!e||0===e.length){if(!t.inputs||0===t.inputs.length)return t;continue}if(!t.inputs)continue;if(0===t.inputs.length)continue;if(t.inputs.length!==e.length)continue;if(e.every(((e,r)=>{const n="inputs"in t&&t.inputs[r];return!!n&&c(e,n)}))){if(u&&"inputs"in u&&u.inputs){const r=h(t.inputs,u.inputs,e);if(r)throw new n.S4({abiItem:t,type:r[0]},{abiItem:u,type:r[1]})}u=t}}return u||l[0]}function c(t,e){const r=typeof t,n=e.type;switch(n){case"address":return(0,o.U)(t);case"bool":return"boolean"===r;case"function":case"string":return"string"===r;default:return"tuple"===n&&"components"in e?Object.values(e.components).every(((e,r)=>c(Object.values(t)[r],e))):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?"number"===r||"bigint"===r:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?"string"===r||t instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)&&(Array.isArray(t)&&t.every((t=>c(t,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")}))))}}function h(t,e,r){for(const n in t){const s=t[n],i=e[n];if("tuple"===s.type&&"tuple"===i.type&&"components"in s&&"components"in i)return h(s.components,i.components,r[n]);const a=[s.type,i.type];if(!(!a.includes("address")||!a.includes("bytes20"))||(a.includes("address")&&a.includes("string")||!(!a.includes("address")||!a.includes("bytes")))&&(0,o.U)(r[n]))return a}}},6731:(t,e,r)=>{"use strict";r.d(e,{K:()=>l,x:()=>o});var n=r(31),s=r(860),i=r(5031),a=r(151);function o(t,e){const r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=(0,i.w)((0,s.qX)(r),"bytes"),a=(e?r.substring(`${e}0x`.length):r).split("");for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&a[t]&&(a[t]=a[t].toUpperCase()),(15&n[t>>1])>=8&&a[t+1]&&(a[t+1]=a[t+1].toUpperCase());return`0x${a.join("")}`}function l(t,e){if(!(0,a.U)(t))throw new n.b({address:t});return o(t,e)}},151:(t,e,r)=>{"use strict";r.d(e,{U:()=>s});const n=/^0x[a-fA-F0-9]{40}$/;function s(t){return n.test(t)}},6137:(t,e,r)=>{"use strict";r.d(e,{L:()=>s});var n=r(7033);function s({blockNumber:t,chain:e,contract:r}){const s=e?.contracts?.[r];if(!s)throw new n.mm({chain:e,contract:{name:r}});if(t&&s.blockCreated&&s.blockCreated>t)throw new n.mm({blockNumber:t,chain:e,contract:{name:r,blockCreated:s.blockCreated}});return s.address}},1466:(t,e,r)=>{"use strict";function n(t){return"string"==typeof t[0]?s(t):function(t){let e=0;for(const r of t)e+=r.length;const r=new Uint8Array(e);let n=0;for(const e of t)r.set(e,n),n+=e.length;return r}(t)}function s(t){return`0x${t.reduce(((t,e)=>t+e.replace("0x","")),"")}`}r.d(e,{SM:()=>s,zo:()=>n})},8426:(t,e,r)=>{"use strict";function n(t,{strict:e=!0}={}){return!!t&&("string"==typeof t&&(e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")))}r.d(e,{v:()=>n})},4221:(t,e,r)=>{"use strict";r.d(e,{gc:()=>i,vk:()=>s});var n=r(1371);function s(t,{dir:e,size:r=32}={}){return"string"==typeof t?i(t,{dir:e,size:r}):function(t,{dir:e,size:r=32}={}){if(null===r)return t;if(t.length>r)throw new n.$({size:t.length,targetSize:r,type:"bytes"});const s=new Uint8Array(r);for(let n=0;n<r;n++){const i="right"===e;s[i?n:r-n-1]=t[i?n:t.length-n-1]}return s}(t,{dir:e,size:r})}function i(t,{dir:e,size:r=32}={}){if(null===r)return t;const s=t.replace("0x","");if(s.length>2*r)throw new n.$({size:Math.ceil(s.length/2),targetSize:r,type:"hex"});return`0x${s["right"===e?"padEnd":"padStart"](2*r,"0")}`}},9402:(t,e,r)=>{"use strict";r.d(e,{d:()=>s});var n=r(8426);function s(t){return(0,n.v)(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}},7913:(t,e,r)=>{"use strict";r.d(e,{tP:()=>a});var n=r(1371),s=r(8426),i=r(9402);function a(t,e,r,{strict:n}={}){return(0,s.v)(t,{strict:!1})?function(t,e,r,{strict:n}={}){o(t,e);const s=`0x${t.replace("0x","").slice(2*(e??0),2*(r??t.length))}`;n&&l(s,e,r);return s}(t,e,r,{strict:n}):function(t,e,r,{strict:n}={}){o(t,e);const s=t.slice(e,r);n&&l(s,e,r);return s}(t,e,r,{strict:n})}function o(t,e){if("number"==typeof e&&e>0&&e>(0,i.d)(t)-1)throw new n.m({offset:e,position:"start",size:(0,i.d)(t)})}function l(t,e,r){if("number"==typeof e&&"number"==typeof r&&(0,i.d)(t)!==r-e)throw new n.m({offset:r,position:"end",size:(0,i.d)(t)})}},2050:(t,e,r)=>{"use strict";function n(t,{dir:e="left"}={}){let r="string"==typeof t?t.replace("0x",""):t,n=0;for(let t=0;t<r.length-1&&"0"===r["left"===e?t:r.length-t-1].toString();t++)n++;return r="left"===e?r.slice(n):r.slice(0,r.length-n),"string"==typeof t?(1===r.length&&"right"===e&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}r.d(e,{f:()=>n})},4702:(t,e,r)=>{"use strict";r.d(e,{XA:()=>c,Yf:()=>o,ly:()=>h,rR:()=>u,y_:()=>l});var n=r(5390),s=r(9402),i=r(2050),a=r(860);function o(t,{size:e}){if((0,s.d)(t)>e)throw new n.M6({givenSize:(0,s.d)(t),maxSize:e})}function l(t,e={}){const{signed:r}=e;e.size&&o(t,{size:e.size});const n=BigInt(t);if(!r)return n;const s=(t.length-2)/2;return n<=(1n<<8n*BigInt(s)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*s,"f")}`)-1n}function c(t,e={}){let r=t;if(e.size&&(o(r,{size:e.size}),r=(0,i.f)(r)),"0x00"===(0,i.f)(r))return!1;if("0x01"===(0,i.f)(r))return!0;throw new n.Cd(r)}function h(t,e={}){return Number(l(t,e))}function u(t,e={}){let r=(0,a.nr)(t);return e.size&&(o(r,{size:e.size}),r=(0,i.f)(r,{dir:"right"})),(new TextDecoder).decode(r)}},860:(t,e,r)=>{"use strict";r.d(e,{O0:()=>c,nr:()=>d,qX:()=>p});var n=r(2671),s=r(8426),i=r(4221),a=r(4702),o=r(8138);const l=new TextEncoder;function c(t,e={}){return"number"==typeof t||"bigint"==typeof t?function(t,e){const r=(0,o.eC)(t,e);return d(r)}(t,e):"boolean"==typeof t?function(t,e={}){const r=new Uint8Array(1);if(r[0]=Number(t),"number"==typeof e.size)return(0,a.Yf)(r,{size:e.size}),(0,i.vk)(r,{size:e.size});return r}(t,e):(0,s.v)(t)?d(t,e):p(t,e)}const h={zero:48,nine:57,A:65,F:70,a:97,f:102};function u(t){return t>=h.zero&&t<=h.nine?t-h.zero:t>=h.A&&t<=h.F?t-(h.A-10):t>=h.a&&t<=h.f?t-(h.a-10):void 0}function d(t,e={}){let r=t;e.size&&((0,a.Yf)(r,{size:e.size}),r=(0,i.vk)(r,{dir:"right",size:e.size}));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,l=new Uint8Array(o);for(let t=0,e=0;t<o;t++){const r=u(s.charCodeAt(e++)),i=u(s.charCodeAt(e++));if(void 0===r||void 0===i)throw new n.G(`Invalid byte sequence ("${s[e-2]}${s[e-1]}" in "${s}").`);l[t]=16*r+i}return l}function p(t,e={}){const r=l.encode(t);return"number"==typeof e.size?((0,a.Yf)(r,{size:e.size}),(0,i.vk)(r,{dir:"right",size:e.size})):r}},8138:(t,e,r)=>{"use strict";r.d(e,{$G:()=>d,C4:()=>l,NC:()=>o,ci:()=>c,eC:()=>h});var n=r(5390),s=r(4221),i=r(4702);const a=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function o(t,e={}){return"number"==typeof t||"bigint"==typeof t?h(t,e):"string"==typeof t?d(t,e):"boolean"==typeof t?l(t,e):c(t,e)}function l(t,e={}){const r=`0x${Number(t)}`;return"number"==typeof e.size?((0,i.Yf)(r,{size:e.size}),(0,s.vk)(r,{size:e.size})):r}function c(t,e={}){let r="";for(let e=0;e<t.length;e++)r+=a[t[e]];const n=`0x${r}`;return"number"==typeof e.size?((0,i.Yf)(n,{size:e.size}),(0,s.vk)(n,{dir:"right",size:e.size})):n}function h(t,e={}){const{signed:r,size:i}=e,a=BigInt(t);let o;i?o=r?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof t&&(o=BigInt(Number.MAX_SAFE_INTEGER));const l="bigint"==typeof o&&r?-o-1n:0;if(o&&a>o||a<l){const e="bigint"==typeof t?"n":"";throw new n.J5({max:o?`${o}${e}`:void 0,min:`${l}${e}`,signed:r,size:i,value:`${t}${e}`})}const c=`0x${(r&&a<0?(1n<<BigInt(8*i))+BigInt(a):a).toString(16)}`;return i?(0,s.vk)(c,{size:i}):c}const u=new TextEncoder;function d(t,e={}){return c(u.encode(t),e)}},9966:(t,e,r)=>{"use strict";r.d(e,{k:()=>i});var n=r(2671),s=r(2675);function i(t,e){const r=(t.details||"").toLowerCase(),i=t.walk((t=>t.code===s.M_.code));return i instanceof n.G?new s.M_({cause:t,message:i.details}):s.M_.nodeMessage.test(r)?new s.M_({cause:t,message:t.details}):s.Hh.nodeMessage.test(r)?new s.Hh({cause:t,maxFeePerGas:e?.maxFeePerGas}):s.G$.nodeMessage.test(r)?new s.G$({cause:t,maxFeePerGas:e?.maxFeePerGas}):s.ZI.nodeMessage.test(r)?new s.ZI({cause:t,nonce:e?.nonce}):s.vU.nodeMessage.test(r)?new s.vU({cause:t,nonce:e?.nonce}):s.se.nodeMessage.test(r)?new s.se({cause:t,nonce:e?.nonce}):s.C_.nodeMessage.test(r)?new s.C_({cause:t}):s.WF.nodeMessage.test(r)?new s.WF({cause:t,gas:e?.gas}):s.dR.nodeMessage.test(r)?new s.dR({cause:t,gas:e?.gas}):s.pZ.nodeMessage.test(r)?new s.pZ({cause:t}):s.cs.nodeMessage.test(r)?new s.cs({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new s.cj({cause:t})}},2090:(t,e,r)=>{"use strict";function n(t,{format:e}){if(!e)return{};const r={};return function e(n){const s=Object.keys(n);for(const i of s)i in t&&(r[i]=t[i]),n[i]&&"object"==typeof n[i]&&!Array.isArray(n[i])&&e(n[i])}(e(t||{})),r}r.d(e,{K:()=>n})},6011:(t,e,r)=>{"use strict";r.d(e,{tG:()=>i});var n=r(8138);const s={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function i(t){return{...t,gas:void 0!==t.gas?(0,n.eC)(t.gas):void 0,gasPrice:void 0!==t.gasPrice?(0,n.eC)(t.gasPrice):void 0,maxFeePerGas:void 0!==t.maxFeePerGas?(0,n.eC)(t.maxFeePerGas):void 0,maxPriorityFeePerGas:void 0!==t.maxPriorityFeePerGas?(0,n.eC)(t.maxPriorityFeePerGas):void 0,nonce:void 0!==t.nonce?(0,n.eC)(t.nonce):void 0,type:void 0!==t.type?s[t.type]:void 0,value:void 0!==t.value?(0,n.eC)(t.value):void 0}}},4664:(t,e,r)=>{"use strict";r.d(e,{e:()=>a});var n=r(860),s=r(2034);var i=r(5031);const a=t=>{return e=(t=>(0,s.r)(t))(t),(0,i.w)((0,n.O0)(e));var e}},5686:(t,e,r)=>{"use strict";r.d(e,{o:()=>o});var n=r(7913),s=r(860),i=r(2034),a=r(5031);const o=t=>{return(0,n.tP)((e=(0,i.r)(t),(0,a.w)((0,s.O0)(e))),0,4);var e}},2034:(t,e,r)=>{"use strict";r.d(e,{r:()=>o});const n=/^tuple(?<array>(\[(\d*)\])*)$/;function s(t){let e=t.type;if(n.test(t.type)&&"components"in t){e="(";const r=t.components.length;for(let n=0;n<r;n++){e+=s(t.components[n]),n<r-1&&(e+=", ")}const i=function(t,e){const r=t.exec(e);return r?.groups}(n,t.type);return e+=`)${i?.array??""}`,s({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function i(t){let e="";const r=t.length;for(let n=0;n<r;n++){e+=s(t[n]),n!==r-1&&(e+=", ")}return e}var a=r(2671);const o=t=>{var e;return function(t){let e=!0,r="",n=0,s="",i=!1;for(let a=0;a<t.length;a++){const o=t[a];if(["(",")",","].includes(o)&&(e=!0),"("===o&&n++,")"===o&&n--,e)if(0!==n)" "!==o?(s+=o,r+=o):","!==t[a-1]&&","!==r&&",("!==r&&(r="",e=!1);else if(" "===o&&["event","function",""].includes(s))s="";else if(s+=o,")"===o){i=!0;break}}if(!i)throw new a.G("Unable to normalize signature.");return s}("string"==typeof t?t:"function"===(e=t).type?`function ${e.name}(${i(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${i(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${i(e.inputs)})`:"error"===e.type?`error ${e.name}(${i(e.inputs)})`:"constructor"===e.type?`constructor(${i(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?"fallback()":"receive() external payable")}},5031:(t,e,r)=>{"use strict";function n(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function s(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function i(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function a(t,e){s(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}r.d(e,{w:()=>B});const o=BigInt(2**32-1),l=BigInt(32);function c(t,e=!1){return e?{h:Number(t&o),l:Number(t>>l&o)}:{h:0|Number(t>>l&o),l:0|Number(t&o)}}function h(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:a}=c(t[s],e);[r[s],n[s]]=[i,a]}return[r,n]}const u=(t,e,r)=>t<<r|e>>>32-r,d=(t,e,r)=>e<<r|t>>>32-r,p=(t,e,r)=>e<<r-32|t>>>64-r,f=(t,e,r)=>t<<r-32|e>>>64-r;const m=t=>t instanceof Uint8Array;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function g(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),!m(t))throw new Error("expected Uint8Array, got "+typeof t);return t}class y{clone(){return this._cloneInto()}}const[b,v,w]=[[],[],[]],E=BigInt(0),x=BigInt(1),k=BigInt(2),A=BigInt(7),P=BigInt(256),_=BigInt(113);for(let t=0,e=x,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],b.push(2*(5*n+r)),v.push((t+1)*(t+2)/2%64);let s=E;for(let t=0;t<7;t++)e=(e<<x^(e>>A)*_)%P,e&k&&(s^=x<<(x<<BigInt(t))-x);w.push(s)}const[S,C]=h(w,!0),T=(t,e,r)=>r>32?p(t,e,r):u(t,e,r),I=(t,e,r)=>r>32?f(t,e,r):d(t,e,r);class M extends y{constructor(t,e,r,s=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,n(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var a;this.state=new Uint8Array(200),this.state32=(a=this.state,new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)))}keccak(){!function(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const n=(e+8)%10,s=(e+2)%10,i=r[s],a=r[s+1],o=T(i,a,1)^r[n],l=I(i,a,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=o,t[e+r+1]^=l}let e=t[2],s=t[3];for(let r=0;r<24;r++){const n=v[r],i=T(e,s,n),a=I(e,s,n),o=b[r];e=t[o],s=t[o+1],t[o]=i,t[o+1]=a}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=S[n],t[1]^=C[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){i(this);const{blockLen:e,state:r}=this,n=(t=g(t)).length;for(let s=0;s<n;){const i=Math.min(e-this.pos,n-s);for(let e=0;e<i;e++)r[this.pos++]^=t[s++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,0!=(128&e)&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){i(this,!1),s(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,s=t.length;n<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-n);t.set(e.subarray(this.posOut,this.posOut+i),n),this.posOut+=i,n+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return n(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(a(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:s,enableXOF:i}=this;return t||(t=new M(e,r,n,i,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=n,t.enableXOF=i,t.destroyed=this.destroyed,t}}const O=(t,e,r)=>function(t){const e=e=>t().update(g(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}((()=>new M(e,t,r))),D=O(1,136,32);var F=r(8426),N=r(860),R=r(8138);function B(t,e){const r=e||"hex",n=D((0,F.v)(t,{strict:!1})?(0,N.O0)(t):t);return"bytes"===r?n:(0,R.NC)(n)}},4426:(t,e,r)=>{"use strict";r.d(e,{S:()=>s});const n=new Map;function s({fn:t,id:e,shouldSplitBatch:r,wait:s=0,sort:i}){const a=async()=>{const e=l();o();const r=e.map((({args:t})=>t));0!==r.length&&t(r).then((t=>{i&&Array.isArray(t)&&t.sort(i);for(let r=0;r<e.length;r++){const{pendingPromise:n}=e[r];n.resolve?.([t[r],t])}})).catch((t=>{for(let r=0;r<e.length;r++){const{pendingPromise:n}=e[r];n.reject?.(t)}}))},o=()=>n.delete(e),l=()=>n.get(e)||[],c=t=>n.set(e,[...l(),t]);return{flush:o,async schedule(t){const e={},n=new Promise(((t,r)=>{e.resolve=t,e.reject=r})),i=r?.([...l().map((({args:t})=>t)),t]);i&&a();return l().length>0?(c({args:t,pendingPromise:e}),n):(c({args:t,pendingPromise:e}),setTimeout(a,s),n)}}}},305:(t,e,r)=>{"use strict";r.d(e,{P:()=>n});const n=(t,e,r)=>JSON.stringify(t,((t,r)=>{const n="bigint"==typeof r?r.toString():r;return"function"==typeof e?e(t,n):n}),r)},9362:(t,e,r)=>{"use strict";r.d(e,{F:()=>l});var n=r(589),s=r(31),i=r(2675),a=r(9955),o=r(151);function l(t){const{account:e,gasPrice:r,maxFeePerGas:l,maxPriorityFeePerGas:c,to:h}=t,u=e?(0,n.T)(e):void 0;if(u&&!(0,o.U)(u.address))throw new s.b({address:u.address});if(h&&!(0,o.U)(h))throw new s.b({address:h});if(void 0!==r&&(void 0!==l||void 0!==c))throw new a.xY;if(l&&l>2n**256n-1n)throw new i.Hh({maxFeePerGas:l});if(c&&l&&c>l)throw new i.cs({maxFeePerGas:l,maxPriorityFeePerGas:c})}},7631:(t,e,r)=>{"use strict";r.d(e,{d:()=>i});var n=r(3339),s=r(6613);function i(t,e="wei"){return(0,s.b)(t,n.ez[e])}},9589:(t,e,r)=>{"use strict";r.d(e,{o:()=>i});var n=r(3339),s=r(6613);function i(t,e="wei"){return(0,s.b)(t,n.Zn[e])}},6613:(t,e,r)=>{"use strict";function n(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[s,i]=[r.slice(0,r.length-e),r.slice(r.length-e)];return i=i.replace(/(0+)$/,""),`${n?"-":""}${s||"0"}${i?`.${i}`:""}`}r.d(e,{b:()=>n})}},__webpack_module_cache__={},webpackQueues,webpackExports,webpackError,resolveQueue,leafPrototypes,getProto,inProgress;function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},webpackQueues="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",webpackExports="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",webpackError="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",resolveQueue=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},__webpack_require__.a=(t,e,r)=>{var n;r&&((n=[]).d=-1);var s,i,a,o=new Set,l=t.exports,c=new Promise(((t,e)=>{a=e,i=t}));c[webpackExports]=l,c[webpackQueues]=t=>(n&&t(n),o.forEach(t),c.catch((t=>{}))),t.exports=c,e((t=>{var e;s=(t=>t.map((t=>{if(null!==t&&"object"==typeof t){if(t[webpackQueues])return t;if(t.then){var e=[];e.d=0,t.then((t=>{r[webpackExports]=t,resolveQueue(e)}),(t=>{r[webpackError]=t,resolveQueue(e)}));var r={};return r[webpackQueues]=t=>t(e),r}}var n={};return n[webpackQueues]=t=>{},n[webpackExports]=t,n})))(t);var r=()=>s.map((t=>{if(t[webpackError])throw t[webpackError];return t[webpackExports]})),i=new Promise((t=>{(e=()=>t(r)).r=0;var i=t=>t!==n&&!o.has(t)&&(o.add(t),t&&!t.d&&(e.r++,t.push(e)));s.map((t=>t[webpackQueues](i)))}));return e.r?i:r()}),(t=>(t?a(c[webpackError]=t):i(l),resolveQueue(n)))),n&&n.d<0&&(n.d=0)},__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},getProto=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,__webpack_require__.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var r=Object.create(null);__webpack_require__.r(r);var n={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var s=2&e&&t;"object"==typeof s&&!~leafPrototypes.indexOf(s);s=getProto(s))Object.getOwnPropertyNames(s).forEach((e=>n[e]=()=>t[e]));return n.default=()=>t,__webpack_require__.d(r,n),r},__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.f={},__webpack_require__.e=t=>Promise.all(Object.keys(__webpack_require__.f).reduce(((e,r)=>(__webpack_require__.f[r](t,e),e)),[])),__webpack_require__.u=t=>t+".js",__webpack_require__.miniCssF=t=>{},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),inProgress={},__webpack_require__.l=(t,e,r,n)=>{if(inProgress[t])inProgress[t].push(e);else{var s,i;if(void 0!==r)for(var a=document.getElementsByTagName("script"),o=0;o<a.length;o++){var l=a[o];if(l.getAttribute("src")==t){s=l;break}}s||(i=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.src=t),inProgress[t]=[e];var c=(e,r)=>{s.onerror=s.onload=null,clearTimeout(h);var n=inProgress[t];if(delete inProgress[t],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((t=>t(r))),e)return e(r)},h=setTimeout(c.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=c.bind(null,s.onerror),s.onload=c.bind(null,s.onload),i&&document.head.appendChild(s)}},__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;__webpack_require__.g.importScripts&&(t=__webpack_require__.g.location+"");var e=__webpack_require__.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&!t;)t=r[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=t})(),(()=>{var t={296:0};__webpack_require__.f.j=(e,r)=>{var n=__webpack_require__.o(t,e)?t[e]:void 0;if(0!==n)if(n)r.push(n[2]);else{var s=new Promise(((r,s)=>n=t[e]=[r,s]));r.push(n[2]=s);var i=__webpack_require__.p+__webpack_require__.u(e),a=new Error;__webpack_require__.l(i,(r=>{if(__webpack_require__.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var s=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+e+" failed.\n("+s+": "+i+")",a.name="ChunkLoadError",a.type=s,a.request=i,n[1](a)}}),"chunk-"+e,e)}};var e=(e,r)=>{var n,s,[i,a,o]=r,l=0;if(i.some((e=>0!==t[e]))){for(n in a)__webpack_require__.o(a,n)&&(__webpack_require__.m[n]=a[n]);if(o)o(__webpack_require__)}for(e&&e(r);l<i.length;l++)s=i[l],__webpack_require__.o(t,s)&&t[s]&&t[s][0](),t[s]=0},r=self.webpackChunk=self.webpackChunk||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var __webpack_exports__=__webpack_require__(5168)})();